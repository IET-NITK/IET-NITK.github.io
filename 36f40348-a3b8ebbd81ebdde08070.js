/*! For license information please see 36f40348-a3b8ebbd81ebdde08070.js.LICENSE.txt */
"use strict";(self.webpackChunkietnitk=self.webpackChunkietnitk||[]).push([[685],{9117:function(e,t,n){n.d(t,{es:function(){return gr},zg:function(){return wi},ou:function(){return F},K4:function(){return lt},pT:function(){return y},El:function(){return ki},E7:function(){return $n},Dc:function(){return si},d9:function(){return _i},Cq:function(){return p},TS:function(){return Di},N4:function(){return $t},Vt:function(){return Fn},W3:function(){return d},zL:function(){return Y},aJ:function(){return J},hu:function(){return ne},Ge:function(){return zi},Pn:function(){return Ze},Er:function(){return je},s3:function(){return Ue},Mx:function(){return oe},TP:function(){return ae},Wq:function(){return se},x5:function(){return re},qu:function(){return le},s2:function(){return Ui},S6:function(){return fe},q7:function(){return he},hX:function(){return be},Ew:function(){return Ce},dF:function(){return Se},cE:function(){return Zi},nM:function(){return tt},kJ:function(){return q},jn:function(){return K},$K:function(){return R},i3:function(){return D},mf:function(){return V},ui:function(){return U},Kn:function(){return B},HD:function(){return Z},cG:function(){return hi},UI:function(){return pe},Uz:function(){return vi},Gm:function(){return di},Bw:function(){return gi},y7:function(){return Li},ZT:function(){return O},u4:function(){return de},WJ:function(){return Xe},L$:function(){return Je},NZ:function(){return Be},re:function(){return qe},Ll:function(){return ze},t8:function(){return Qe},Ng:function(){return zi},_U:function(){return Ri},sC:function(){return Gi}});var i=n(4942),r=n(7326),s=n(8052),a=n(136),o=n(6215),u=n(1120),c=n(2826),h=n(5671),l=n(3144),f=n(3433);n(5674),n(8702);function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(d){return!1}}();return function(){var n,i=(0,u.Z)(e);if(t){var r=(0,u.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,o.Z)(this,n)}}var p,d,g=Object.freeze({__proto__:null,get NAME(){return vr},get VERSION(){return yr},get Slots(){return Fn},get SHA2(){return $t},get AES(){return gr},get L10n(){return $n},get Context(){return Rn},get Data(){return Vn},get Errors(){return An},get Instance(){return Gn},get Value(){return Hn},get Slot(){return Sn},get Condition(){return ii},get ConditionBlock(){return wi},get ConditionBlocksNamespace(){return xi},get Branch(){return ri},get Cluster(){return oi},get RunnerFoundation(){return Di},get Node(){return bi},get NodeBlock(){return _i},get HeadlessBlock(){return ki},get NodeBlocksNamespace(){return Fi},get markdownify(){return pi},get markdownifyTo(){return vi},get markdownifyToString(){return di},get markdownifyToPlainText(){return yi},get markdownifyToURL(){return gi},get MarkdownFeatures(){return si},get isVariable(){return hi},get Storyline(){return Ei},get Moment(){return Ii},get Import(){return Si},get Export(){return Ci},get Namespaces(){return Oi},get mountNamespace(){return Li},get unmountNamespace(){return Ri},get tripetto(){return zi},get block(){return zi},get condition(){return Ui},get validator(){return Gi},get destroy(){return Ki},get fingerprint(){return Zi},get calculateFingerprintAndStencil(){return Vi},get stencil(){return qi},get checksum(){return ji},get powSolve(){return er},get powVerify(){return tr},get powHashRate(){return nr},get powSpentTime(){return ir},get powDuration(){return rr},get Await(){return hn},get Callback(){return cn},get arrayItem(){return Y},get arraySize(){return J},get assert(){return ne},get call(){return xe},get callAsync(){return Me},get callBind(){return Ee},get callEx(){return Ie},get callFunction(){return Pe},get callPromise(){return Te},get cancelFrame(){return Ze},get cancelInterval(){return Ke},get cancelPromise(){return He},get cancelTick(){return Oe},get cancelTimeout(){return De},get cancelUIInterval(){return je},get cancelUITimeout(){return Ue},get cast(){return ie},get castToBoolean(){return oe},get castToFloat(){return ae},get castToNumber(){return se},get castToString(){return re},get clone(){return ue},get compare(){return le},get count(){return _e},get createInstanceOf(){return ot},get each(){return fe},get eachReverse(){return me},get extend(){return ce},get extendImmutable(){return he},get filter(){return be},get find(){return we},get findFirst(){return Ce},get findLast(){return Se},get firstArrayItem(){return X},get forEach(){return ke},get get(){return et},get getAny(){return tt},get getBoolean(){return nt},get getFloat(){return st},get getNumber(){return rt},get getString(){return it},get has(){return ge},get hasOneOrMore(){return ye},get hasOnly(){return ve},get isArray(){return q},get isArrayOrCollection(){return W},get isBoolean(){return K},get isCollection(){return j},get isDate(){return $},get isDefined(){return R},get isError(){return te},get isFilledString(){return D},get isFloat(){return G},get isFunction(){return V},get isNull(){return H},get isNumber(){return z},get isNumberFinite(){return U},get isObject(){return B},get isRegEx(){return ee},get isString(){return Z},get isUndefined(){return L},get lastArrayItem(){return Q},get map(){return pe},get noop(){return O},get reduce(){return de},get scheduleAction(){return Xe},get scheduleAndCancelFrame(){return Ve},get scheduleAndCancelPromise(){return Re},get scheduleAndCancelTick(){return Fe},get scheduleAnimation(){return Je},get scheduleEvent(){return Ye},get scheduleFrame(){return Be},get scheduleInterval(){return Ge},get scheduleNumberOfFrames(){return We},get schedulePromise(){return Le},get scheduleTick(){return Ae},get scheduleTimeout(){return Ne},get scheduleUIInterval(){return qe},get scheduleUITimeout(){return ze},get set(){return Qe},get setAny(){return $e},get stringLength(){return N},get Console(){return _},get Environment(){return k},get Num(){return p},get Str(){return d},get DateTime(){return F},get Flags(){return ut},get Enumerator(){return y},get Debounce(){return lt},get Limiter(){return ct},get Throttle(){return ht},get Stack(){return ft},get DEBUG(){return mt},get disableDebugging(){return dt},get enableDebugging(){return pt}});!function(e){function t(e,t){var n=Math.pow(10,t||0);return U(e)?Math.round(se((e*n).toFixed(1)))/n:0}e.round=function(e){return U(e)?Math.round(e):0},e.floor=function(e){return U(e)?Math.floor(e):0},e.ceil=function(e){return U(e)?Math.ceil(e):0},e.conform=t,e.positive=function(e){return U(e)&&e>0?e:0},e.negative=function(e){return U(e)&&e<0?e:0},e.max=function(e,t){return U(e)&&U(t)?Math.max(e,t):U(e)?e:U(t)?t:0},e.maxL=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=J(t),r=NaN;if(i>0)for(var s=0;s<i;s++){var a=t[s];U(a)&&(!U(r)||a>r)&&(r=a)}return U(r)?r:0},e.min=function(e,t){return U(e)&&U(t)?Math.min(e,t):U(e)?e:U(t)?t:0},e.minL=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=J(t),r=NaN;if(i>0)for(var s=0;s<i;s++){var a=t[s];U(a)&&(!U(r)||a<r)&&(r=a)}return U(r)?r:0},e.range=function(e,t,n){return U(e)?(U(n)&&t>n&&(t=n),U(t)&&e<t?t:U(n)&&e>n?n:e):U(t)?t:U(n)?n:0},e.inRange=function(e,t,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return U(e)&&(i?e>=t:e>t)&&(r?e<=n:e<n)},e.format=function(e){var n,i,r,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:",",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"-",c="";if(-1!=="".concat(e="auto"===s?ae(e):t(ae(e),s)).indexOf("e"))if(-1!=="".concat(e).indexOf("e-"))for(var h=e,l=20;l>=0&&(e=h.toFixed(l).replace(/(0*$)/g,"")||"0",parseFloat(e)!==h);l--);else e=e<0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER;if(i=(n=re(e).replace("-",u).split("."))[0],r=J(n)>=2?n[1]:"",D(a))for(var f=N(i)-1,m=0;f>=0;f--)c=i.charAt(f)+(3===m&&i.charAt(f)!==u?a:"")+c,3===m&&(m=0),m++;else c=i;if(("auto"===s||s>0)&&((r||"auto"!==s)&&(c+=o+r),"auto"!==s))for(s-=N(r);s>0;)c+="0",s--;return c}}(p||(p={})),function(e){function t(e){return D(e)?e.toLowerCase():""}function n(e){return D(e)?e.replace(/(^\s*)|(\s*$)/g,""):""}function i(e){return D(e)?e.replace(/(\s*$)/g,""):""}function r(e){return D(e)?e.replace(/[^\S\r\n\.]{2,}/g," ").replace(/\n[^\S\r\n\.]/g,"\n"):""}function s(e){return r(n(e))}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return e=re(e),U(t)&&t>0&&t<N(e)?D(n)?i(e.substr(0,t))+n:e.substr(0,t):e}function o(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s="",a=0;return e=re(e),n=re(n),fe(r?t(e).split(t(n)):e.split(n),(function(t){var r=N(t);s+=(a>0?i:"")+e.substr(a,r),a+=r+N(n)})),s}function u(e){var t,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,s="";if(e){var a,o;j(e)?a=e:q(e)||(o=Object.keys(e));for(var u=(o||a||e).length,c=arguments.length,h=new Array(c>3?c-3:0),l=3;l<c;l++)h[l-3]=arguments[l];for(var m=0;m<u;m++)s+=(""===s?"":i)+re(r?xe.apply(void 0,[r].concat((0,f.Z)((t=o?o[m]:m,n=h.slice(0),Z(t)?n.unshift(e[t]):a?n.unshift(a.item(t)):n.unshift(e[t]),n)))):o?e[o[m]]:a?a.item(m):e[m])}return s}e.lowercase=t,e.uppercase=function(e){return D(e)?e.toUpperCase():""},e.capitalize=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"first-character",i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(i&&(e=t(e)),D(e)){var r="each-sentence"===n?e.split("."):[e];return fe(r,(function(e){var t="";if("each-word"!==n){for(var i=e.toString(),r=0;r<N(i);){var s=i.charAt(r);if(" "!==s&&"\t"!==s&&"\r"!==s&&"\n"!==s&&"."!==s){i=i.substr(0,r)+i.substr(r,1).toUpperCase()+i.substr(r+1);break}r++}t+=(0===r?" ":"")+i}else t=e.replace(/(^|[\s`~!@#$%^&+\-*=_()[\]{};:'"\\|,<.>\/?])[^\s`~!@#$%^&+\-*=_()[\]{};:'"\\|,<.>\/?]/g,(function(e){return e.toUpperCase()}));return t}),{replace:!0}),s(u(r,"."))}return""},e.trim=n,e.trimLeft=function(e){return D(e)?e.replace(/(^\s*)/g,""):""},e.trimRight=i,e.trimMultiple=r,e.sanitize=s,e.removeWhitespaces=function(e){return D(e)?e.replace(/\s/g,""):""},e.limit=a,e.replace=o,e.replaceMultiple=function(e,t,n,i){return e=re(e),fe(t,(function(t){e=o(e,t,n,i)})),e},e.makeHTMLSafe=function(e){return re(e).replace(/[<>]/g,(function(e){return"<"===e?"&lt;":"&gt;"}))},e.CRLFToHTML=function(e){return re(e).replace(/(\r\n|[\r\n])/g,"<br />")},e.iterateToString=u,e.extract=function(e,n){var i=re(n.left);if(e=re(e),D(i)){var r=(n.ignoreCase?t(e):e).indexOf(n.ignoreCase?t(i):i);if(-1!==r&&""!==(e=e.substr(r+N(i)))){var s=D(n.right)?n.fromEnd?(n.ignoreCase?t(e):e).lastIndexOf(n.ignoreCase?t(n.right):n.right):(n.ignoreCase?t(e):e).indexOf(n.ignoreCase?t(n.right):n.right):N(e);if(-1!==s)return e.substr(0,s)}}return""},e.fill=function(e,t){var n="";for(e=re(e),t=se(t);t>0;)n+=e,t--;return n},e.padLeft=function(e,t,n,i,r){var s=re(r||U(e)?se(e):e);if(Z(t)&&U(n)&&N(t)>=1){var a,o="";if(a=(r||U(e))&&"-"===s.charAt(0),i&&N(s)>n)return s.substr(N(s)-n);if(N(s)>=n)return s;a&&(s=s.substr(1));do{o+=t}while(N(o)<n);return(a?"-":"")+(o+s).substr(N(o+s)+(a?1:0)-n)}return s},e.padRight=function(e,t,n,i){var r=re(e);if(Z(t)&&U(n)&&N(t)>=1){if(r=re(r),i&&N(r)>n)return a(r,n);if(N(r)>=n)return r;for(;N(r)<n;)r=a(r+t,n)}return r},e.djb2Hash=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=N(e),i=0,r=5381;i<n;)r=33*r^e.charCodeAt(i),i++;return t+(r>>>0).toString(36)}}(d||(d={}));var v=function(){function e(t){(0,h.Z)(this,e),this.m_fnScheduler=t,this.m_pStack=[],this.m_nCall=0,this.m_nOffset=0}return(0,l.Z)(e,[{key:"call",value:function(){for(var e=this,t=this.m_pStack.length,n=0;n<t;n++){var i=this.m_pStack[n];i&&i.callee&&i.callee.apply(i,(0,f.Z)(i.arguments))}this.m_pStack.splice(0,t),this.m_pStack.length>0?(this.m_nOffset=this.m_nCall-this.m_pStack.length+1,this.m_fnScheduler((function(){return e.call()}))):this.m_nOffset=0}},{key:"schedule",value:function(e){for(var t=this,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return e?(this.m_nCall++,this.m_pStack.push({callee:e,arguments:i}),0===this.m_nOffset&&(this.m_nOffset=this.m_nCall,this.m_fnScheduler((function(){return t.call()}))),this.m_nCall):0}},{key:"cancel",value:function(e){this.m_nOffset>0&&e>=this.m_nOffset&&e<=this.m_nCall&&(this.m_pStack[e-this.m_nOffset]=void 0)}}]),e}(),y=function(){function e(){(0,h.Z)(this,e),this.m_nEnumerator=0}return(0,l.Z)(e,[{key:"n",get:function(){return this.m_nEnumerator===Number.MAX_VALUE&&(this.m_nEnumerator=0),++this.m_nEnumerator},set:function(e){e>this.m_nEnumerator&&e<=Number.MAX_VALUE&&(this.m_nEnumerator=e)}},{key:"recycle",value:function(){this.m_nEnumerator=Number.MAX_VALUE}}],[{key:"n",get:function(){return this.m_nEnumerator===Number.MAX_VALUE&&(this.m_nEnumerator=0),++this.m_nEnumerator}},{key:"recycle",value:function(){this.m_nEnumerator=Number.MAX_VALUE}}]),e}();y.m_nEnumerator=0;var _,k,b="undefined"!=typeof process&&process&&process.nextTick?function(e){process.nextTick(e)}:"undefined"!=typeof Promise&&Promise?function(e){Promise.resolve().then(e)}:function(e){setTimeout(e,0)},C="undefined"!=typeof Promise&&Promise?function(e){Promise.resolve().then(e)}:"undefined"!=typeof process&&process&&process.nextTick?function(e){process.nextTick(e)}:function(e){setTimeout(e,0)},S="undefined"!=typeof requestAnimationFrame?function(e){return requestAnimationFrame(e)||0}:function(e){return setTimeout(e,1e3/60)||0},w="undefined"!=typeof window,x="undefined"==typeof window&&"undefined"!=typeof process,M="undefined"!=typeof self&&"function"==typeof postMessage,T=new v(b),I=new v(S),E=new v(C),P={},A=new y,F=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;(0,h.Z)(this,e),t instanceof e?this.m_pDate=new Date(t.time):$(t)?this.m_pDate=new Date(t.getTime()):this.m_pDate=new Date(t)}return(0,l.Z)(e,[{key:"date",get:function(){return this.m_pDate}},{key:"time",get:function(){return this.date.getTime()},set:function(e){this.m_pDate=new Date(e)}}],[{key:"now",get:function(){return Date.now()}},{key:"precise",get:function(){return"undefined"!=typeof performance&&performance.now?performance.now():Date.now()}},{key:"UTC",get:function(){return this.now-60*(new Date).getTimezoneOffset()*1e3}},{key:"today",get:function(){var e=new Date;return e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e.getTime()}},{key:"UTCToday",get:function(){var e=new Date,t=new Date;return t.setUTCFullYear(e.getFullYear()),t.setUTCMonth(e.getMonth()),t.setUTCDate(e.getDate()),t.setUTCHours(0),t.setUTCMinutes(0),t.setUTCSeconds(0),t.setUTCMilliseconds(0),t.getTime()}},{key:"isFuture",value:function(e){return this.now<e}},{key:"isPast",value:function(e){return this.now>=e}},{key:"elapsed",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(oe(t)?this.precise:this.now)-e}},{key:"timerReset",value:function(){var e=this.m_nStamp;return this.m_nStamp=this.precise,e}},{key:"timerElapsed",get:function(){return this.precise-this.timerReset()}},{key:"timerStamp",get:function(){return this.formatElapsed()}},{key:"format",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"dd-MM-yyyy HH:mm:ss.SSS",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.now,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0,r=new Date(t);return d.sanitize(e.replace(/('[^']+')|('')|(HH)|(H)|(hh)|(h)|(mm)|(m)|(ss)|(s)|(SSS)|(S)|(zzzz)|(z)|(dd)|(d)|(MMMMM)|(MMMM)|(MMM)|(MM)|(M)|(LLLLL)|(LLLL)|(LLL)|(EEEEE)|(EEEE)|(EEE)|(EE)|(E)|(ccccc)|(cccc)|(ccc)|(cc)|(yyyy)|(yy)|(y)|(a)/g,(function(e){switch(e){case"HH":return d.padLeft(re(n?r.getUTCHours():r.getHours()),"0",2);case"H":return re(n?r.getUTCHours():r.getHours());case"hh":return d.padLeft(re(((n?r.getUTCHours():r.getHours())+11)%12+1),"0",2);case"h":return re(((n?r.getUTCHours():r.getHours())+11)%12+1);case"a":return i?re((n?r.getUTCHours():r.getHours())>=12?i.PM:i.AM):"";case"mm":return d.padLeft(re(n?r.getUTCMinutes():r.getMinutes()),"0",2);case"m":return re(n?r.getUTCMinutes():r.getMinutes());case"ss":return d.padLeft(re(n?r.getUTCSeconds():r.getSeconds()),"0",2);case"s":return re(n?r.getUTCSeconds():r.getSeconds());case"SSS":return d.padLeft(re(n?r.getUTCMilliseconds():r.getMilliseconds()),"0",3);case"S":return re(n?r.getUTCMilliseconds():r.getMilliseconds());case"z":case"zzzz":return"";case"dd":return d.padLeft(re(n?r.getUTCDate():r.getDate()),"0",2);case"d":return re(n?r.getUTCDate():r.getDate());case"yyyy":case"y":return re(n?r.getUTCFullYear():r.getFullYear());case"yy":return d.padLeft(re(n?r.getUTCFullYear():r.getFullYear()),"0",2,!0);case"MMMMM":return re(Y(i?i.monthsFormattedNarrow:void 0,n?r.getUTCMonth():r.getMonth(),"?"));case"MMMM":return re(Y(i?i.monthsFormattedWide:void 0,n?r.getUTCMonth():r.getMonth(),"?"));case"MMM":return re(Y(i?i.monthsFormattedAbbreviated:void 0,n?r.getUTCMonth():r.getMonth(),"?"));case"MM":return d.padLeft(re((n?r.getUTCMonth():r.getMonth())+1),"0",2);case"M":return re((n?r.getUTCMonth():r.getMonth())+1);case"LLLLL":return re(Y(i?i.monthsNominativeNarrow:void 0,n?r.getUTCMonth():r.getMonth(),"?"));case"LLLL":return re(Y(i?i.monthsNominativeWide:void 0,n?r.getUTCMonth():r.getMonth(),"?"));case"LLL":return re(Y(i?i.monthsNominativeAbbreviated:void 0,n?r.getUTCMonth():r.getMonth(),"?"));case"EEEEE":return re(Y(i?i.weekdaysFormattedNarrow:void 0,n?r.getUTCDay():r.getDay(),"?"));case"EEEE":return re(Y(i?i.weekdaysFormattedWide:void 0,n?r.getUTCDay():r.getDay(),"?"));case"EEE":return re(Y(i?i.weekdaysFormattedAbbreviated:void 0,n?r.getUTCDay():r.getDay(),"?"));case"EE":return re(Y(i?i.weekdaysFormattedShort:void 0,n?r.getUTCDay():r.getDay(),"?"));case"E":return re(n?r.getUTCDay():r.getDay());case"ccccc":return re(Y(i?i.weekdaysNominativeNarrow:void 0,n?r.getUTCDay():r.getDay(),"?"));case"cccc":return re(Y(i?i.weekdaysNominativeWide:void 0,n?r.getUTCDay():r.getDay(),"?"));case"ccc":return re(Y(i?i.weekdaysNominativeAbbreviated:void 0,n?r.getUTCDay():r.getDay(),"?"));case"cc":return re(Y(i?i.weekdaysNominativeShort:void 0,n?r.getUTCDay():r.getDay(),"?"));case"''":return"'"}return e.replace(/'/g,"")})))}},{key:"formatElapsed",value:function(){var e,t,n,i,r,s,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"H'h':mm'm':ss's'.SSS'ms'.uuu'Âµs'",o=arguments.length>1?arguments[1]:void 0,u=arguments.length>2?arguments[2]:void 0,c=arguments.length>3?arguments[3]:void 0;return o=p.conform(ae(o,this.timerElapsed),3),e=Math.floor(o/36e5),t=Math.floor(o%36e5/6e4),n=Math.floor(o%36e5%6e4/1e3),s=re(p.conform(o%36e5%6e4%1e3,3)).split("."),i=s[0],r=J(s)>=2?s[1]:"0",d.sanitize(a.replace(/('[^']+')|('')|(HH)|(H)|(hh)|(h)|(mm)|(m)|(ss)|(s)|(SSS)|(S)|(uuu)|(u)|(zzzz)|(z)|(dd)|(d)|(MMMMM)|(MMMM)|(MMM)|(MM)|(M)|(LLLLL)|(LLLL)|(LLL)|(EEEEE)|(EEEE)|(EEE)|(EE)|(E)|(ccccc)|(cccc)|(ccc)|(cc)|(yyyy)|(yy)|(y)|(a)/g,(function(s){switch(s){case"HH":return d.padLeft(re(e),"0",2);case"H":return re(e);case"hh":return d.padLeft(re((e+11)%12+1),"0",2);case"h":return re((e+11)%12+1);case"a":return re(e>=12?c:u);case"mm":return d.padLeft(re(t),"0",2);case"m":return re(t);case"ss":return d.padLeft(re(n),"0",2);case"s":return re(n);case"SSS":return d.padLeft(i,"0",3);case"S":return i;case"uuu":return d.padLeft(r,"0",3);case"u":return r;case"z":case"zzzz":return"";case"''":return"'"}return s.replace(/'/g,"")})))}},{key:"log",get:function(){return this.format("dd-MM-yyyy HH:mm:ss.SSS")}},{key:"logTime",get:function(){return this.format("HH:mm:ss.SSS")}}]),e}();function O(){}function L(e){return void 0===e}function R(e){return!L(e)}function H(e){return L(e)||"object"==typeof e&&null===e}function B(e){return"object"==typeof e&&null!==e&&!q(e)}function V(e){return"function"==typeof e}function Z(e){return"string"==typeof e}function N(e){return Z(e)?e.length:0}function D(e){return N(e)>0}function z(e){return"number"==typeof e&&!isNaN(e)}function U(e,t,n){return"number"==typeof e&&isFinite(e)&&("number"!=typeof t||e>=t)&&("number"!=typeof n||e<=n)}function G(e,t,n){return"number"==typeof e&&isFinite(e)&&e%1!=0&&("number"!=typeof t||e>=t)&&("number"!=typeof n||e<=n)}function K(e){return"boolean"==typeof e}function q(e){return Array.isArray(e)}function j(e){return(B(e)||q(e)||V(e))&&"number"==typeof e.length&&"function"==typeof e.item}function W(e){return q(e)||j(e)}function J(e){return q(e)||j(e)?e.length:B(e)?J(Object.keys(e)):0}function Y(e,t,n){if(t=se(t),e)if(q(e)){if(t>=0&&t<J(e))return e[t]}else if(j(e)){if(t>=0&&t<J(e))return e.item(t)}else if(B(e)){var i=Object.keys(e);if(t>=0&&t<J(i))return e[i[t]]}return R(n)?n:void 0}function X(e,t){if(e)if(q(e)){if(J(e)>0)return e[0]}else if(j(e)){if(J(e)>0)return e.item(0)}else if(B(e)){var n=Object.keys(e);if(J(n)>0)return e[n[0]]}return R(t)?t:void 0}function Q(e,t){if(e)if(q(e)){var n=J(e);if(n>0)return e[n-1]}else if(j(e)){var i=J(e);if(i>0)return e.item(i-1)}else if(B(e)){var r=Object.keys(e),s=J(r);if(s>0)return e[r[s-1]]}return R(t)?t:void 0}function $(e){return B(e)&&"[object Date]"===Object.prototype.toString.call(e)}function ee(e){return B(e)&&"[object RegExp]"===Object.prototype.toString.call(e)}function te(e){return e instanceof Error}function ne(e,t){if(H(e))throw new Error(t||"Assert failed!");return e}function ie(e){return e}function re(e,t){return Z(e)?e:R(e)&&!H(e)&&V(e.toString)?e.toString():Z(t)?t:""}function se(e,t){if(U(e))return Math.round(e);if(K(e))return e?1:0;if(R(e)&&!H(e)&&V(e.toString)){var n=parseFloat(e.toString().replace(/[^-e\d.]/g,""));if(U(n))return Math.round(n)}return U(t)?Math.round(t):0}function ae(e,t){if(U(e))return parseFloat("".concat(e));if(K(e))return e?1:0;if(R(e)&&!H(e)&&V(e.toString)){var n=parseFloat(e.toString().replace(/[^-e\d.]/g,""));if(U(n))return n}return U(t)?t:0}function oe(e,t){if(K(e))return e;if(U(e))return!!e;if(R(e)&&!H(e)&&V(e.toString)){var n=e.toString();return!("0"===n||"false"===n.toLowerCase())}return!!t}function ue(e){return Object.create(e)}function ce(e){for(var t=e,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return fe(i,(function(e){fe(e,(function(e,n){B(e)&&B(t[n])?ce(t[n],e):t[n]=e}),{keys:!0})})),t}function he(){for(var e={},t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return fe(n,(function(t){fe(t,(function(t,n){B(t)&&B(e[n])?e[n]=he(e[n],t):e[n]=t}),{keys:!0})})),e}function le(e,t,n){if(B(e)||q(e)){var i,r,s=!1,a=!1;if(B(e)!==B(t)||q(e)!==q(t))return!1;if(j(e)?s=!0:q(e)||(i=Object.keys(e)),j(t)?a=!0:q(t)||(r=Object.keys(t)),s!==a||q(i)!==q(r)||(i||e).length!==(r||t).length)return!1;for(var o=(i||e).length,u=0;u<o;u++){var c=i?i[u]:u,h=r?r[u]:u;if(c!==h||!le(s?e.item(c):e[c],a?t.item(h):t[h],n))return!1}return!0}return!(typeof e!=typeof t||H(e)!==H(t)||n&&e!==t)}function fe(e,t,n){if(e&&t){var i,r=n&&n.arguments?n.arguments:void 0,s=!(!n||!n.replace);if(i=n&&n.keys?r?function(e,n){return t.apply(void 0,[e,n].concat((0,f.Z)(r)))}:function(e,n){return t(e,n)}:r?function(e){return t.apply(void 0,[e].concat((0,f.Z)(r)))}:function(e){return t(e)},q(e))e.forEach((function(t,n){var r=i(t,n);s&&(e[n]=r)}));else if(j(e))for(var a=e,o=a.length,u=0;u<o;u++)i(a.item(u),u);else Object.keys(e).forEach((function(t){var n=i(e[t],t);s&&(e[t]=n)}))}return e}function me(e,t,n){if(e){var i,r;j(e)?i=e:q(e)||(r=Object.keys(e));for(var s=(r||i||e).length-1;s>=0;s--){var a=xe.apply(void 0,[t].concat((0,f.Z)((o=r?r[s]:s,u=n&&n.arguments?n.arguments.slice(0):[],n&&n.keys&&u.unshift(o),Z(o)?u.unshift(e[o]):i?u.unshift(i.item(o)):u.unshift(e[o]),u))));n&&n.replace&&!i&&(r?e[r[s]]=a:e[s]=a)}}var o,u;return e}function pe(e,t){var n,i,r=[];if(e){var s,a;j(e)?s=e:q(e)||(a=Object.keys(e));for(var o=(a||s||e).length,u=arguments.length,c=new Array(u>2?u-2:0),h=2;h<u;h++)c[h-2]=arguments[h];for(var l=0;l<o;l++)r.push(xe.apply(void 0,[t].concat((0,f.Z)((n=a?a[l]:l,i=c.slice(0),Z(n)?i.unshift(e[n]):s?i.unshift(s.item(n)):i.unshift(e[n]),i)))))}return r}function de(e,t,n){if(e){var i,r;j(e)?i=e:q(e)||(r=Object.keys(e));for(var s=(r||i||e).length,a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];for(var c=0;c<s;c++)n=xe.apply(void 0,[t].concat((0,f.Z)((h=r?r[c]:c,l=o.slice(0),Z(h)?l.unshift(e[h]):i?l.unshift(i.item(h)):l.unshift(e[h]),l.unshift(n),l))))}var h,l;return n}function ge(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e){var i,r;j(e)?i=e:q(e)||(r=Object.keys(e));for(var s=(r||i||e).length,a=0;a<s;a++){if(n===oe(xe(t,r?e[r[a]]:i?i.item(a):e[a])))return n}return!n}return!1}function ve(e,t){return ge(e,t,!1)}function ye(e,t){return ge(e,t,!0)}function _e(e,t){var n=0;if(e){var i,r;j(e)?i=e:q(e)||(r=Object.keys(e));for(var s=(r||i||e).length,a=0;a<s;a++){var o=!0;V(t)&&(o=oe(xe(t,r?e[r[a]]:i?i.item(a):e[a]))),o&&n++}}return n}function ke(e,t,n){var i,r,s,a=!(!n||"first"!==n.return),o=!(!n||"last"!==n.return);if(n&&n.return&&"matches"!==n.return||(i=[]),e){var u,c;j(e)?u=e:q(e)||(c=Object.keys(e));for(var h=(c||u||e).length,l=o?h-1:0;o&&l>=0||!o&&l<h;o?l--:l++){if(oe(xe(t,c?e[c[l]]:u?u.item(l):e[l]))){if(n&&V(n.do)){var m=xe.apply(void 0,[n.do].concat((0,f.Z)((r=c?c[l]:l,s=n&&n.arguments?n.arguments.slice(0):[],Z(r)?s.unshift(e[r]):u?s.unshift(u.item(r)):s.unshift(e[r]),s))));n&&n.replace&&!u&&(c?e[c[l]]=m:e[l]=m)}if(a||o)return c?e[c[l]]:u?u.item(l):e[l];i&&(c?i.push(e[c[l]]):u?i.push(u.item(l)):i.push(e[l]))}}}return i}function be(e,t){return ke(e,t)}function Ce(e,t){return ke(e,t,{return:"first"})}function Se(e,t){return ke(e,t,{return:"last"})}function we(e,t){if(e){var n,i;j(e)?n=e:q(e)||(i=Object.keys(e));for(var r=(i||n||e).length,s=0;s<r;s++){if(oe(xe(t,i?e[i[s]]:n?n.item(s):e[s])))return i?i[s]:s}}}function xe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return e.apply(void 0,n)}function Me(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];T.schedule.apply(T,[e].concat(n))}function Te(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];E.schedule.apply(E,[e].concat(n))}function Ie(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];t?xe.apply(void 0,[e].concat(i)):Me.apply(void 0,[e].concat(i))}function Ee(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];if(e&&t)return e.bind(t).apply(void 0,i)}function Pe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(V(e))return e.apply(void 0,n)}function Ae(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return T.schedule.apply(T,[e].concat(n))}function Fe(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];return Oe(t),Ae.apply(void 0,[e].concat(i))}function Oe(e){return T.cancel(e),0}function Le(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return E.schedule.apply(E,[e].concat(n))}function Re(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];return He(t),Le.apply(void 0,[e].concat(i))}function He(e){return E.cancel(e),0}function Be(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return I.schedule.apply(I,[e].concat(n))}function Ve(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];return Ze(t),Be.apply(void 0,[e].concat(i))}function Ze(e){return I.cancel(e),0}function Ne(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return setTimeout(e,t)||0}((function(){return e.apply(void 0,i)}),t)}function De(e){return 0!==e&&clearTimeout(e),0}function ze(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];var s=A.n+1,a=re(s),o=F.precise,u=function e(){P[a]&&(F.elapsed(o,!0)>=t?(P[a].apply(P,i),at(P,a)):Be(e))};return P[a]=e,Be(u),s}function Ue(e){return 0!==e&&at(P,re(e)),0}function Ge(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return setInterval(e,t)||0}((function(){return e.apply(void 0,i)}),t)}function Ke(e){return 0!==e&&clearInterval(e),0}function qe(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];var s=A.n+1,a=re(s),o=F.precise,u=function e(){P[a]&&(F.elapsed(o,!0)>=t&&(P[a].apply(P,i),o=F.precise),Be(e))};return P[a]=e,Be(u),s}function je(e){return 0!==e&&at(P,re(e)),0}function We(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];e&&(t>0?Be((function(){return We.apply(void 0,[e,--t].concat(i))})):e.apply(void 0,i))}function Je(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];We.apply(void 0,[e,2].concat(n))}function Ye(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];We.apply(void 0,[e,2].concat(n))}function Xe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];We.apply(void 0,[e,5].concat(n))}function Qe(e,t,n){return e[t]=n}function $e(e,t,n){return(B(e)||V(e))&&D(t)?e[t]=n:n}function et(e,t){return e[t]}function tt(e,t){if(e&&D(t))return e[t]}function nt(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return oe(tt(e,t),n)}function it(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return re(tt(e,t),n)}function rt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return se(tt(e,t),n)}function st(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return ae(tt(e,t),n)}function at(e,t){return!!(e&&D(t)&&R(e[t]))&&delete e[t]}function ot(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return(0,c.Z)(e,n)}F.m_nStamp=0,function(e){function t(){return d.padRight(F.logTime," ",16,!0)}function n(e){return d.padRight(e," ",23,!0)}e.time=t,e.module=n,e.log=function(e,i){return t()+n(e)+i}}(_||(_={})),function(e){e.isBrowser=w,e.isNode=x,e.isWebWorker=M}(k||(k={}));var ut=function(){function e(){(0,h.Z)(this,e),this.m_nFlag=1}return(0,l.Z)(e,[{key:"flag",get:function(){var e=this.m_nFlag;return this.m_nFlag=this.m_nFlag<<1,e}}],[{key:"convert",value:function(){for(var e=1,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return de(n,(function(t,n){return t|=n?e:0,e*=2,t}),0)||0}},{key:"has",value:function(e,t){var n=1;if(t>0)for(;--t;)n*=2;return oe(e&n)}}]),e}(),ct=function(){function e(t,n,i){(0,h.Z)(this,e),this.m_pArguments=[],this.m_nTime=0,this.m_nHandle=0,this.m_bPromise=!1,this.m_bFrame=!1,this.m_bDoubleFrame=!1,this.m_sHold=!1,this.m_bThrottle="debounce"!==t,this.m_bDelay="throttle-delay"===t,this.m_fnCallback=n,this.m_nTimeout="tick"!==i&&"promise"!==i&&"frame"!==i&&"double-frame"!==i&&i||0,this.m_bPromise="promise"===i,this.m_bFrame="frame"===i||"double-frame"===i,this.m_bDoubleFrame="double-frame"===i}return(0,l.Z)(e,[{key:"call",value:function(){this.m_nHandle=0,this.m_fnCallback.apply(this,(0,f.Z)(this.m_pArguments))}},{key:"invoke",value:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];if(!this.m_sHold&&this.m_bThrottle&&this.m_nTimeout>0){if(!this.m_bDelay)return void(F.elapsed(this.m_nTime,!0)>=this.m_nTimeout&&(this.m_pArguments=n,this.m_nTime=F.precise,this.call()));0!==this.m_nHandle&&F.elapsed(this.m_nTime,!0)>=this.m_nTimeout&&(this.cancel(),this.call())}this.m_pArguments=n,this.m_bThrottle||this.cancel(),this.m_sHold?this.m_sHold="hold":0===this.m_nHandle&&(this.m_nTime=F.precise,this.m_nTimeout>0?this.m_nHandle=Ne((function(){return e.call()}),this.m_nTimeout):this.m_bPromise?this.m_nHandle=Le((function(){return e.call()})):this.m_bFrame?this.m_nHandle=Be((function(){e.m_bDoubleFrame?e.m_nHandle=Be((function(){return e.call()})):e.call()})):this.m_nHandle=Ae((function(){return e.call()})))}},{key:"cancel",value:function(){var e=this.m_nTimeout>0?De:this.m_bPromise?He:this.m_bFrame?Ze:Oe;this.m_nHandle=e(this.m_nHandle)}},{key:"flush",value:function(){this.m_sHold=!1,0!==this.m_nHandle&&(this.cancel(),this.call())}},{key:"hold",value:function(){this.m_sHold=this.m_sHold||(0===this.m_nHandle?"catch":"hold"),this.cancel()}},{key:"release",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.m_sHold){var t="hold"===this.m_sHold;this.m_sHold=!1,t&&(e?this.call():this.invoke.apply(this,(0,f.Z)(this.m_pArguments)))}}}]),e}(),ht=function(e){(0,a.Z)(n,e);var t=m(n);function n(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"frame",r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return(0,h.Z)(this,n),t.call(this,r?"throttle-delay":"throttle",e,i)}return n}(ct),lt=function(e){(0,a.Z)(n,e);var t=m(n);function n(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"frame";return(0,h.Z)(this,n),t.call(this,"debounce",e,i)}return n}(ct),ft=function(){function e(){(0,h.Z)(this,e),this.m_pStack=[]}return(0,l.Z)(e,[{key:"add",value:function(e){this.m_pStack.push(e)}},{key:"flush",value:function(){for(var e=this.m_pStack.length,t=0;t<e;t++)this.m_pStack[t]()}},{key:"clear",value:function(){this.m_pStack=[]}},{key:"flushAndClear",value:function(){this.flush(),this.clear()}}]),e}(),mt=!1;function pt(){mt=!0}function dt(){mt=!1}var gt=function(){function e(){(0,h.Z)(this,e),this.m_pHooks={},this.m_nHookTimeout=0,this.m_nHookFrame=0,this.m_nHookBuffer=0}return(0,l.Z)(e,[{key:"isHookBufferEnabled",get:function(){return this.m_nHookBuffer>0}},{key:"getHooks",value:function(e){var t=this.m_pHooks[e];if(t)return t}},{key:"prepareHookPayload",value:function(e,t,n){return e.hook={name:t,type:n},e}},{key:"scheduleHook",value:function(e){var t=this;"framed"===e?this.m_nHookFrame=Ve((function(){return t.invokeHook(e)}),this.m_nHookFrame):this.m_nHookTimeout=Fe((function(){return t.invokeHook(e)}),this.m_nHookTimeout)}},{key:"invokeHook",value:function(e){var t=this,n=new ft;fe(this.m_pHooks,(function(i,r){fe(i,(function(i){i.type===e&&fe(i.payloads.splice(0,i.payloads.length),(function(e){n.add((function(){return i.hook(t.prepareHookPayload(e,r,i.type))}))}))}))}),{keys:!0}),n.flush()}},{key:"attachHook",value:function(e,t,n,i,r){(this.getHooks(e)||(this.m_pHooks[e]=[])).push({hook:n,payloads:[],type:t,group:i,context:r})}},{key:"hook",value:function(e,t,n,i){return this.attachHook(e,t,n,!1,i),this}},{key:"groupedHook",value:function(e,t,n,i){return this.attachHook(e,t,n,!0,i),this}},{key:"emitHook",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"fifo",r=this.getHooks(e);if(r){var s=new ft;return fe(r,(function(r){"synchronous"!==r.type||n.isHookBufferEnabled?(r.group&&r.payloads.length>0?r.payloads[0]=t:"lifo"===i?r.payloads.splice(0,0,t):r.payloads.push(t),"synchronous"===r.type||n.isHookBufferEnabled||n.scheduleHook(r.type)):s.add((function(){return r.hook(n.prepareHookPayload(t,e,"synchronous"))}))})),s.flush(),!0}return!1}},{key:"bufferHooks",value:function(){this.m_nHookTimeout=Oe(this.m_nHookTimeout),this.m_nHookFrame=Ze(this.m_nHookFrame),this.m_nHookBuffer++}},{key:"flushHooks",value:function(){var e=this;if(this.m_nHookBuffer>0&&(this.m_nHookBuffer--,0===this.m_nHookBuffer)){var t=new ft;fe(this.m_pHooks,(function(n,i){fe(n,(function(n){"synchronous"===n.type?fe(n.payloads.splice(0,n.payloads.length),(function(r){t.add((function(){return n.hook(e.prepareHookPayload(r,i,n.type))}))})):e.scheduleHook(n.type)}))}),{keys:!0}),t.flush()}}},{key:"unhook",value:function(e,t){var n=this.getHooks(e);if(n){var i=!1;if(t)for(var r=n.length;r--;){var s=n[r];s.context!==t&&s.hook!==t||(n.splice(r,1),i=!0)}return t&&0!==n.length?i:(at(this.m_pHooks,e),!0)}return!1}},{key:"unhookContext",value:function(e){var t=this,n=!1;return fe(this.m_pHooks,(function(i,r){for(var s=i.length;s--;)i[s].context===e&&(i.splice(s,1),n=!0);0===i.length&&at(t.m_pHooks,r)}),{keys:!0}),n}},{key:"destroy",value:function(){var e=this,t=new ft;this.m_nHookTimeout=Oe(this.m_nHookTimeout),this.m_nHookFrame=Ze(this.m_nHookFrame),this.m_nHookBuffer=0,fe(this.m_pHooks,(function(n,i){fe(n,(function(n){fe(n.payloads.splice(0,n.payloads.length),(function(r){t.add((function(){return n.hook(e.prepareHookPayload(r,i,n.type))}))}))}))}),{keys:!0}),this.m_pHooks={},t.flush()}}]),e}();function vt(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"multiple";if(!i||!V(i.value))throw new Error("The '@".concat(e,"' decorator can only be applied to a method but '").concat(n,"' seems to be a property."));var s="@marker @".concat(e),a="@marker @".concat(e," #").concat(n),o=Object.getOwnPropertyDescriptor(t,s);if(Object.getOwnPropertyDescriptor(t,a))throw new Error("Decorator '@".concat(e,"' is already applied to the method '").concat(n,"'."));if("single"===r&&o)throw new Error("Decorator '@".concat(e,"' is already used in this class, but can only be applied once."));Object.defineProperty(t,a,{value:!0,writable:!1,enumerable:!1,configurable:!1}),o?o.value.push(i.value):Object.defineProperty(t,s,{value:[i.value],writable:!1,enumerable:!1,configurable:!1})}function yt(e,t){var n=tt(t,"@marker @".concat(e));if(n){for(var i=n.length,r=arguments.length,s=new Array(r>2?r-2:0),a=2;a<r;a++)s[a-2]=arguments[a];if(1===i)return Ee.apply(void 0,[n[0],t].concat(s));for(var o=0;o<i;o++)Ee.apply(void 0,[n[o],t].concat(s))}}function _t(e,t,n,i,r){var s={target:t,property:n,oldValue:i,newValue:r};fe(tt(t,e),(function(e){Ee(e,t,s)}))}var kt=function(){function e(){(0,h.Z)(this,e),this.m_pStack=[]}return(0,l.Z)(e,[{key:"push",value:function(e){this.m_pStack.push(e)}},{key:"flush",value:function(){for(var e=this.m_pStack.shift();e;)e(),e=this.m_pStack.shift()}}]),e}(),bt=function(e){(0,a.Z)(n,e);var t=m(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,h.Z)(this,n),(e=t.call(this)).m_nCurrentCount=0,e.m_pCursor={column:0,row:0,index:0},e.m_bSilent=!1,e.m_pItems=[],e.m_nUniqueId=n.enumerator.n,e.m_nType=i,e.m_nOrientation=r,e.m_nColumns=e.m_nCurrentColumns=0===e.type?Math.max(s,1):0,e.m_nRows=e.m_nCurrentRows=1===e.type?Math.max(s,1):0,e}return(0,l.Z)(n,[{key:"uniqueId",get:function(){return this.m_nUniqueId}},{key:"type",get:function(){return this.m_nType},set:function(e){this.m_nType!==e&&(this.m_nType=e,this.recalculate(new kt,0,"change",-1,32).flush())}},{key:"orientation",get:function(){return this.m_nOrientation},set:function(e){if(this.m_nOrientation!==e){var t=new kt;this.m_nOrientation=e,this.reindex(t,0,-1,"change",-1,32),t.flush()}}},{key:"columns",get:function(){return this.m_nColumns},set:function(e){this.m_nType=0,e!==this.m_nColumns&&(this.m_nColumns=Math.max(e,1),this.recalculate(new kt,0,"change",-1,32).flush())}},{key:"rows",get:function(){return this.m_nRows},set:function(e){this.m_nType=1,e!==this.m_nRows&&(this.m_nRows=Math.max(e,1),this.recalculate(new kt,0,"change",-1,32).flush())}},{key:"count",get:function(){return this.m_pItems.length}},{key:"all",get:function(){return this.m_pItems}},{key:"currentItem",get:function(){return this.itemAtIndex(this.safeCursor.index)}},{key:"firstItem",get:function(){return this.itemAtIndex(0)}},{key:"lastItem",get:function(){return this.itemAtIndex(this.count-1)}},{key:"lastItemInFirstRow",get:function(){return this.lastItemInRow(0)}},{key:"lastItemInFirstColumn",get:function(){return this.lastItemInColumn(0)}},{key:"cursor",get:function(){return this.m_pCursor},set:function(e){var t=this.m_pCursor.column,n=this.m_pCursor.row;this.m_pCursor=this.getSafeCursor(e),this.m_pCursor.column===t&&this.m_pCursor.row===n||this.isSilent||this.onCursorChange({matrix:this,cursor:this.cursor})}},{key:"safeCursor",get:function(){return this.m_pCursor}},{key:"isCursorAtFirstColumn",get:function(){return 0===this.cursor.column}},{key:"isCursorAtLastColumn",get:function(){return this.cursor.column===this.columns-1}},{key:"isCursorAtEndColumn",get:function(){return this.cursor.column===this.columns}},{key:"isCursorAtFirstRow",get:function(){return 0===this.cursor.row}},{key:"isCursorAtLastRow",get:function(){return this.cursor.row===this.rows-1}},{key:"isCursorAtEndRow",get:function(){return this.cursor.row===this.rows}},{key:"isCursorAtFirst",get:function(){return 0===this.cursor.index}},{key:"isCursorAtLast",get:function(){return this.cursor.index===this.count-1}},{key:"isCursorAtEnd",get:function(){return this.cursor.index===this.count}},{key:"isSilent",get:function(){return V(this.m_bSilent)?this.m_bSilent():this.m_bSilent},set:function(e){this.m_bSilent=e}},{key:"isValidIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return U(e)&&e>=0&&e<this.count+(t?1:0)}},{key:"reindex",value:function(e,t,n,i,r,s){var a=!1;for(t=p.max(t,0),n=this.isValidIndex(n)?n+1:this.count,r=this.isValidIndex(r)?r:-1,this.isSilent&&(i="nothing");t<n;)a=this.m_pItems[t].reindex(e,this,t,"nothing"!==i?r===t?i:"auto":"nothing",s)||a,t++;return a}},{key:"recalculate",value:function(e,t,n,i,r){var s=this,a="nothing"!==n&&!this.isSilent,o=this.count;switch(this.m_nType){case 0:0===this.m_nColumns&&(this.m_nColumns=1),this.m_nRows=Math.max(Math.ceil(o/this.m_nColumns),o>0?1:0);break;case 1:0===this.m_nRows&&(this.m_nRows=1),this.m_nColumns=Math.max(Math.ceil(o/this.m_nRows),o>0?1:0);break;case 2:this.m_nColumns=this.m_nRows=Math.max(Math.ceil(Math.sqrt(o)),o>0?1:0);break;case 3:case 4:for(this.m_nColumns=this.m_nRows=Math.max(Math.floor(Math.sqrt(o)),o>0?1:0);this.m_nColumns*this.m_nRows<o;)for(3===this.m_nType?this.m_nColumns++:this.m_nRows++;this.m_nColumns*this.m_nRows<o;)4===this.m_nType?this.m_nColumns++:this.m_nRows++}return a&&(this.bufferHooks(),(1===this.m_nOrientation&&this.m_nColumns!==this.m_nCurrentColumns||0===this.m_nOrientation&&this.m_nRows!==this.m_nCurrentRows)&&(t=0),this.isValidIndex(t)&&this.reindex(e,t,o,n,i,r)),this.m_nColumns===this.m_nCurrentColumns&&this.m_nRows===this.m_nCurrentRows||((this.safeCursor.column>this.m_nColumns||this.safeCursor.row>this.m_nRows)&&(this.cursor={column:Math.min(this.safeCursor.column,this.m_nColumns),row:Math.min(this.safeCursor.row,this.m_nRows)}),a&&e.push((function(){s.onDimensionChange({matrix:s,difference:s.m_nColumns*s.m_nRows-s.m_nCurrentColumns*s.m_nCurrentRows,columns:s.m_nColumns,rows:s.m_nRows,reason:r})})),this.m_nCurrentColumns=this.m_nColumns,this.m_nCurrentRows=this.m_nRows),o!==this.m_nCurrentCount&&(a&&e.push((function(){s.onCountChange({matrix:s,difference:o-s.m_nCurrentCount,count:o,reason:r})})),this.m_nCurrentCount=o),a&&this.flushHooks(),e}},{key:"getSafeCursor",value:function(e){if(!U(e.index)||e.index<0){var t=Math.min(Math.max(U(e.column)?e.column:this.columns,0),this.columns),n=Math.min(Math.max(U(e.row)?e.row:this.rows,0),this.rows);return{column:t,row:n,index:this.indexFromColumnRow(t,n)}}return this.cursorFromIndex(e.index)}},{key:"onDimensionChange",value:function(e){this.emitHook("OnDimensionChange",e)}},{key:"onCountChange",value:function(e){this.emitHook("OnCountChange",e)}},{key:"onCursorChange",value:function(e){this.emitHook("OnCursorChange",e)}},{key:"indexFromColumnRow",value:function(e,t){var n=e>=0&&e<this.columns&&t>=0&&t<this.rows?0===this.orientation?this.rows*e+t:this.columns*t+e:-1;return n>=0&&n<this.count?n:-1}},{key:"cursorFromIndex",value:function(e){return{column:(e=Math.min(Math.max(e||0,0),this.count))<this.count?0===this.orientation?Math.floor(e/this.rows):e%this.columns:this.columns,row:e<this.count?0===this.orientation?e%this.rows:Math.floor(e/this.columns):this.rows,index:e}}},{key:"pushToMatrix",value:function(e){var t,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{index:void 0,recalculate:!0,emit:"push"},r=this.isSilent?"nothing":i.emit,s=oe(i.recalculate,!0),a=new kt;if(n=U(i.index)?i.index:e.index,!e.isPopped&&e.parent){if(this===e.parent)return this.isValidIndex(i.index,!0)&&e.moveToIndex(i.index),e;t=e.parent,e.popSilent()}if(this.isValidIndex(n)?this.m_pItems.splice(n,0,e):n=this.m_pItems.push(e)-1,"nothing"!==r&&this.bufferHooks(),s&&"nothing"!==r||e.reindex(a,this,n,r,1),s&&this.recalculate(a,n,r,n,1),"nothing"!==r){if(e.isFirst){var o=e.successorSibling;o&&(o.dispatch(a,{hook:"OnItemChange",payload:{matrix:this,matrixPrevious:t,item:o,reason:128}}),this.emitHook("OnItemChange",{matrix:this,matrixPrevious:t,item:o,reason:128}))}if(e.isLast){var u=e.predecessorSibling;u&&(u.dispatch(a,{hook:"OnItemChange",payload:{matrix:this,matrixPrevious:t,item:u,reason:64}}),this.emitHook("OnItemChange",{matrix:this,matrixPrevious:t,item:u,reason:64}))}}return a.flush(),"nothing"!==r&&this.flushHooks(),e}},{key:"moveTo",value:function(e,t){return this.moveToIndex(e,this.getSafeCursor(t).index)}},{key:"moveToIndex",value:function(e,t){if(this.isValidIndex(t,!0)&&e.index!==t){var n=new kt;return this.m_pItems.splice(t,0,this.m_pItems.splice(e.index,1)[0]),this.reindex(n,Math.min(e.index,t),Math.max(e.index,t),"change",-1,4),n.flush(),!0}return!1}},{key:"moveToPosition",value:function(e,t,n){return this.moveToIndex(e,this.indexFromColumnRow(t,n))}},{key:"moveToItem",value:function(e,t,n){return this.moveToIndex(e,t.index+(n?0:1)-(e.index<t.index?1:0))}},{key:"moveUpOrDown",value:function(e,t){if(t&&!e.isFirstOfMatrix||!t&&!e.isLastOfMatrix){var n=new kt;return this.m_pItems[e.index]=this.m_pItems[e.index+(t?-1:1)],this.m_pItems[e.index+(t?-1:1)]=e,this.reindex(n,e.index-(t?1:0),e.index+(t?0:1),"change",-1,4),n.flush(),!0}return!1}},{key:"swap",value:function(e,t){if(e.index!==t.index){var n=new kt;return this.m_pItems[e.index]=t,this.m_pItems[t.index]=e,this.reindex(n,p.min(e.index,t.index),p.max(e.index,t.index),"change",-1,8),n.flush(),!0}return!1}},{key:"popFromMatrix",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=[],i=!1,r=!1;if(e||(e=this.itemAtIndex(this.count-1)),e&&(i=e.isFirst,r=e.isLast,this.isValidIndex(e.index)&&e===this.m_pItems[e.index]&&(n=this.m_pItems.splice(e.index,1))),1===n.length&&n[0]){var s=new kt,a=!!this.isSilent;if(n[0].dispatch(s,"Pop"),a||(this.bufferHooks(),t&&(n[0].dispatch(s,{hook:"OnItemPop",payload:{matrix:this,item:n[0]}}),this.emitHook("OnItemPop",{matrix:this,item:n[0]}))),this.recalculate(s,n[0].index,"change",-1,2),!a){if(i){var o=this.firstItem;o&&(o.dispatch(s,{hook:"OnItemChange",payload:{matrix:this,matrixPrevious:void 0,item:o,reason:128}}),this.emitHook("OnItemChange",{matrix:this,matrixPrevious:void 0,item:o,reason:128}))}if(r){var u=this.lastItem;u&&(u.dispatch(s,{hook:"OnItemChange",payload:{matrix:this,matrixPrevious:void 0,item:u,reason:64}}),this.emitHook("OnItemChange",{matrix:this,matrixPrevious:void 0,item:u,reason:64}))}}return s.flush(),a||this.flushHooks(),n[0]}}},{key:"sort",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e,t){return e.uniqueId-t.uniqueId};this.m_pItems.sort(e);var t=new kt,n=this.reindex(t,0,-1,"change",-1,16);return t.flush(),n}},{key:"clear",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"thorough",t=new kt;if("dirty"!==e)for(var n=this.count,i=0;i<n;i++){var r=this.m_pItems[i];r.dispatch(t,"Pop"),this.isSilent||(r.dispatch(t,{hook:"OnItemPop",payload:{matrix:this,item:r}}),"thorough"===e&&this.emitHook("OnItemPop",{matrix:this,item:r})),r.dispatch(t,"Detach")}this.m_pItems=[],"dirty"!==e&&("thorough"===e&&this.recalculate(t,0,"change",-1,2),t.flush())}},{key:"invalidateMatrix",value:function(){this.onDimensionChange({matrix:this,difference:this.m_nColumns*this.m_nRows-this.m_nCurrentColumns*this.m_nCurrentRows,columns:this.columns,rows:this.rows,reason:32})}},{key:"recalculateMatrix",value:function(){this.recalculate(new kt,0,"change",-1,32).flush()}},{key:"each",value:function(e,t,n){for(var i=this.m_pItems.slice(t,U(n)&&n>=0?n+1:n),r=i.length,s=0;s<r;s++){var a=e(i[s]);if(K(a)&&a)return!0}return!1}},{key:"reverseEach",value:function(e,t,n){for(var i=this.m_pItems.slice(t,U(n)&&n>=0?n+1:n),r=i.length-1;r>=0;r--){var s=e(i[r]);if(K(s)&&s)return!0}return!1}},{key:"itemAtIndex",value:function(e){return this.isValidIndex(e)?this.m_pItems[e]:void 0}},{key:"itemAtPosition",value:function(e,t){return this.itemAtIndex(this.indexFromColumnRow(e,t))}},{key:"itemAtCursor",value:function(e){return this.itemAtIndex(this.getSafeCursor(e).index)}},{key:"itemFromId",value:function(e){return Ce(this.m_pItems,(function(t){return t.uniqueId===e}))}},{key:"lastItemInRow",value:function(e){for(var t,n=this.columns;!t&&n>0;)t=this.itemAtPosition(--n,e);return t}},{key:"lastItemInColumn",value:function(e){for(var t,n=this.rows;!t&&n>0;)t=this.itemAtPosition(e,--n);return t}},{key:"moveCursorToFirstColumn",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.cursor={column:0,row:e?0:this.safeCursor.row,index:-1}}},{key:"moveCursorToSuccessorColumn",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.cursor={column:this.cursor.column+1,row:e?0:this.safeCursor.row,index:-1}}},{key:"moveCursorToPredecessorColumn",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.cursor={column:this.cursor.column-1,row:e?0:this.safeCursor.row,index:-1}}},{key:"moveCursorToLastColumn",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.cursor={column:this.columns-1,row:e?0:this.safeCursor.row,index:-1}}},{key:"moveCursorToFirstRow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.cursor={column:e?0:this.safeCursor.column,row:0,index:-1}}},{key:"moveCursorToSuccessorRow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.cursor={column:e?0:this.safeCursor.column,row:this.cursor.row+1,index:-1}}},{key:"moveCursorToPredecessorRow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.cursor={column:e?0:this.safeCursor.column,row:this.cursor.row-1,index:-1}}},{key:"moveCursorToLastRow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.cursor={column:e?0:this.safeCursor.column,row:this.rows-1,index:-1}}},{key:"moveCursorToFirst",value:function(){return this.cursor={column:-1,row:-1,index:0}}},{key:"moveCursorToSuccessor",value:function(){return this.cursor={column:-1,row:-1,index:this.safeCursor.index+1}}},{key:"moveCursorToPredecessor",value:function(){return this.cursor={column:-1,row:-1,index:this.safeCursor.index-1}}},{key:"moveCursorToLast",value:function(){return this.cursor={column:-1,row:-1,index:this.count-1}}},{key:"moveCursorToEnd",value:function(){return this.cursor={column:-1,row:-1,index:this.count}}}]),n}(gt);bt.enumerator=new y;var Ct=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428],St=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],wt=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428],xt=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],Mt=[2352822216,424955298,1944164710,2312950998,502970286,855612546,1738396948,1479516111,258812777,2077511080,2011393907,79989058,1067287976,1780299464,286451373,2446758561],Tt=[573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882],It=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],Et=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Pt(e,t){return e>>>t|e<<32-t}function At(e,t,n,i){return Pt(e,t)^Pt(e,n)^e>>>i}function Ft(e,t){return e[15&t]+=At(e[t+14&15],17,19,10)+e[t+9&15]+At(e[t+1&15],7,18,3)}function Ot(e,t){var n=(65535&e)+(65535&t);return(t=(e>>16)+(t>>16)+(n>>16))<<16|65535&n}function Lt(e,t){for(var n=0,i=0,r=0,s=0;n<(arguments.length<=2?0:arguments.length-2)/2;n++)r+=65535&(i=n+2<2||arguments.length<=n+2?void 0:arguments[n+2]),s+=i>>>16;for(s+=r>>>16,e[t+1]=s<<16|65535&r,r=s>>>16,s=0;n<(arguments.length<=2?0:arguments.length-2);n++)r+=65535&(i=n+2<2||arguments.length<=n+2?void 0:arguments[n+2]),s+=i>>>16;s+=r>>>16,e[t]=s<<16|65535&r}function Rt(e,t){for(var n=0,i=[],r=[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];n<16;)i[n]=t[3+(n<<2)]|t[2+(n<<2)]<<8|t[1+(n<<2)]<<16|t[n<<2]<<24,n++;for(n=0;n<64;n++)for(var s=r[0],a=r[1],o=r[2],u=r[4],c=r[7]+(Pt(u,6)^Pt(u,11)^Pt(u,25))+(u&r[5]^~u&r[6])+It[n]+(n<16?i[n]:Ft(i,n)),h=7;h>=0;h--)r[h]=4===h?Ot(r[3],c):0===h?Ot(c,(Pt(s,2)^Pt(s,13)^Pt(s,22))+(s&a^s&o^a&o)):r[h-1];for(n=0;n<8;n++)e[n]+=r[n]}function Ht(e,t,n){var i;try{i=unescape(encodeURIComponent(e))}catch(t){i=function(e){for(var t=e.length,n="",i=0;i<t;i++){var r=e.charCodeAt(i);if(r<128)n+=String.fromCharCode(r);else if(r<2048)n+=String.fromCharCode(192|r>>>6,128|63&r);else if(r<55296||r>=57344)n+=String.fromCharCode(224|r>>>12,128|r>>>6&63,128|63&r);else{var s=65536+((1023&r)<<10|1023&e.charCodeAt(++i));n+=String.fromCharCode(240|s>>>18,128|s>>>12&63,128|s>>>6&63,128|63&s)}}return n}(e)}var r,s,a=(t?224===n?Mt:256===n?Tt:384===n?wt:xt:224===n?Ct:St).slice(),o=i.length,u=[],c="",h=0,l=!0,f=0,m=0,p=0,d=0,g=0;if(t){var v,y=[0,0,0,0,0,0,0,0],_=[24,16,8,0];do{for(u[0]=h,r=1;r<=32;r++)u[r]=0;for(r=p;f<o&&r<128;++f){var k=i.charCodeAt(f);k<128?u[r>>2]|=k<<_[3&r++]:(u[r>>2]|=(192|k>>6)<<_[3&r++],u[r>>2]|=(128|63&k)<<_[3&r++])}for(m+=r-p,p=r-128,f===o&&(u[r>>2]|=[-2147483648,8388608,32768,128][3&r],++f),h=u[32],f>o&&r<112&&(u[31]=m<<3,l=!1),s=32;s<160;s+=2){var b=u[s-30],C=u[s-29],S=u[s-4],w=u[s-3];Lt(u,s,u[s-13],u[s-31],(C>>>1|b<<31)^(C>>>8|b<<24)^(C>>>7|b<<25),(w>>>19|S<<13)^(S>>>29|w<<3)^(w>>>6|S<<26),u[s-14],u[s-32],(b>>>1|C<<31)^(b>>>8|C<<24)^b>>>7,(S>>>19|w<<13)^(w>>>29|S<<3)^S>>>6)}for(v=a.slice(),y[6]=v[2]&v[4],y[7]=v[3]&v[5],r=0;r<160;r+=8)for(s=0;s<8;s+=2){var x=s>0?8-s:0,M=[0,0,0,0];Lt(M,0,Et[r+s+1],u[r+s+1],v[9+x]&v[2===s?9:11+x]^~v[9+x]&v[6===s?15:13-s],(v[9+x]>>>14|v[8+x]<<18)^(v[9+x]>>>18|v[8+x]<<14)^(v[8+x]>>>9|v[9+x]<<23),v[15-s],Et[r+s],u[r+s],v[8+x]&v[2===s?8:10+x]^~v[8+x]&v[6===s?14:12-s],(v[8+x]>>>14|v[9+x]<<18)^(v[8+x]>>>18|v[9+x]<<14)^(v[9+x]>>>9|v[8+x]<<23),v[14-s]),Lt(M,2,(y[s+1]=v[1+x]&v[2===s?1:3+x])^v[1+x]&v[(6===s?s:4-s)+1]^y[7-x],(v[1+x]>>>28|v[x]<<4)^(v[x]>>>2|v[1+x]<<30)^(v[x]>>>7|v[1+x]<<25),(y[s]=v[x]&v[2===s?0:2+x])^v[x]&v[6===s?s:4-s]^y[6-x],(v[x]>>>28|v[1+x]<<4)^(v[1+x]>>>2|v[x]<<30)^(v[1+x]>>>7|v[x]<<25)),Lt(v,14-s,v[7-s],M[1],v[6-s],M[0]),Lt(v,6-s,M[3],M[1],M[2],M[0])}for(r=0;r<16;r+=2)Lt(a,r,a[r+1],v[r+1],a[r],v[r])}while(l)}else{for(p=63&o,d=o<<3,g=o>>29,r=0;r+63<o;r+=64){for(s=f;s<64;s++)u[s]=i.charCodeAt(m++);Rt(a,u),f=0}for(r=0;r<p;r++)u[r]=i.charCodeAt(m++);for(f=d>>3&63,u[f++]=128,r=f;r<(f>56?64:56);r++)u[r]=0;if(f>56)for(Rt(a,u),r=0;r<56;r++)u[r]=0;for(;r<64;)for(s=24;s>=0;s-=8,r++)u[r]=(r>=60?d:g)>>>s&255;Rt(a,u)}for(r=0;r<(512===n?16:384===n?12:256===n?8:7);r++)for(s=28;s>=0;s-=4)c+="0123456789abcdef".charAt(a[r]>>>s&15);return c}function Bt(e){return Ht(e,!1,224)}function Vt(e){return Ht(e,!1,256)}function Zt(e){return Ht(e,!0,384)}function Nt(e){return Ht(e,!0,512)}function Dt(e){return Ht(e,!0,224)}function zt(e){return Ht(e,!0,256)}var Ut={},Gt={},Kt={},qt={},jt={},Wt={};function Jt(e){return Gt[e]||(Gt[e]=Vt(e))}var Yt,Xt,Qt,$t=Object.freeze({__proto__:null,SHA2_224:Bt,SHA2_256:Vt,SHA2_384:Zt,SHA2_512:Nt,SHA2_512_224:Dt,SHA2_512_256:zt,CSHA2_224:function(e){return Ut[e]||(Ut[e]=Bt(e))},CSHA2_256:Jt,CSHA2_384:function(e){return Kt[e]||(Kt[e]=Zt(e))},CSHA2_512:function(e){return qt[e]||(qt[e]=Nt(e))},CSHA2_512_224:function(e){return jt[e]||(jt[e]=Dt(e))},CSHA2_512_256:function(e){return Wt[e]||(Wt[e]=zt(e))}}),en=function(e){(0,a.Z)(n,e);var t=m(n);function n(e){var i;return(0,h.Z)(this,n),(i=t.call(this)).m_nIndex=-1,i.m_nColumn=-1,i.m_nRow=-1,i.m_bPopped=!0,i.m_nUniqueId=n.enumerator.n,i.m_pMatrix=e,i}return(0,l.Z)(n,[{key:"parent",get:function(){return this.matrix()}},{key:"uniqueId",get:function(){return this.m_nUniqueId}},{key:"hash",get:function(){return this.m_sHash||(this.m_sHash=Vt("".concat(F.now).concat(Math.random(),".").concat(this.uniqueId)))},set:function(e){D(e)&&/[A-Fa-f0-9]{64}/.test(e)&&(this.m_sHash=e)}},{key:"index",get:function(){return this.m_nIndex},set:function(e){this.moveToIndex(e)}},{key:"columnIndex",get:function(){return this.m_nColumn}},{key:"rowIndex",get:function(){return this.m_nRow}},{key:"isPopped",get:function(){return this.m_bPopped}},{key:"isFirst",get:function(){return!!this.m_pMatrix&&(0===this.m_pMatrix.orientation?0===this.rowIndex:0===this.columnIndex)}},{key:"isLast",get:function(){return!!this.m_pMatrix&&(this.isLastOfMatrix||(0===this.m_pMatrix.orientation?this.rowIndex===this.m_pMatrix.rows-1:this.columnIndex===this.m_pMatrix.columns-1))}},{key:"isFirstColumn",get:function(){return 0===this.columnIndex}},{key:"isLastColumn",get:function(){return!!this.m_pMatrix&&(this.isLastOfMatrix||this.columnIndex===this.m_pMatrix.columns-1)}},{key:"isFirstRow",get:function(){return 0===this.rowIndex}},{key:"isLastRow",get:function(){return!!this.m_pMatrix&&(this.isLastOfMatrix||this.rowIndex===this.m_pMatrix.rows-1)}},{key:"isFirstOfMatrix",get:function(){return 0===this.index}},{key:"isLastOfMatrix",get:function(){return!!this.m_pMatrix&&this.index===this.m_pMatrix.count-(this.m_bPopped?0:1)}},{key:"predecessorSibling",get:function(){return this.m_pMatrix&&!this.isFirstOfMatrix?this.m_pMatrix.itemAtIndex(this.index-1):void 0}},{key:"successorSibling",get:function(){return this.m_pMatrix&&!this.isLastOfMatrix?this.m_pMatrix.itemAtIndex(this.index+(this.m_bPopped?0:1)):void 0}},{key:"predecessorInColumn",get:function(){return this.m_pMatrix?this.m_pMatrix.itemAtPosition(this.m_nColumn,this.m_nRow-1):void 0}},{key:"successorInColumn",get:function(){return this.m_pMatrix?this.m_pMatrix.itemAtPosition(this.m_nColumn,this.m_nRow+1):void 0}},{key:"predecessorInRow",get:function(){return this.m_pMatrix?this.m_pMatrix.itemAtPosition(this.m_nColumn-1,this.m_nRow):void 0}},{key:"successorInRow",get:function(){return this.m_pMatrix?this.m_pMatrix.itemAtPosition(this.m_nColumn+1,this.m_nRow):void 0}},{key:"matrix",value:function(){return this.m_pMatrix}},{key:"onPush",value:function(e){this.emitHook("OnItemPush",e,"lifo")}},{key:"onChange",value:function(e){this.emitHook("OnItemChange",e)}},{key:"onPop",value:function(e){this.emitHook("OnItemPop",e)}},{key:"dispatch",value:function(e,t){var n=this;if("Pop"!==t)if("Detach"!==t)switch(t.hook){case"OnItemChange":e.push((function(){n.onChange(t.payload)}));break;case"OnItemPop":e.push((function(){n.onPop(t.payload)}))}else this.m_pMatrix=void 0;else this.m_bPopped=!0}},{key:"reindex",value:function(e,t,n,i,r){var s,a=this,o=this.m_nColumn,u=this.m_nRow,c=!1;if(this.m_pMatrix!==t&&(s=this.m_pMatrix,this.m_pMatrix=t,c=!0),this.m_nIndex===n&&"change"!==i&&"push"!==i||(0!==n&&0!==this.m_nIndex||(r|=128),n+1!==t.count&&this.m_nIndex+1!==t.count||(r|=64),this.m_nIndex=n,c=!0),this.m_nColumn=0===this.m_pMatrix.orientation?Math.floor(this.m_nIndex/this.m_pMatrix.rows):this.m_nIndex%this.m_pMatrix.columns,this.m_nRow=0===this.m_pMatrix.orientation?this.m_nIndex%this.m_pMatrix.rows:Math.floor(this.m_nIndex/this.m_pMatrix.columns),this.isPopped){var h=this.m_pMatrix.itemAtIndex(n);h&&h===this&&(this.m_bPopped=!1,c=!0)}return!(!c&&this.m_nColumn===o&&this.m_nRow===u||("nothing"!==i&&("push"===i?(e.push((function(){a.onPush({matrix:t,matrixPrevious:s,item:a,reason:r})})),this.m_pMatrix.emitHook("OnItemPush",{matrix:this.m_pMatrix,matrixPrevious:s,item:this,reason:r},"lifo")):(e.push((function(){a.onChange({matrix:t,matrixPrevious:s,item:a,reason:r})})),this.m_pMatrix.emitHook("OnItemChange",{matrix:this.m_pMatrix,matrixPrevious:s,item:this,reason:r}))),0))}},{key:"moveTo",value:function(e){return!(!this.m_pMatrix||this.m_bPopped)&&this.m_pMatrix.moveTo(this,e)}},{key:"moveToIndex",value:function(e){return!(!this.m_pMatrix||this.m_bPopped)&&this.m_pMatrix.moveToIndex(this,e)}},{key:"moveToPosition",value:function(e,t){return!(!this.m_pMatrix||this.m_bPopped)&&this.m_pMatrix.moveToPosition(this,e,t)}},{key:"moveToItem",value:function(e,t){return!(!this.m_pMatrix||this.m_bPopped)&&this.m_pMatrix.moveToItem(this,e,t)}},{key:"moveUpOrDown",value:function(e){return!(!this.m_pMatrix||this.m_bPopped)&&this.m_pMatrix.moveUpOrDown(this,e)}},{key:"swap",value:function(e){return!(!this.m_pMatrix||this.m_bPopped)&&this.m_pMatrix.swap(this,e)}},{key:"pop",value:function(){return!(this.m_pMatrix&&!this.m_bPopped)||this.m_pMatrix.popFromMatrix(this,!0)instanceof n}},{key:"popSilent",value:function(){return!(this.m_pMatrix&&!this.m_bPopped)||this.m_pMatrix.popFromMatrix(this,!1)instanceof n}},{key:"unpop",value:function(e,t){return!(!this.m_bPopped||!e&&!this.m_pMatrix)&&(e||this.m_pMatrix).pushToMatrix(this,{index:t,recalculate:!0,emit:"change"})instanceof n}},{key:"unpopSilent",value:function(e,t){return e=e||this.m_pMatrix,!(!this.m_bPopped||!e)&&e.pushToMatrix(this,{index:t,recalculate:!0,emit:"nothing"})instanceof n}}],[{key:"pushToMatrix",value:function(e,t){return(t=t||e.parent)&&t.pushToMatrix(e,{index:-1,recalculate:!0,emit:"push"}),e}}]),n}(gt);en.enumerator=new y;var tn=function(e){(0,a.Z)(n,e);var t=m(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return(0,h.Z)(this,n),(i=t.call(this,r,s,a)).m_pItemConstructor=e,i}return(0,l.Z)(n,[{key:"itemConstructor",get:function(){return this.m_pItemConstructor}},{key:"appendToMatrix",value:function(e){return this.pushToMatrix(this.onItemInstance(e),{index:-1,recalculate:!0,emit:"push"})}},{key:"insertToMatrix",value:function(e){return this.pushToMatrix(this.onItemInstance(e),{index:0,recalculate:!0,emit:"push"})}},{key:"insertToMatrixAtCursor",value:function(e,t){return this.pushToMatrix(this.onItemInstance(e),{index:this.getSafeCursor(t).index,recalculate:!0,emit:"push"})}},{key:"insertToMatrixAtIndex",value:function(e,t){return this.pushToMatrix(this.onItemInstance(e),{index:t,recalculate:!0,emit:"push"})}},{key:"insertToMatrixAtPosition",value:function(e,t,n){return this.pushToMatrix(this.onItemInstance(e),{index:this.indexFromColumnRow(t,n),recalculate:!0,emit:"push"})}},{key:"onItemInstance",value:function(e){return new this.itemConstructor(this,e)}}]),n}(bt),nn=function(e){(0,a.Z)(n,e);var t=m(n);function n(e){return(0,h.Z)(this,n),t.call(this,e)}return(0,l.Z)(n,[{key:"parent",get:function(){return this.matrix()}},{key:"matrix",value:function(){return(0,s.Z)((0,u.Z)(n.prototype),"matrix",this).call(this)}},{key:"insertBefore",value:function(e){return this.parent.pushToMatrix(this.parent.onItemInstance(e),{index:this.index,recalculate:!0,emit:"push"})}},{key:"insertAfter",value:function(e){return this.parent.pushToMatrix(this.parent.onItemInstance(e),{index:this.index+(this.isPopped?0:1),recalculate:!0,emit:"push"})}},{key:"dispatch",value:function(e,t){"Detach"!==t&&(0,s.Z)((0,u.Z)(n.prototype),"dispatch",this).call(this,e,t)}}]),n}(en);!function(e){e[e.Vertical=0]="Vertical",e[e.Horizontal=1]="Horizontal"}(Yt||(Yt={})),function(e){e[e.Push=1]="Push",e[e.Pop=2]="Pop",e[e.Move=4]="Move",e[e.Swap=8]="Swap",e[e.Sort=16]="Sort",e[e.Recalculation=32]="Recalculation",e[e.Last=64]="Last",e[e.First=128]="First"}(Xt||(Xt={})),function(e){e[e.Vertical=0]="Vertical",e[e.Horizontal=1]="Horizontal",e[e.Square=2]="Square",e[e.SquareHorizontal=3]="SquareHorizontal",e[e.SquareVertical=4]="SquareVertical"}(Qt||(Qt={}));var rn=function(e){(0,a.Z)(n,e);var t=m(n);function n(e,i){var r;return(0,h.Z)(this,n),(r=t.call(this,e)).m_pSuccessors={live:{},preview:{}},r.hash=i,r}return(0,l.Z)(n,[{key:"ancestor",get:function(){return this.m_pAncestor}},{key:"branch",get:function(){return this.m_pBranch}},{key:"id",get:function(){return this.hash}},{key:"selectSuccessor",value:function(e){return this.m_pSuccessors[e]}},{key:"prepare",value:function(e,t){return this.m_pAncestor=e,this.m_pBranch=t,this}},{key:"setSuccessor",value:function(e,t){var n=this.selectSuccessor(e);n.state=t,n.isSet=!0}},{key:"successor",value:function(e){var t=this.selectSuccessor(e);if(!t.isSet){var n=this.branch||this.ancestor;n&&(t.state=n.successor(e),t.isSet=!0)}return t.state}}]),n}(nn),sn=function(e){(0,a.Z)(n,e);var t=m(n);function n(e,i){var r;return(0,h.Z)(this,n),(r=t.call(this,e,i.id)).m_sContext="",r.m_pProps=i,r}return(0,l.Z)(n,[{key:"conditions",get:function(){return this.parent}},{key:"branch",get:function(){return this.conditions.branch}},{key:"state",get:function(){return this.branch.state}},{key:"context",get:function(){return this.m_sContext||(this.m_sContext=n.createContext(this.m_pProps))}},{key:"props",get:function(){return this.m_pProps}},{key:"onApproved",value:function(e){}}],[{key:"createContext",value:function(e){return Jt(JSON.stringify(he(e,{id:""})))}}]),n}(rn),an=function(e){(0,a.Z)(n,e);var t=m(n);function n(e){var i;return(0,h.Z)(this,n),(i=t.call(this,e.state.ontology.constructors.condition)).m_pBranch=e,i}return(0,l.Z)(n,[{key:"branch",get:function(){return this.m_pBranch}},{key:"create",value:function(e){var t=sn.createContext(e);if(!this.each((function(e){return e.context===t})))return this.appendToMatrix(e)}}]),n}(tn),on=function(e){(0,a.Z)(n,e);var t=m(n);function n(e){var i;return(0,h.Z)(this,n),(i=t.call(this,e.ontology.constructors.branch)).m_pState=e,i}return(0,l.Z)(n,[{key:"state",get:function(){return this.m_pState}},{key:"create",value:function(e,t){return this.appendToMatrix(e).prepare(t)}}]),n}(tn),un=function(e){(0,a.Z)(n,e);var t=m(n);function n(e,i){var s;return(0,h.Z)(this,n),(s=t.call(this,e,i.id)).m_pStates=[],s.m_pConditions=new an((0,r.Z)(s)),s.m_pProps=i,s.m_sCulling="each"===i.culling||"all"===i.culling||"none"===i.culling?i.culling:"first",s.m_bSpawn=oe(i.spawn),s}return(0,l.Z)(n,[{key:"branches",get:function(){return this.parent}},{key:"states",get:function(){return this.m_pStates}},{key:"state",get:function(){return this.branches.state}},{key:"conditions",get:function(){return this.m_pConditions}},{key:"props",get:function(){return this.m_pProps}},{key:"culling",get:function(){return this.m_sCulling}},{key:"spawn",get:function(){return this.m_bSpawn}},{key:"isMain",get:function(){return this.state.isMain}},{key:"isFinish",get:function(){return this.isMain||"abort"===this.m_pProps.jump}},{key:"entry",value:function(e){return this.m_pStates.length>0?this.m_pStates[0]:this.successor(e)}},{key:"onReady",value:function(e){this.emitHook("OnReady",{branch:this,context:e})}},{key:"onEnter",value:function(e){this.emitHook("OnEnter",{branch:this,context:e})}},{key:"onSkip",value:function(e){this.emitHook("OnSkip",{branch:this,context:e})}},{key:"onLeave",value:function(e){this.emitHook("OnLeave",{branch:this,context:e})}},{key:"onCancel",value:function(e){this.emitHook("OnCancel",{branch:this,context:e})}}]),n}(rn),cn=function(){function e(t){var n;(0,h.Z)(this,e),this.m_nPromises=0,this.m_bAsynchronous=!1,this.m_bCanceled=!1,this.m_fnPromise=t.promise,this.m_bContinuous=oe(t.continuous),(n=t.await(this))!==this&&0===this.m_nPromises&&this.return(n),this.m_bAsynchronous=!0,this.m_bCondition=oe(this.m_bCondition,!oe(t.conditional))}return(0,l.Z)(e,[{key:"condition",get:function(){return oe(this.m_bCondition,!0)},set:function(e){this.m_bCondition=e}},{key:"isAlive",get:function(){return V(this.m_fnPromise)}},{key:"promiseCount",get:function(){return this.m_nPromises}},{key:"terminate",value:function(){return this.return(void 0),this.condition}},{key:"cancel",value:function(){return this.m_bCanceled=!0,this.m_bCondition=!0,this.terminate()}},{key:"return",value:function(e){return this.m_fnPromise&&this.condition&&(this.m_nPromises++,this.m_fnPromise({isAsynchronous:this.m_bAsynchronous,isCanceled:this.m_bCanceled,payload:e}),this.m_bContinuous||(this.m_fnPromise=void 0)),e}}],[{key:"of",value:function(t){return new e(t)}}]),e}(),hn=function(e){(0,a.Z)(n,e);var t=m(n);function n(e){return(0,h.Z)(this,n),t.call(this,{await:e.await,promise:e.promise,conditional:e.conditional,continuous:e.continuous})}return(0,l.Z)(n,[{key:"done",value:function(){return this.terminate()}}],[{key:"for",value:function(e){return new n(e)}}]),n}(cn),ln=function(e){(0,a.Z)(n,e);var t=m(n);function n(e){var i;return(0,h.Z)(this,n),(i=t.call(this,e.ontology.constructors.transducer)).m_pState=e,i}return(0,l.Z)(n,[{key:"state",get:function(){return this.m_pState}},{key:"create",value:function(e){return this.appendToMatrix(e)}}]),n}(tn),fn=function(e){(0,a.Z)(n,e);var t=m(n);function n(e,i){var s;return(0,h.Z)(this,n),(s=t.call(this,e,i.id)).m_nEvaluate=0,s.m_nEnumerator=0,s.m_pTransducers=new ln((0,r.Z)(s)),s.m_pBranches=new on((0,r.Z)(s)),s.m_pProps=i,s}return(0,l.Z)(n,[{key:"states",get:function(){return this.parent}},{key:"ontology",get:function(){return this.states.ontology}},{key:"transducers",get:function(){return this.m_pTransducers}},{key:"branches",get:function(){return this.m_pBranches}},{key:"isMain",get:function(){return this instanceof mn}},{key:"props",get:function(){return this.m_pProps}},{key:"isEvaluating",get:function(){return this.m_nEvaluate>0}},{key:"enumerator",get:function(){return this.m_nEnumerator}},{key:"prepare",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.m_nEnumerator=i,(0,s.Z)((0,u.Z)(n.prototype),"prepare",this).call(this,e,t)}},{key:"evaluate",value:function(e,t,n){var i=this.m_nEvaluate,r=!0;e instanceof cn?e.isAlive&&this.m_nEvaluate++:(r=n(e),e.isAsynchronous&&this.m_nEvaluate>0&&this.m_nEvaluate--),r&&(0===this.m_nEvaluate&&i>0||this.m_nEvaluate>0&&0===i)&&this.onEvaluate(t,this.m_nEvaluate>0)}},{key:"onSkip",value:function(e){this.emitHook("OnSkip",{state:this,context:e})}},{key:"onLeave",value:function(e){this.emitHook("OnLeave",{state:this,context:e})}},{key:"onLeaveError",value:function(e,t){}},{key:"onCancel",value:function(e){this.emitHook("OnCancel",{state:this,context:e})}},{key:"onValidated",value:function(e,t,n){this.emitHook("OnValidated",{state:this,context:e,result:t,type:n})}},{key:"onEvaluate",value:function(e,t){this.emitHook("OnEvaluate",{state:this,context:e,evaluating:t})}}]),n}(rn),mn=function(e){(0,a.Z)(n,e);var t=m(n);function n(e){return(0,h.Z)(this,n),t.call(this,e,{id:Jt("*")})}return(0,l.Z)(n,[{key:"onEnterCondition",value:function(){return!0}},{key:"onEnter",value:function(){}},{key:"onLeaveCondition",value:function(){return!0}},{key:"onValidate",value:function(){return!0}}]),n}(fn),pn=function(e){(0,a.Z)(n,e);var t=m(n);function n(e){var i;return(0,h.Z)(this,n),(i=t.call(this,e.constructors.state)).m_pOntology=e,i}return(0,l.Z)(n,[{key:"ontology",get:function(){return this.m_pOntology}},{key:"main",value:function(){return this.pushToMatrix(new mn(this))}},{key:"create",value:function(e,t,n,i){var r=this.appendToMatrix(e).prepare(n,t,i);return t.states.push(r),r}}]),n}(tn);function dn(e){switch(e){case"meta":return 0;case"static":return 1;case"dynamic":return 2;case"feature":return 3}}function gn(e,t,n,i){var r,s=arguments.length,a=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(a=(s<3?r(a):s>3?r(t,n,a):r(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a}var vn="@serializer #properties",yn="@deserializer #properties";function _n(e,t,n){var i=Object.getOwnPropertyDescriptor(e,yn);if(n&&!n.set)throw new Error("Decorator '@deserialize' can only be used on writable properties, but '".concat(t,"' seems to be a readonly property or a method."));i&&q(i.value)?i.value.push(t):Object.defineProperty(e,yn,{value:[t],writable:!1,enumerable:!1,configurable:!1})}function kn(e,t,n){var i=Object.getOwnPropertyDescriptor(e,vn);if(n&&!n.get)throw new Error("Decorator '@serialize' can only be used on readable properties, but '".concat(t,"' is not a property."));i&&q(i.value)?i.value.push(t):Object.defineProperty(e,vn,{value:[t],writable:!1,enumerable:!1,configurable:!1})}function bn(e){return function(t){wn.register(t,e)}}function Cn(e,t,n){!function(e,t,n,i,r){var s="@observers #".concat(n),a=Object.getOwnPropertyDescriptor(t,s),o="@observers @".concat(e," #").concat(n);if(Object.getOwnPropertyDescriptor(t,o))throw new Error("Decorator '@".concat(e,"' is already applied to the property '").concat(n,"'."));if(Object.defineProperty(t,o,{value:!0,writable:!1,enumerable:!1,configurable:!1}),a&&q(a.value))a.value.push(r);else{if(i){if(i.configurable=!1,!i.set)throw new Error("Decorator '@".concat(e,"' can only be used on writable properties, but '").concat(n,"' seems to be a readonly property or a method."));var u=i.set;i.set=function(e){var t=tt(this,n);t!==e&&(u.call(this,e),_t(s,this,n,t,e))}}else{var c="@observable #".concat(n);Object.defineProperty(t,n,{get:function(){return tt(this,c)},set:function(e){var t=tt(this,c);t!==e&&($e(this,c,e),_t(s,this,n,t,e))},enumerable:!0,configurable:!1})}Object.defineProperty(t,s,{value:[r],writable:!1,enumerable:!1,configurable:!1})}}("property",e,t,n,(function(e){return e.target.propertyChange(e.property)}))}var Sn=function(e){(0,a.Z)(n,e);var t=m(n);function n(e,i,r,s,a,u,c){var l;if((0,h.Z)(this,n),(l=t.call(this)).m_bReciprocate=!0,!D(r))throw new Error("Invalid slot reference supplied to slot constructor.");if(l.m_pType=e,l.m_sKind=i,l.m_sReference=r,l.m_nSequence=s,l.m_pExchangeables=u,c instanceof wn){if(c.id&&"static"===i){var f=Jt(a?"".concat(c.id,":").concat(a):c.id);if(f&&!c.selectByIdentifier(f))return(0,o.Z)(l,(l.hash=f,void(l.m_bReciprocate=!1)))}var m=n.recover(c,r,"static"===i||"dynamic"===i);m&&!c.selectByIdentifier(m)&&(l.hash=m)}else c&&(l.hash=c);return(0,o.Z)(l)}return(0,l.Z)(n,[{key:"slots",get:function(){return this.parent}},{key:"id",get:function(){return this.hash}},{key:"type",get:function(){return this.m_pType.type}},{key:"kind",get:function(){return this.m_sKind}},{key:"sequence",get:function(){return this.m_nSequence},set:function(e){this.m_nSequence=e,this.slots&&this.slots.sort()}},{key:"reference",get:function(){return this.m_sReference}},{key:"exchangeables",get:function(){var e=this;return pe(this.m_pExchangeables,(function(t){return{property:t,get value(){return tt(e,t)},set value(n){$e(e,t,n)}}}))}},{key:"getPipe",value:function(e){if(K(e.pipeable))return e.pipeable;var t;if(e.pipeable)t=e.pipeable;else{if(K(e.pipable))return e.pipable;t=e.pipable}return t?t.group?{legacy:t.group,label:t.label,alias:t.alias,content:t.content||t.template}:t:void 0}},{key:"onPop",value:function(e){return n.reciprocate(e.matrix,this),(0,s.Z)((0,u.Z)(n.prototype),"onPop",this).call(this,e)}},{key:"propertyChange",value:function(e){var t=this.slots;if(t&&!t.isDeserializing)switch(this.emitHook("OnSlotProperty",{slot:this,property:e}),t.emitHook("OnSlotProperty",{slot:this,property:e}),e){case"label":case"name":case"alias":case"placeholder":this.emitHook("OnSlotRename",{slot:this}),t.emitHook("OnSlotRename",{slot:this});break;case"required":this.emitHook("OnSlotRequired",{slot:this}),t.emitHook("OnSlotRequired",{slot:this})}}},{key:"serialize",value:function(){return function(e,t){var n={};return fe(t,(function(e,t){R(e)&&$e(n,t,e)}),{keys:!0}),fe(tt(e,vn),(function(t){var i=tt(e,t);if(R(i)){var r=tt(i,"@serializer #proc");$e(n,t,D(r)?Ee(tt(i,r),i):i)}})),n}(this,{id:this.id,type:this.type,kind:this.kind,reference:this.reference,sequence:this.sequence,label:this.label,name:this.name,placeholder:this.placeholder,alias:this.alias,required:this.required,pipeable:this.pipeable,default:this.default,exportable:this.exportable,actionable:this.actionable,protected:this.protected})}},{key:"deserialize",value:function(e){return function(e,t,n){var i=new ft;fe(tt(e,yn),(function(n){var r=t[n];if(R(r)){var s=tt(e,n),a=tt(s,"@deserializer #proc");if(s&&D(a))return void Ee(tt(s,a),s,r,i);$e(e,n,r)}})),i.flush()}(this,e),this.hash=e.id,this.sequence=e.sequence,this.label=e.label,this.name=e.name,this.placeholder=e.placeholder,this.alias=e.alias,this.required=e.required,this.pipeable=this.getPipe(e),this.default=e.default,this.exportable=e.exportable,this.actionable=K(e.actionable)?e.actionable:e.volatile,this.protected=e.protected,this}},{key:"deprecate",value:function(){return this.pop(),this}},{key:"delete",value:function(){return this.pop(),this}},{key:"pipe",value:function(e){var t=(null==e?void 0:e.id)||this.slots&&this.slots.id;return t&&this.pipeable&&!K(this.pipeable)?Jt(this.pipeable.pipe?"".concat(t,":").concat(this.pipeable.pipe):t):""}},{key:"legacyPipe",value:function(e){var t=(null==e?void 0:e.id)||this.slots&&this.slots.id;return t&&this.pipeable&&!K(this.pipeable)&&this.pipeable.legacy?Jt("".concat(t,":").concat(this.pipeable.legacy)):void 0}},{key:"isPipe",value:function(e){if(e&&this.slots&&this.slots.id&&this.pipeable&&!K(this.pipeable)){if(Jt(this.pipeable.pipe?"".concat(this.slots.id,":").concat(this.pipeable.pipe):this.slots.id)===e)return!0;if(this.pipeable.legacy&&Jt("".concat(this.slots.id,":").concat(this.pipeable.legacy))===e)return!0}return!1}},{key:"exchange",value:function(e){this.m_pExchangeables=e}}],[{key:"reciprocate",value:function(e,t){t.m_bReciprocate&&e.id&&(n.m_pIds["".concat(e.id,":").concat(t.reference)]=t.id,0===e.count&&(n.m_pIds[e.id]="".concat(e.id,":").concat(t.reference)))}},{key:"recover",value:function(e,t,i){if(e.id){var r=n.m_pIds["".concat(e.id,":").concat(t)];if(r)return delete n.m_pIds["".concat(e.id,":").concat(t)],r;if(i){var s=n.m_pIds["".concat(e.id)];if(s){var a=n.m_pIds[s];if(delete n.m_pIds[e.id],a)return delete n.m_pIds[s],a}}}}}]),n}(en);Sn.m_pIds={},gn([Cn],Sn.prototype,"label",void 0),gn([Cn],Sn.prototype,"name",void 0),gn([Cn],Sn.prototype,"placeholder",void 0),gn([Cn],Sn.prototype,"alias",void 0),gn([Cn],Sn.prototype,"required",void 0),gn([Cn],Sn.prototype,"pipeable",void 0),gn([Cn],Sn.prototype,"default",void 0),gn([Cn],Sn.prototype,"exportable",void 0),gn([Cn],Sn.prototype,"actionable",void 0),gn([Cn],Sn.prototype,"protected",void 0),gn([Cn],Sn.prototype,"sequence",null),gn([function(e,t,n){if(!n||!V(n.value))throw new Error("Decorator '@serializer' needs to be applied to a function, but '".concat(t,"' seems to be a property."));if(Object.getOwnPropertyDescriptor(e,"@serializer #proc"))throw new Error("Decorator '@serializer' is applied multiple times, but can only be used once in a class.");Object.defineProperty(e,"@serializer #proc",{value:t,writable:!1,enumerable:!1,configurable:!1})}],Sn.prototype,"serialize",null),gn([function(e,t,n){if(!n||!V(n.value))throw new Error("Decorator '@deserializer' needs to be applied to a function, but '".concat(t,"' seems to be a property."));if(Object.getOwnPropertyDescriptor(e,"@deserializer #proc"))throw new Error("Decorator '@deserializer' is applied multiple times, but can only be used once in a class.");Object.defineProperty(e,"@deserializer #proc",{value:t,writable:!1,enumerable:!1,configurable:!1})}],Sn.prototype,"deserialize",null);var wn=function(e){(0,a.Z)(n,e);var t=m(n);function n(e){var i;return(0,h.Z)(this,n),(i=t.call(this)).m_bDeserializing=!1,i.m_sId=null==e?void 0:e.id,i}return(0,l.Z)(n,[{key:"id",get:function(){return this.m_sId}},{key:"isDeserializing",get:function(){return this.m_bDeserializing}},{key:"hasMultiplePipeable",get:function(){if(this.count>1){var e,t=0;return this.each((function(n){var i=n.pipeable&&!K(n.pipeable)?n.pipeable.pipe||!0:void 0;return(i&&i!==e||!i&&!1!==n.pipeable)&&t++,e||(e=i),t>1}))}return!1}},{key:"create",value:function(e,t){var n=this.select(t.reference,e);return n&&n.type===t.type.type?n.sequence!==t.sequence&&(n.sequence=t.sequence):(n&&n.delete(),n=this.pushToMatrix(new t.type(t.type,e,t.reference,t.sequence,t.pipe,t.exchange,(null==n?void 0:n.id)||this))),fe(t,(function(e,t){switch(t){case"type":case"reference":case"sequence":case"pipe":break;case"exchange":n.exchange(e);break;default:Qe(n,t,e)}}),{keys:!0}),n}},{key:"onDimensionChange",value:function(e){(0,s.Z)((0,u.Z)(n.prototype),"onDimensionChange",this).call(this,e),this.isDeserializing||this.sort()}},{key:"meta",value:function(e){return this.create("meta",e)}},{key:"static",value:function(e){return this.create("static",e)}},{key:"dynamic",value:function(e){return this.create("dynamic",e)}},{key:"feature",value:function(e){return this.create("feature",e)}},{key:"select",value:function(e,t){var n;return this.each((function(i){return!(t&&t!==i.kind||i.reference!==e&&i.id!==e||(n=i,0))})),n}},{key:"selectByIdentifier",value:function(e){var t;if(e)return this.each((function(n){return!(n.id!==e&&!n.isPipe(e)||(t=n,0))})),t}},{key:"deprecate",value:function(e,t){var n=this.select(e,t);if(n)return n.deprecate()}},{key:"delete",value:function(e,t){var n=this.select(e,t);if(n)return n.delete()}},{key:"clean",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];this.each((function(t){e&&t.kind!==e||Ce(n,(function(e){return e instanceof Sn&&e.id===t.id}))||t.pop()}))}},{key:"sort",value:function(){return!this.isDeserializing&&(0,s.Z)((0,u.Z)(n.prototype),"sort",this).call(this,(function(e,t){return dn(e.kind)-dn(t.kind)||(e.sequence||0)-(t.sequence||0)||e.uniqueId-t.uniqueId}))}},{key:"serialize",value:function(){var e=[];return this.each((function(t){e.push(t.serialize())})),e}},{key:"deserialize",value:function(e){var t=this;return this.m_bDeserializing=!0,fe(e,(function(e){var i=n.ofType(e.type);if(!i)throw new Error("No slot implementation found for type '".concat(e.type,"'"));var r=t.select(e.reference,e.kind);r&&r.type===i.type?r.deserialize(e):(r&&r.pop(),t.pushToMatrix(new i(i,e.kind,e.reference,e.sequence)).deserialize(e))})),this.m_bDeserializing=!1,this.sort(),this}},{key:"destroy",value:function(){this.clear("dirty"),(0,s.Z)((0,u.Z)(n.prototype),"destroy",this).call(this)}}],[{key:"register",value:function(e,t){if(this.m_pTypes[t])throw new Error("Duplicate slot type '".concat(t,"' registered using the '@slot' decorator."));this.m_pTypes[Qe(e,"type",t)]=e}},{key:"ofType",value:function(e){return this.m_pTypes[e]}}]),n}(bt);wn.m_pTypes={};var xn=function(e){(0,a.Z)(n,e);var t=m(n);function n(){return(0,h.Z)(this,n),t.apply(this,arguments)}return(0,l.Z)(n,[{key:"toValue",value:function(e){return oe(e,this.default)}},{key:"toString",value:function(e){var t=this.toValue(e);return!t&&this.labelForFalse?this.labelForFalse:t&&this.labelForTrue?this.labelForTrue:t?"True":"False"}}]),n}(Sn);gn([Cn,kn,_n],xn.prototype,"labelForFalse",void 0),gn([Cn,kn,_n],xn.prototype,"labelForTrue",void 0),xn=gn([bn("boolean")],xn);var Mn=function(e){(0,a.Z)(n,e);var t=m(n);function n(){return(0,h.Z)(this,n),t.apply(this,arguments)}return(0,l.Z)(n,[{key:"supportsTime",get:function(){return"years"!==this.precision&&"months"!==this.precision&&"days"!==this.precision}},{key:"fromString",value:function(e){var t=e.replace(" ","T").split("T"),n=t[0].split("-"),i=2===t.length&&t[1].split(":")||void 0;if(3===n.length&&(!i||3===i.length)){var r=new Date(0);if(r.setUTCFullYear(se(n[0])),r.setUTCMonth(se(n[1])-1),r.setUTCDate(se(n[2])),i){r.setUTCHours(se(i[0])),r.setUTCMinutes(se(i[1]));var s=i[2].split(".");r.setUTCSeconds(se(2===s.length?s[0]:i[2])),r.setUTCMilliseconds(2===s.length?se(s[1]):0)}else r.setUTCHours(0),r.setUTCMinutes(0),r.setUTCSeconds(0),r.setUTCMilliseconds(0);return r.getTime()}return this.default||0}},{key:"toValue",value:function(e,t){var n=e instanceof Date?new Date(e.getTime()-60*e.getTimezoneOffset()*1e3):new Date(Z(e)?this.fromString(e):se(e,this.default)),i=!0===this.minimum?new Date:this.minimum,r=!0===this.maximum?new Date:this.maximum;if($(i)||U(i)){var s=$(i)?i.getTime()-60*i.getTimezoneOffset()*1e3:i;n.getTime()<s&&n.setTime(s)}if($(r)||U(r)){var a=$(r)?r.getTime()-60*r.getTimezoneOffset()*1e3:r;n.getTime()>a&&n.setTime(a)}switch(t||this.precision){case"years":n.setUTCMonth(0);case"months":n.setUTCDate(1);case"days":n.setUTCHours(0);case"hours":n.setUTCMinutes(0);case"minutes":n.setUTCSeconds(0);case"seconds":n.setUTCMilliseconds(0)}return n.getTime()}},{key:"toDate",value:function(e,t){return new Date(this.toValue(e,t))}},{key:"toString",value:function(e,t){var n=this.toDate(e,t),i=!0;switch(t||this.precision){case"years":case"months":case"days":i=!1}return"".concat(n.getUTCFullYear(),"-").concat(d.padLeft(n.getUTCMonth()+1,"0",2),"-").concat(d.padLeft(n.getUTCDate(),"0",2))+(i&&" ".concat(d.padLeft(n.getUTCHours(),"0",2),":").concat(d.padLeft(n.getUTCMinutes(),"0",2),":").concat(d.padLeft(n.getUTCSeconds(),"0",2),".").concat(d.padLeft(n.getUTCMilliseconds(),"0",3))||"")}}]),n}(Sn);gn([Cn,kn,_n],Mn.prototype,"precision",void 0),gn([Cn,kn,_n],Mn.prototype,"minimum",void 0),gn([Cn,kn,_n],Mn.prototype,"maximum",void 0),Mn=gn([bn("date")],Mn);var Tn=function(e){(0,a.Z)(n,e);var t=m(n);function n(){return(0,h.Z)(this,n),t.apply(this,arguments)}return(0,l.Z)(n,[{key:"toValue",value:function(e){return se(e,this.default)}},{key:"toString",value:function(e,t){return t?t(this.toValue(e)):re(this.toValue(e))}}]),n}(Sn);Tn=gn([bn("number")],Tn);var In=function(e){(0,a.Z)(n,e);var t=m(n);function n(){return(0,h.Z)(this,n),t.apply(this,arguments)}return(0,l.Z)(n,[{key:"precision",get:function(){return this.m_nPrecision},set:function(e){this.m_nPrecision=U(e)?p.max(0,e):void 0}},{key:"toValue",value:function(e){var t;return t=U(this.precision)&&this.precision>0?p.conform(ae(e,this.default),this.precision):se(e,this.default),U(this.minimum)&&t<this.minimum&&(t=this.minimum),U(this.maximum)&&t>this.maximum&&(t=this.maximum),t}},{key:"formatString",value:function(e,t){return(t&&Z(this.prefixPlural)?this.prefixPlural:this.prefix||"")+e+(t&&Z(this.suffixPlural)?this.suffixPlural:this.suffix||"")}},{key:"toString",value:function(e,t){var n=this.toValue(e);return this.formatString(this.digits?d.padLeft(n,"0",this.digits,!1,!0):!t||this.separator||this.decimal||this.minus?p.format(n,this.precision,this.separator||"",this.decimal,this.minus):t(n,this.precision),1!==n)}}]),n}(Sn);gn([Cn,kn,_n],In.prototype,"minimum",void 0),gn([Cn,kn,_n],In.prototype,"maximum",void 0),gn([Cn,kn,_n],In.prototype,"separator",void 0),gn([Cn,kn,_n],In.prototype,"decimal",void 0),gn([Cn,kn,_n],In.prototype,"minus",void 0),gn([Cn,kn,_n],In.prototype,"prefix",void 0),gn([Cn,kn,_n],In.prototype,"prefixPlural",void 0),gn([Cn,kn,_n],In.prototype,"suffix",void 0),gn([Cn,kn,_n],In.prototype,"suffixPlural",void 0),gn([Cn,kn,_n],In.prototype,"digits",void 0),gn([Cn,kn,_n],In.prototype,"precision",null),In=gn([bn("numeric")],In);var En=function(e){(0,a.Z)(n,e);var t=m(n);function n(){return(0,h.Z)(this,n),t.apply(this,arguments)}return(0,l.Z)(n,[{key:"toValue",value:function(e){return re(e,this.default)}},{key:"toString",value:function(e){return this.toValue(e)}}]),n}(Sn);En=gn([bn("string")],En);var Pn=function(e){(0,a.Z)(n,e);var t=m(n);function n(){return(0,h.Z)(this,n),t.apply(this,arguments)}return(0,l.Z)(n,[{key:"maxLength",get:function(){return this.m_nMaxLength},set:function(e){this.m_nMaxLength=U(e)?p.max(0,e):void 0}},{key:"toValue",value:function(e){var t=d.sanitize(re(e,this.default)).substr(0,this.maxLength||void 0);switch(this.transformation){case"capitalize":return d.capitalize(t,"first-character");case"capitalize-words":return d.capitalize(t,"each-word");case"capitalize-sentences":return d.capitalize(t,"each-sentence");case"uppercase":return d.uppercase(t);case"lowercase":return d.lowercase(t)}return t}},{key:"toString",value:function(e){return this.toValue(e)}}]),n}(Sn);gn([Cn,kn,_n],Pn.prototype,"maxLength",null),gn([Cn,kn,_n],Pn.prototype,"transformation",void 0),Pn=gn([bn("text")],Pn);var An,Fn=Object.freeze({__proto__:null,Slots:wn,Slot:Sn,property:Cn,slot:bn,get Boolean(){return xn},get Date(){return Mn},get Number(){return Tn},get Numeric(){return In},get String(){return En},get Text(){return Pn}}),On=function(e){(0,a.Z)(n,e);var t=m(n);function n(e,i){var r;return(0,h.Z)(this,n),(r=t.call(this,e,i.id)).m_pProps=i,r.m_pSlots=new wn,r}return(0,l.Z)(n,[{key:"transducers",get:function(){return this.parent}},{key:"state",get:function(){return this.transducers.state}},{key:"slots",get:function(){return this.m_pSlots}},{key:"props",get:function(){return this.m_pProps}},{key:"seal",value:function(e,t){this.slots.each((function(n){var i=e.mutableValueOf(n);i&&i.seal(t)}))}},{key:"shouldVerifySeal",value:function(e){var t=!1;return this.slots.each((function(n){var i=e.mutableValueOf(n);i&&i.shouldVerifySeal&&(t=!0)})),t}},{key:"isAwaiting",value:function(e){return this.slots.each((function(t){var n=e.mutableValueOf(t);return n&&n.isAwaiting||!1}))}},{key:"onSkip",value:function(e){this.emitHook("OnSkip",{transducer:this,context:e})}},{key:"onLeave",value:function(e){this.emitHook("OnLeave",{transducer:this,context:e})}},{key:"onCancel",value:function(e){this.emitHook("OnCancel",{transducer:this,context:e})}},{key:"onBeforeValidate",value:function(e){}},{key:"onValidated",value:function(e,t,n){this.emitHook("OnValidated",{transducer:this,context:e,result:t,type:n})}},{key:"onSideEffect",value:function(e,t){}}]),n}(rn),Ln=function(){function e(t){(0,h.Z)(this,e),this.m_pValue=t}return(0,l.Z)(e,[{key:"key",get:function(){return this.m_pValue.key}},{key:"context",get:function(){return this.m_pValue.context}},{key:"slot",get:function(){return this.m_pValue.slot}},{key:"value",get:function(){return this.m_pValue.value}},{key:"string",get:function(){return this.m_pValue.string}},{key:"reference",get:function(){return this.m_pValue.reference}},{key:"time",get:function(){return this.m_pValue.time}},{key:"hasValue",get:function(){return this.m_pValue.hasValue}},{key:"isModified",get:function(){return this.m_pValue.isModified}},{key:"isSealed",get:function(){return this.m_pValue.isSealed||this.m_pValue.isPreliminarily}},{key:"isLocked",get:function(){return this.m_pValue.isLocked}},{key:"isFrozen",get:function(){return this.m_pValue.isFrozen}},{key:"subscribe",value:function(e,t){var n=this;return this.m_pValue.subscribe((function(){return e(n)}),t),this}},{key:"unsubscribe",value:function(e){return this.m_pValue.unsubscribe(e),this}}]),e}(),Rn=function(){function e(t,n){(0,h.Z)(this,e),this.m_pMutables={},this.m_pImmutables={},this.m_nId=e.m_nId++,this.m_pStack=t,this.m_pChain=n}return(0,l.Z)(e,[{key:"instance",get:function(){return this.m_pStack.instance}},{key:"l10n",get:function(){return this.instance.l10n}},{key:"id",get:function(){return this.m_nId}},{key:"key",get:function(){if(!this.m_sKey){for(var e=this.m_pStack,t="";e;){var n=e.mutableContext;n&&(t+=n.context),e=e.ancestor}this.m_sKey=Jt(t||"*")}return this.m_sKey}},{key:"index",get:function(){return this.m_pStack.branchIndex}},{key:"getImmutableValue",value:function(e,t){var n=e instanceof Sn?e.id:B(e)?e.slot.id:e,i=this.m_pImmutables[n];return i&&i.isSealed?i:(t||(t=this.instance.data.forSlot(e)),t&&Qe(this.m_pImmutables,n,t.immutableValue(this.m_pStack)))}},{key:"validationOf",value:function(e){return this.m_pStack.validationOf(e)}},{key:"isMutableContextOf",value:function(e){return e.state===this.m_pStack.state&&e.mutableContext===this.m_pStack.mutableContext}},{key:"mutableValueOf",value:function(e){var t=e instanceof Sn?e.id:B(e)?e.slot.id:e,n=this.m_pMutables[t];if(n)return n;var i=this.instance.data.forSlot(t);return i&&Qe(this.m_pMutables,t,i.mutableValue(this.m_pStack,!1,this))}},{key:"immutableValueOf",value:function(e){return this.getImmutableValue(e)}},{key:"contextualValueOf",value:function(e){var t=e instanceof Sn?e.id:B(e)?e.slot.id:e,n=this.m_pMutables[t];if(n)return n;var i=this.instance.data.forSlot(t);return i&&Qe(this.m_pMutables,t,i.mutableValue(this.m_pStack,!0,this))}},{key:"proxyValueOf",value:function(e,t,n,i,r){var s,a=this;return{get context(){return s||(s=a.getImmutableValue(t,e)),null==s?void 0:s.context},get string(){if(s||(s=a.getImmutableValue(t,e)),s){if(n&&t.pipeable&&!K(t.pipeable)&&t.pipeable.content&&"value"!==t.pipeable.content){var o=t.pipeable.content;return("name"===o?t.name:"label"===o?t.label:o.string)||""}return s.hasValue&&s.isSealed&&(r&&r(s,a)||s.string)||""}return d.iterateToString(e.getString(a.m_pStack,a,n,r),i)},get content(){if(s||(s=a.getImmutableValue(t,e)),s){if(n&&t.pipeable&&!K(t.pipeable)&&t.pipeable.content&&"value"!==t.pipeable.content){var o=t.pipeable.content;return"name"===o?[{value:t.name||"",type:"string",separator:i}]:"label"===o?[{value:t.label||"",type:"string",separator:i}]:o.markdown?[{value:o.markdown,type:"markdown",separator:i}]:o.text?[{value:o.text,type:"text",separator:i}]:[{value:o.string,type:"string",separator:i}]}return[{value:s.hasValue&&s.isSealed&&(r&&r(s,a)||s.string)||"",type:"string",separator:i}]}return e.getContent(a.m_pStack,a,n,i,r)},get value(){return s||(s=a.getImmutableValue(t,e)),s?s.isSealed?s.value:void 0:e.getValue(a.m_pStack)},get reference(){if(s||(s=a.getImmutableValue(t,e)),s&&s.isSealed)return s.reference},get hasValue(){return s||(s=a.getImmutableValue(t,e)),s?s.hasValue&&s.isSealed:e.hasValue(a.m_pStack)},get refs(){return s||(s=a.getImmutableValue(t,e)),s?[s.hasValue&&s.isSealed&&s.reference||t.reference]:e.getRefs(a.m_pStack,n)},update:function(e){s=e}}}},{key:"variableFor",value:function(e,t,n,i){var r=this,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:", ",a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(i&&e===i){var o=this.instance;return{id:i,get string(){return o.finishReference},get content(){return[{value:o.finishReference,type:"string",separator:s}]},get reference(){return o.finishReference},hasValue:!0,refs:[i],subscribe:O,unsubscribe:O}}var u=e instanceof Sn?e.id:B(e)?e.slot.id:e,c=e instanceof Sn?e:B(e)?e.slot:this.m_pChain.slot(u);if(c instanceof Sn){var h=this.instance.data.forSlot(c);if(h){var l,m=this,p=c,d={slot:c,id:u,get hasValue(){return(l||(l=m.proxyValueOf(h,p,a,s,n))).hasValue},get value(){return(l||(l=m.proxyValueOf(h,p,a,s,n))).value},get reference(){return(l||(l=m.proxyValueOf(h,p,a,s,n))).reference},get string(){return(l||(l=m.proxyValueOf(h,p,a,s,n))).string},get content(){return(l||(l=m.proxyValueOf(h,p,a,s,n))).content},get refs(){return(l||(l=m.proxyValueOf(h,p,a,s,n))).refs},subscribe:function(e,t){var i=function(t){if(l&&l.context===t.context)l.update(t.value),e(d);else{var i=r.proxyValueOf(h,p,a,s,n);!i||l&&l.context===i.context||(l=i,e(d))}};h.groupedHook("OnValueChange","synchronous",(function(e){return i(e)}),t),h.groupedHook("OnSealChange","synchronous",(function(e){return i(e)}),t)},unsubscribe:function(e){return h.unhook("OnValueChange",e)}};return d}}else if(c&&c.length>0){var g=[];if(t)for(var v=this.m_pStack;v;){var y=v.immutableContext;if(y){var _=function(){var e=t(y,r);if(e){var a=Ce(c,(function(t){return t.id===e}));if(a&&a.pipeable&&!K(a.pipeable)){var o=r.variableFor(a,void 0,n,i,s,!0);if(o)return{v:(Qe(o,"id",u),o)}}}}();if("object"==typeof _)return _.v}v=v.ancestor}fe(c,(function(e){if(e.pipeable&&!K(e.pipeable)){var t=r.variableFor(e,void 0,n,i,s,!0);t&&g.push(t)}}));var k={id:u,get string(){var e,t,n="";return fe(g,(function(i){if(i.slot){var r=i.slot;if(!(r instanceof xn)||!0===i.value)if(!(i.slot instanceof Tn||i.slot instanceof In)||r.pipeable&&!K(r.pipeable)&&"value"!==r.pipeable.content){var a=i.string;a&&(n+=(""===n?"":s)+a)}else t=i.slot,i.hasValue&&U(i.value)&&(e=(e||0)+i.value)}})),t&&U(e)&&(n+=(""===n?"":s)+t.toString(e)),n},get content(){var e,t,n=[];return fe(g,(function(i){if(i.slot){var r=i.slot;r instanceof xn&&!0!==i.value||(!(i.slot instanceof Tn||i.slot instanceof In)||r.pipeable&&!K(r.pipeable)&&"value"!==r.pipeable.content?n.push.apply(n,(0,f.Z)(i.content)):(t=i.slot,i.hasValue&&U(i.value)&&(e=(e||0)+i.value)))}})),t&&U(e)&&n.push({value:t.toString(e),type:"string",separator:s}),n},get hasValue(){return!!Ce(g,(function(e){if(e.slot){var t=e.slot;if(t.pipeable&&!K(t.pipeable))return e.hasValue}return!1}))},get refs(){var e=[];return fe(g,(function(t){!t.slot||t.slot instanceof xn&&!0!==t.value||e.push.apply(e,(0,f.Z)(t.refs))})),e},subscribe:function(e,t){return fe(g,(function(n){return n.subscribe((function(){return e(k)}),t)}))},unsubscribe:function(e){return fe(g,(function(t){return t.unsubscribe(e)}))}};return k}}}]),e}();Rn.m_nId=0;var Hn=function(){function e(t,n,i,r,s,a,o,u){var c=arguments.length>8&&void 0!==arguments[8]&&arguments[8],l=arguments.length>9&&void 0!==arguments[9]&&arguments[9];(0,h.Z)(this,e),this.m_pSubscriptions=new gt,this.m_bImport=!1,this.m_bImportListener=!1,this.m_bImportModifier=!1,this.m_bVerifySeal=!1,this.m_bAwaiting=!1,this.m_bAllowPrefill=!0,this.m_bDefault=!1,this.m_bFrozen=!1,this.m_nEmitter=0,this.m_bOperation=!1,this.m_nId=e.m_pEnumerator.n,this.m_pTransducer=t,this.m_pSlot=n,this.m_sContext=i,this.m_fnChange=s,this.m_pValue=a,this.m_sReference=o,this.m_bSealed=c,this.m_bLocked=l,this.attachContext(r),this.setTime(u)}return(0,l.Z)(e,[{key:"id",get:function(){return this.m_nId}},{key:"key",get:function(){return this.m_sKey||(this.m_sKey="_"+Jt("".concat(this.slot.id,"/").concat(this.id)))}},{key:"context",get:function(){return this.m_sContext}},{key:"contextRef",get:function(){return this.m_pContext}},{key:"slot",get:function(){return this.m_pSlot}},{key:"pristine",get:function(){return this.m_pValue},set:function(e){this.isFrozen||this.isLocked||e===this.m_pValue||(this.m_pValue=e,this.m_bVerifySeal=!0,this.m_bAwaiting=!1,this.setTime(),this.emitChange("value"))}},{key:"value",get:function(){return this.slot.toValue(this.pristine)},set:function(e){this.pristine=e}},{key:"string",get:function(){return this.slot.toString(this.value)}},{key:"reference",get:function(){return this.m_sReference}},{key:"hasValue",get:function(){return!!U(this.m_nTime)}},{key:"isModified",get:function(){return this.m_bImport?this.isDirty||this.m_pInitialValue!==this.m_pValue:!this.isDirty&&!L(this.m_pValue)}},{key:"isPreliminarily",get:function(){var e;return(null===(e=this.m_pContext)||void 0===e?void 0:e.instance.isTransducerPresent(this.m_pTransducer))||!1}},{key:"isSealed",get:function(){var e;return(null===(e=this.m_pContext)||void 0===e?void 0:e.instance.isPreview)||this.m_bSealed}},{key:"isDirty",get:function(){return!this.isSealed||!this.hasValue}},{key:"shouldVerifySeal",get:function(){return!!this.m_bVerifySeal&&(this.m_bVerifySeal=!1,!0)}},{key:"isFrozen",get:function(){return this.m_bFrozen}},{key:"isLocked",get:function(){return this.m_bLocked}},{key:"isAwaiting",get:function(){return this.m_bAwaiting}},{key:"allowPrefill",get:function(){return this.m_bAllowPrefill}},{key:"time",get:function(){return this.m_nTime}},{key:"immutable",get:function(){return new Ln(this)}},{key:"emitChange",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(0!==this.m_nEmitter&&(this.m_nEmitter=He(this.m_nEmitter)),"value"===e){this.m_fnModifier&&this.m_bImportModifier&&(this.m_bImportModifier=!1),this.m_fnListener&&this.m_bImportListener&&(this.m_bImportListener=!1);var r=this.m_fnModifier&&this.m_fnModifier(this);r&&(this.m_pValue=r.value,this.m_sReference=r.reference,this.setTime()),this.m_fnListener&&this.m_fnListener(this)}if(n){var s=function(){t.m_nEmitter=0,t.m_fnChange(t,e),t.m_pSubscriptions.emitHook("OnChange",{})};i?this.m_nEmitter=Le((function(){return s()})):s()}}},{key:"setTime",value:function(e){this.m_nTime=L(this.m_pValue)?void 0:U(e)?e:F.now,U(this.m_nTime)&&(this.m_bAllowPrefill=!1),this.m_bOperation||(this.m_pOperations=void 0)}},{key:"makeDirty",value:function(e){if(!this.isFrozen&&!this.isLocked){var t=this.m_nTime;e?this.m_nTime=void 0:this.hasValue||(this.m_nTime=F.now),t!==this.m_nTime&&(this.m_bVerifySeal=!0,this.m_bAwaiting=!1,this.emitChange("value",!0,!0))}}},{key:"precursor",value:function(){this.m_pInitialValue=this.m_pValue,this.m_sInitialReference=this.m_sReference}},{key:"set",value:function(e,t){return this.isFrozen||this.isLocked||!(e!==this.m_pValue||this.m_sReference!==t||this.hasValue&&L(this.m_pValue)&&L(this.m_sReference)||this.m_bAwaiting)||(this.m_pValue=e,this.m_sReference=t,this.m_bVerifySeal=!0,this.m_bAwaiting=!1,this.setTime(),this.emitChange("value")),this.value}},{key:"concatenate",value:function(e,t,n){if(!Ce(this.m_pOperations,(function(n){return n===(t||e)}))){var i=this.string;(this.m_pOperations||(this.m_pOperations=[])).push(t||e),this.m_bOperation=!0,this.set(i+(i&&e&&n||"")+e),this.m_bOperation=!1}return this.string}},{key:"operation",value:function(e,t){return t&&Ce(this.m_pOperations,(function(e){return e===t}))||((this.m_pOperations||(this.m_pOperations=[])).push(t),this.m_bOperation=!0,this.set(e),this.m_bOperation=!1),this}},{key:"reset",value:function(e,t){var n=this.m_pInitialValue,i=this.m_sInitialReference;return L(n)&&(n=e,i=t),this.set(n,i),this.m_bAllowPrefill=!this.hasValue,this.value}},{key:"default",value:function(e,t){return this.m_bDefault||(this.m_bDefault=!0,this.set(e,t)),this.value}},{key:"await",value:function(){return this.isFrozen||this.isLocked||this.m_bAwaiting||(this.m_bAwaiting=!0,this.m_bVerifySeal=!0,this.emitChange("value")),this}},{key:"cancelAwait",value:function(){return this.m_bAwaiting&&(this.m_bAwaiting=!1,this.m_bVerifySeal=!0,this.emitChange("value")),this}},{key:"seal",value:function(e){this.m_bSealed!==e&&(this.m_bSealed=e,e||this.unlock(),this.m_pContext&&this.m_pContext.instance.isPreview||this.emitChange("seal"))}},{key:"freeze",value:function(){var e;this.m_bFrozen||(this.m_bFrozen=!0,null===(e=this.contextRef)||void 0===e||e.instance.markAsChanged(this.slot,!0))}},{key:"unfreeze",value:function(){var e;this.m_bFrozen&&(this.m_bFrozen=!1,null===(e=this.contextRef)||void 0===e||e.instance.markAsChanged(this.slot,!0))}},{key:"lock",value:function(){var e;this.m_bLocked||(this.m_bLocked=!0,null===(e=this.contextRef)||void 0===e||e.instance.markAsChanged(this.slot,!0))}},{key:"unlock",value:function(){var e;this.m_bLocked&&(this.m_bLocked=!1,null===(e=this.contextRef)||void 0===e||e.instance.markAsChanged(this.slot,!0))}},{key:"clear",value:function(){return this.set(void 0)}},{key:"import",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return this.isFrozen||this.isLocked||L(e)||(this.m_bImport=this.m_bImportListener=this.m_bImportModifier=!0,this.m_pInitialValue=e,this.m_sInitialReference=t,(e!==this.m_pValue||t!==this.m_sReference||this.m_bAwaiting)&&(this.m_pValue=e,this.m_sReference=t,this.m_bAwaiting=!1,this.m_bVerifySeal=!0,this.setTime(n),this.emitChange("value",!i))),this.value}},{key:"confirm",value:function(){return this.makeDirty(!1),this}},{key:"dirty",value:function(){return this.makeDirty(!0),this}},{key:"subscribe",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"asynchronous";return this.m_pSubscriptions.hook("OnChange",i,(function(){return e(n)}),t),this}},{key:"unsubscribe",value:function(e){return this.m_pSubscriptions.unhook("OnChange",e),this}},{key:"useListener",value:function(e){return this.m_bImportListener&&(this.m_bImportListener=!1,e(this)),this.m_fnListener=e,this}},{key:"useModifier",value:function(e){if(this.m_bImportModifier&&e){this.m_bImportModifier=!1;var t=e(this);t&&this.set(t.value,t.reference)}return this.m_fnModifier=e,this}},{key:"attachContext",value:function(e){return this.m_pContext||(this.m_pContext=e),this}},{key:"useContext",value:function(e){return this.m_fnContext=e,this}},{key:"mountContext",value:function(e){return this.m_fnContext&&this.m_fnContext(this,e),this}}]),e}();Hn.m_pEnumerator=new y;var Bn=function(e){(0,a.Z)(n,e);var t=m(n);function n(e,i,r,s,a){var o;return(0,h.Z)(this,n),(o=t.call(this)).m_pValues={},o.m_pMutables={},o.m_pImmutables={},o.m_pReferences={},o.m_pTransducer=e,o.m_pSlot=i,o.m_pInstance=r,o.m_pOrchestrator=s,o.m_fnUpdate=a,o}return(0,l.Z)(n,[{key:"data",get:function(){return this.parent}},{key:"transducer",get:function(){return this.m_pTransducer}},{key:"slot",get:function(){return this.m_pSlot}},{key:"values",get:function(){var e={};return fe(this.m_pValues,(function(t,n){t&&!t.isDirty&&Qe(e,n,{value:t.value,reference:t.reference,time:t.time||0})}),{keys:!0}),e}},{key:"hasSealedValues",get:function(){return!!Ce(this.m_pValues,(function(e){return e&&e.isSealed&&(oe(e.slot.exportable,!0)||e.slot.actionable)||!1}))}},{key:"storeContextReference",value:function(e,t){var n=this.m_pReferences[e||"*"]||Qe(this.m_pReferences,e||"*",{});return n[t]||Qe(n,t,!0),t}},{key:"isSlotInBranch",value:function(e,t){var n=this;return Ce(e.states,(function(e){return e.transducers.each((function(e){return e.slots.each((function(e){return e.id===n.m_pSlot.id}))}))||e.branches.each((function(e){return(t||"each"!==e.culling)&&n.isSlotInBranch(e,t)}))}))instanceof fn}},{key:"create",value:function(e,t,n,i){var r=this;return Qe(this.m_pValues,e,new Hn(this.transducer,this.slot,e,n,(function(e,t){var n={transducer:r.transducer,slot:r.slot,data:r.data,id:e.id,context:e.context,get value(){return e.immutable}};switch(t){case"value":r.m_fnUpdate({transducer:r.transducer,slot:r.slot,data:r.data,id:e.id,key:e.context,context:e.contextRef,isSealed:e.isSealed,get value(){return e.immutable}}),r.emitHook("OnValueChange",n),r.data.emitHook("OnValueChange",n);break;case"seal":if(r.emitHook("OnSealChange",n),r.data.emitHook("OnSealChange",n),e.contextRef&&e.isSealed){var i=r.m_pOrchestrator.dependencies(r.slot);r.transducer.parent.each((function(t){!1===i[t.id]&&t!==r.transducer&&t.onSideEffect(e.contextRef,n.transducer)}))}}}),i&&i.b,i&&i.c,i&&i.e,t||ut.has(i&&i.d||0,1),ut.has(i&&i.d||0,2)))}},{key:"assert",value:function(e,t,n){var i=this.m_pValues[e];return i?i.attachContext(n):this.create(e,t,n)}},{key:"mutableContext",value:function(e,t){var i=(null==e?void 0:e.trace)||"";if(!i)return[];var r=this.m_pMutables[i];if(r)return r;for(var s=[],a=!1;e;){var o=e.mutableContext;o&&((a=a||t||this.isSlotInBranch(o.branch,!0))&&s.push({condition:o,context:o.context})),e=e.ancestor}var u=s.length;if(u>0)for(var c="",h="",l=u-1;l>=0;l--){var f=s[l],m=c&&n.getContextHash(c+f.context)||f.context;c+=f.context,Qe(f,"context",this.storeContextReference(h,m)),h=m}return Qe(this.m_pMutables,i,s)}},{key:"immutableContext",value:function(e){var t=(null==e?void 0:e.trace)||"";if(!t)return[];var i=this.m_pImmutables[t];if(i)return i;for(var r=[];e;){var s=e.immutableContext;s&&r.push(s),e=e.ancestor}var a=r.length;if(a>0){for(var o=[],u=a-1;u>=0;u--)for(var c="",h="",l=0,f=u;f>=0;f--){var m=r[f],p=c&&n.getContextHash(c+m.context)||m.context;o.push({condition:m,context:this.storeContextReference(h,p),relevance:l++}),c+=m.context,h=p}return o.sort((function(e,t){return t.relevance-e.relevance})),Qe(this.m_pImmutables,t,o)}return[]}},{key:"getValues",value:function(e){var t=this,n=[];return fe(this.m_pReferences[e],(function(e,i){var r=t.m_pValues[i];r?r.isSealed&&r.hasValue&&n.push(r.immutable):n.push.apply(n,(0,f.Z)(t.getValues(i)))}),{keys:!0}),n}},{key:"mutableValue",value:function(e,t,n){var i=this.mutableContext(e,t);return this.assert(i.length>0?i[0].context:"*",t,n)}},{key:"immutableValue",value:function(e){for(var t=this.immutableContext(e),n=t.length,i=0;i<n;i++){var r=this.m_pValues[t[i].context];if(r)return(r.isSealed||r.isPreliminarily)&&r.immutable||void 0}var s=this.m_pValues["*"];return s&&(s.isSealed||s.isPreliminarily)&&s.immutable||void 0}},{key:"immutableValues",value:function(e){for(var t=this.immutableContext(e),n=t.length,i=0;i<n;i++){var r=t[i],s=this.getValues(r.context);if(s.length>0||this.isSlotInBranch(r.condition.branch,!1))return s}return this.getValues("*")}},{key:"isModified",value:function(e){var t=this.m_pValues[e];return t&&t.isModified||!1}},{key:"snapshot",value:function(){var e=[];if(fe(this.m_pValues,(function(t){if(t){var n=!1,i=ut.convert(t.isSealed,t.isLocked),r={a:t.context};R(t.pristine)&&(Qe(r,"b",t.pristine),n=!0),Z(t.reference)&&(Qe(r,"c",t.reference),n=!0),i>0&&(Qe(r,"d",i),n=!0),U(t.time)&&(Qe(r,"e",t.time),n=!0),n&&e.push(r)}})),e.length>0)return{a:this.slot.id,b:e}}},{key:"restore",value:function(e){var t=this;e.a===this.slot.id&&fe(e.b,(function(e){t.create(e.a,!1,void 0,e)}))}},{key:"freeze",value:function(){fe(this.m_pValues,(function(e){e&&e.freeze()}))}},{key:"unfreeze",value:function(){fe(this.m_pValues,(function(e){e&&e.unfreeze()}))}},{key:"importValue",value:function(e,t){this.assert(e,!0).import(t.value,t.reference,t.time,!this.m_pInstance.isInitialized)}},{key:"import",value:function(e){var t=this;fe(e,(function(e,n){return t.importValue(n,e)}),{keys:!0})}},{key:"hasValue",value:function(e){return this.immutableValues(e).length>0}},{key:"getValue",value:function(e){var t=this.immutableValues(e);if(t.length>0){var n,i=t[0].slot;if(i instanceof xn)return!!Ce(t,(function(e){return!0===e.value}));if(i instanceof Tn||i instanceof In)return fe(t,(function(e){U(e.value)&&(n=(n||0)+e.value)})),n}}},{key:"getString",value:function(e,t,n,i){var r,s,a=[];return fe(this.immutableValues(e),(function(e){if(!(n&&e.slot instanceof xn&&!0!==e.value))if(n&&e.slot.pipeable&&!K(e.slot.pipeable)&&e.slot.pipeable.content&&"value"!==e.slot.pipeable.content){var o=e.slot.pipeable.content;a.push(("name"===o?e.slot.name:"label"===o?e.slot.label:o.string)||"")}else if(e.slot instanceof Tn||e.slot instanceof In)s=e.slot,U(e.value)&&(r=(r||0)+e.value);else{var u=i&&i(e,t)||e.string||"";u&&a.push(u)}})),s&&U(r)&&a.push(s.toString(r)),a}},{key:"getContent",value:function(e,t,n,i,r){var s,a,o=[];return fe(this.immutableValues(e),(function(e){if(!(n&&e.slot instanceof xn&&!0!==e.value))if(n&&e.slot.pipeable&&!K(e.slot.pipeable)&&e.slot.pipeable.content&&"value"!==e.slot.pipeable.content){var u=e.slot.pipeable.content;"name"===u?o.push({value:e.slot.name||"",type:"string",separator:i}):"label"===u?o.push({value:e.slot.label||"",type:"string",separator:i}):u.markdown?o.push({value:u.markdown,type:"markdown",separator:i}):u.text&&o.push({value:u.text,type:"text",separator:i})}else e.slot instanceof Tn||e.slot instanceof In?(a=e.slot,U(e.value)&&(s=(s||0)+e.value)):o.push({value:r&&r(e,t)||e.string||"",type:"string",separator:i})})),a&&U(s)&&o.push({value:a.toString(s),type:"string",separator:i}),o}},{key:"getRefs",value:function(e,t){var n=[];return fe(this.immutableValues(e),(function(e){t&&e.slot instanceof xn&&!0!==e.value||n.push(e.hasValue&&e.reference||e.slot.reference)})),n}},{key:"inherit",value:function(e){var t=this;fe(this.m_pValues,(function(n,i){n&&n.subscribe((function(r){e.data.each((function(e){if(e.slot.id===t.slot.id){var s=e.m_pValues[i];return s&&(s.set(r.pristine,r.reference),n.unsubscribe(t)),!0}return!1}))}),t,"synchronous")}),{keys:!0})}}],[{key:"getContextHash",value:function(e){return n.m_pContexts[e]||(n.m_pContexts[e]=Jt(e))}}]),n}(en);Bn.m_pContexts={};var Vn=function(e){(0,a.Z)(n,e);var t=m(n);function n(e,i,s){var a;return(0,h.Z)(this,n),(a=t.call(this)).m_pValues={},i.states.each((function(t){t.transducers.each((function(t){t.slots.each((function(n){a.forSlot(n)||Bn.pushToMatrix(new Bn(t,n,e,i,s),(0,r.Z)(a))}))}))})),a}return(0,l.Z)(n,[{key:"exportables",get:function(){var e=[];return this.each((function(t){oe(t.slot.exportable,!t.slot.actionable)&&e.push(t)})),e}},{key:"hasSealedValues",get:function(){return this.each((function(e){return e.hasSealedValues}))}},{key:"forSlot",value:function(e){var t=e instanceof Sn?e.id:B(e)?e.slot.id:e;if(t){var n=this.m_pValues[t];return n||(this.each((function(e){return e.slot.id===t&&(n=e,!0)})),Qe(this.m_pValues,t,n)),n}}},{key:"freeze",value:function(){this.each((function(e){return e.freeze()}))}},{key:"unfreeze",value:function(){this.each((function(e){return e.unfreeze()}))}}]),n}(bt);!function(e){e[e.None=0]="None",e[e.OntologyInvalidState=1]="OntologyInvalidState",e[e.OntologyInvalidTransducer=2]="OntologyInvalidTransducer",e[e.OntologyInvalidBranch=4]="OntologyInvalidBranch",e[e.OntologyInvalidCondition=8]="OntologyInvalidCondition",e[e.OntologyInvalidJump=16]="OntologyInvalidJump",e[e.ResumeInvalidHash=32]="ResumeInvalidHash",e[e.ResumeInvalidData=64]="ResumeInvalidData",e[e.ResumeInvalidStack=128]="ResumeInvalidStack"}(An||(An={}));var Zn=function(e){(0,a.Z)(n,e);var t=m(n);function n(e,i,r,s){var a;return(0,h.Z)(this,n),(a=t.call(this)).m_pTransducer=e,a.m_pContext=i,a.m_bEnabled=r,a.m_nValidates=0,a.m_bPass=s,a}return(0,l.Z)(n,[{key:"transducer",get:function(){return this.m_pTransducer}},{key:"isEnabled",get:function(){return this.m_bEnabled}},{key:"isPassed",get:function(){return!0===this.m_bPass}},{key:"isFailed",get:function(){return!1===this.m_bPass}},{key:"validate",value:function(e,t,n,i,r){var s=this,a=++this.m_nValidates;if(e&&this.isEnabled){var o=K(this.m_bPass),u=this.transducer.shouldVerifySeal(this.m_pContext);if(!o||u)return e.evaluate(cn.of({await:function(e){if(s.m_pGuard&&s.m_pGuard.cancel(),s.m_pGuard=e,s.transducer.isAwaiting(s.m_pContext))return e;s.transducer.onBeforeValidate(s.m_pContext);var t=n||s.transducer.onValidate(s.m_pContext,!0===s.m_bPass?"pass":!1===s.m_bPass?"fail":"unknown",e);return t instanceof cn&&t.isAlive?s.transducer.seal(s.m_pContext,!1):s.m_pGuard=void 0,t},promise:function(n){s.m_pGuard=void 0,a===s.m_nValidates&&i(n)&&(s.m_bPass=oe(n.payload),s.transducer.seal(s.m_pContext,s.m_bPass),s.transducer.onValidated(s.m_pContext,s.m_bPass?"pass":"fail",o?"revalidate":t),r()),e.evaluate(n,s.m_pContext,i)}}),this.m_pContext,i),!0;this.transducer.seal(this.m_pContext,this.m_bPass||!1)}return!1}},{key:"invalidate",value:function(){this.m_bPass=void 0,this.transducer.seal(this.m_pContext,!1)}},{key:"cancel",value:function(){this.m_nValidates++,this.transducer.await=void 0,this.transducer.seal(this.m_pContext,!1)}},{key:"snapshot",value:function(){var e=ut.convert(this.isEnabled,K(this.m_bPass),this.m_bPass||!1);if(e>0)return{a:this.transducer.id,b:e}}}]),n}(en),Nn=function(e){(0,a.Z)(n,e);var t=m(n);function n(){var e;return(0,h.Z)(this,n),(e=t.apply(this,arguments)).m_pCache=[],e}return(0,l.Z)(n,[{key:"transducers",get:function(){var e=[];return this.each((function(t){t.isEnabled&&e.push(t.transducer)})),e}},{key:"isEnabled",get:function(){return this.each((function(e){return e.isEnabled}))}},{key:"isPassed",get:function(){return!this.each((function(e){return e.isEnabled&&!e.isPassed}))}},{key:"create",value:function(e,t,n){return this.pushToMatrix(new Zn(e,t,n))}},{key:"resume",value:function(e,t,n){return this.pushToMatrix(new Zn(e,t,ut.has(n.b,1),ut.has(n.b,2)?ut.has(n.b,3):void 0))}},{key:"forTransducer",value:function(e){var t;return this.each((function(n){return n.transducer===e&&(t=n,!0)})),t||Se(this.m_pCache,(function(t){return t.transducer===e}))}},{key:"clear",value:function(){var e=this;this.each((function(t){e.m_pCache.push(t)})),(0,s.Z)((0,u.Z)(n.prototype),"clear",this).call(this)}}]),n}(bt),Dn=function(e){(0,a.Z)(n,e);var t=m(n);function n(e,i,r,s,a,o,u,c,l,f,m,p,d,g,v){var _;return(0,h.Z)(this,n),(_=t.call(this)).m_pChecksum=new y,_.m_nChecksum=0,_.m_bCanceled=!1,_.m_pOrchestrator=e,_.m_pAncestor=i,_.m_pState=r,_.m_pBranch=s,_.m_pBranched=o,_.m_bBranching=d,_.m_nBranch=g,_.m_fnBranch=v,_.m_pCondition=a,_.m_pValidators=u||new Nn,_.m_nOpcode=c,_.m_nCounter=l,_.m_nSize=0,_.m_bReturn=f,_.m_bReturnOverride=m,_.m_pReturn=p,_.m_bValidated=!1,_.m_nValidations=0,_.m_bPass=!1,_.m_bEntered=!1,_.m_sChecksum=(r&&r.id||"")+(s&&a&&"each"===s.culling?a.id:""),_}return(0,l.Z)(n,[{key:"orchestrator",get:function(){return this.m_pOrchestrator}},{key:"assertPromise",get:function(){var e=this;return function(t){return e.assert(t)}}},{key:"stack",get:function(){return this.matrix()}},{key:"successorMode",get:function(){return this.orchestrator.preview?"preview":"live"}},{key:"id",get:function(){return this.hash}},{key:"instance",get:function(){return this.orchestrator.instance}},{key:"ancestor",get:function(){return this.m_pAncestor}},{key:"trace",get:function(){var e;return((null===(e=this.ancestor)||void 0===e?void 0:e.trace)||"")+this.id}},{key:"state",get:function(){return this.m_pState}},{key:"transducers",get:function(){return this.m_pValidators.transducers}},{key:"branch",get:function(){return this.m_pBranch}},{key:"branchIndex",get:function(){return this.m_nBranch||1}},{key:"condition",get:function(){return this.m_pCondition}},{key:"mutableContext",get:function(){return this.condition&&"each"===this.condition.branch.culling&&this.condition.branch.conditions.count>1&&this.condition||void 0}},{key:"immutableContext",get:function(){return this.condition}},{key:"checksum",get:function(){return this.m_sChecksum+this.m_nChecksum}},{key:"isBranch",get:function(){return this.m_bBranching}},{key:"isScheduled",get:function(){return 9===this.m_nOpcode}},{key:"isAtFinish",get:function(){return this.isPopped||9===this.m_nOpcode&&this.m_bReturn&&!this.m_pReturn}},{key:"isEvaluating",get:function(){return 2===this.m_nOpcode||5===this.m_nOpcode||(3===this.m_nOpcode||9===this.m_nOpcode)&&this.m_nCounter>0||8===this.m_nOpcode}},{key:"create",value:function(e,t,i,r,s){return this.stack.pushToMatrix(new n(this.orchestrator,e,t,i,r,void 0,void 0,0,0,!1,!1,void 0,!1,void 0,s),{index:this.index+(this.isPopped?0:1),recalculate:!0,emit:"push"})}},{key:"assert",value:function(e){return e.isAsynchronous&&(this.m_nSize=0),!this.isPopped&&!this.m_bCanceled}},{key:"validate",value:function(e){var t=this,n=++this.m_nValidations;if(e||this.m_pValidators.clear(),this.state){var i=this.state,r=new Rn(this,this.orchestrator.chain);if(this.m_pValidators.isPassed)i.evaluate(cn.of({await:function(e){return t.orchestrator.preview||i.onValidate(r,t.m_bValidated?t.m_bPass?"pass":"fail":"unknown",e)},promise:function(s){if(n===t.m_nValidations&&t.assert(s)){var a=s.payload||!1,o=!t.m_bValidated||t.m_bPass!==a,u=t.m_bValidated;t.m_bValidated=!0,t.m_bPass=a,e&&(e.condition=a),o&&t.state&&(t.state.onValidated(r,a?"pass":"fail",u?"revalidate":"initial"),a&&t.orchestrator.validated(t.state)),e||t.step(a?7:3)}i.evaluate(s,r,t.assertPromise)}}),r,this.assertPromise);else{var s=!this.m_bValidated||this.m_bPass,a=this.m_bValidated;this.m_bValidated=!0,this.m_bPass=!1,e&&(e.condition=!1),s&&this.state.onValidated(r,"fail",a?"revalidate":"initial")}}}},{key:"return",value:function(e,t){this.m_nCounter--,!e||this.m_bReturnOverride&&!this.m_bReturn||(this.m_bReturn=!this.m_bReturnOverride||t===this.m_pReturn,this.m_pReturn=t,this.m_bReturnOverride=!0),this.step()}},{key:"step",value:function(e){var t=this;if(!this.isPopped){var n=new Rn(this,this.orchestrator.chain);if(this.m_nSize>1024)return this.m_nSize=0,this.orchestrator.cycle(!0),void Te((function(){t.orchestrator.cycle(!1),t.step(e)}));switch(this.m_nSize++,this.m_nChecksum=this.m_pChecksum.n,this.m_nOpcode=z(e)?e:this.m_nOpcode,this.m_nOpcode){case 0:if(this.m_bReturnOverride=!1,this.branch){var i=this.branch,r=this.state,s=function(e){r&&r.evaluate(e,n,t.assertPromise)};this.m_nOpcode=1,s(cn.of({await:function(e){return t.orchestrator.preview||i.onCondition(n,e)},promise:function(e){if(t.assert(e))if(t.m_nOpcode=2,t.m_nCounter=0,e.payload)if(t.m_nCounter="each"!==i.culling?i.conditions.count:t.condition?1:0,1===t.m_nCounter&&"each"===i.culling&&t.condition){var r=t.condition;s(cn.of({await:function(e){return t.orchestrator.preview?!t.orchestrator.previewCompact||0===r.index:r.onCondition(n,e)},promise:function(e){t.assert(e)&&(t.m_nCounter=0,t.m_bReturn=t.m_bReturn||e.payload||!1,e.payload&&(t.m_fnBranch&&!t.m_nBranch&&(t.m_nBranch=t.m_fnBranch()),r.onApproved(n),i.onReady(n)),t.step()),s(e)}}))}else t.m_nCounter>0?i.conditions.each((function(e){return s(cn.of({await:function(i){return t.orchestrator.preview||e.onCondition(n,i)},promise:function(r){t.assert(r)&&t.m_nCounter>0&&("all"!==i.culling&&"none"!==i.culling&&r.payload?(t.m_pCondition=e,t.m_bReturn=!0,t.m_nCounter=0,e.onApproved(n),i.onReady(n)):t.m_nCounter--,"all"!==i.culling&&"none"!==i.culling||(("none"!==i.culling||t.orchestrator.preview?!r.payload:r.payload)?(t.m_bReturn=!1,t.m_nCounter=0):0===t.m_nCounter&&(t.m_bReturn=!0,e.onApproved(n),i.onReady(n))),t.step()),s(r)}})),0===t.m_nCounter})):(i.onReady(n),t.m_bReturn=!0,t.step());else t.step();s(e)}}))}else this.state?this.step(4):this.step(10);break;case 1:case 5:case 6:case 8:break;case 2:if(0===this.m_nCounter){if(this.branch)if(this.m_bReturn){if(this.m_pReturn=this.branch.entry(this.successorMode),!this.branch.spawn){this.step(9);break}this.m_bReturn=!1,this.m_pReturn&&this.orchestrator.spawn(this.m_pReturn)}else this.branch.onSkip(n);this.step(10)}break;case 4:if(this.state){var a=this.state;this.m_nOpcode=5,this.m_pReturn=this.state.successor(this.successorMode),this.m_bReturn=!0,a.transducers.each((function(e){return e.seal(n,!1)})),a.evaluate(cn.of({await:function(e){return t.orchestrator.preview||a.onEnterCondition(n,e)},promise:function(e){t.assert(e)&&(e.payload?(t.m_nOpcode=3,t.m_nCounter=a.transducers.count,t.m_pValidators.clear(),t.m_nCounter>0?a.transducers.each((function(e){a.evaluate(cn.of({await:function(i){return t.orchestrator.preview||e.onEnterCondition(n,i)},promise:function(i){t.assert(i)&&(t.m_pValidators.create(e,n,i.payload||!1),t.m_nCounter--,t.step()),a.evaluate(i,n,t.assertPromise)}}),n,t.assertPromise)})):t.step()):(a.onSkip(n),t.step(9))),a.evaluate(e,n,t.assertPromise)}}),n,this.assertPromise)}else this.step(10);break;case 3:if(this.state){if(0===this.m_nCounter)if(this.m_nOpcode=6,this.state.isMain)this.step(7);else{var o=!1;this.m_bValidated=!1,this.m_bPass=!1,this.m_bEntered=!0;var u=hn.for({await:function(e){if(t.state)return t.orchestrator.snapshot.push(),t.state.await=e,t.state.emitHook("OnEnter",{state:t.state,context:n}),t.state.onEnter(n,e)},promise:function(e){t.assert(e)&&(t.state&&(t.state.await=void 0),e.isCanceled?(t.m_nValidations++,t.m_pValidators.each((function(e){return e.cancel()})),t.orchestrator.cancel()):o?t.step(7):t.validate())},conditional:!0});u.isAlive&&(this.m_pValidators.each((function(e){e.isEnabled?(hn.for({await:function(t){return e.transducer.emitHook("OnEnter",{transducer:e.transducer,context:n}),e.transducer.await=t,e.transducer.onEnter(n,t)},promise:function(n){t.assert(n)&&n.isAsynchronous&&e.validate(t.state,"revalidate",t.orchestrator.preview,t.assertPromise,(function(){return t.validate(u)}))},continuous:!0}),o=e.validate(t.state,"initial",t.orchestrator.preview,t.assertPromise,(function(){return t.validate(u)}))||o):e.transducer.onSkip(n)})),o||(this.validate(u),o=!0))}}else this.step(10);break;case 7:if(this.state){var c=this.state;this.m_nOpcode=8,c.evaluate(cn.of({await:function(e){return!!c.isMain||c.onLeaveCondition(n,e)},promise:function(e){if(t.assert(e))if(e.payload)if(c.isMain||(t.m_pValidators.count>0&&t.orchestrator.snapshot.make(),t.m_bEntered=!1,t.m_pValidators.each((function(e){e.isEnabled&&e.transducer.onLeave(n)})),c.onLeave(n)),t.m_nOpcode=9,c.branches.count>0){if(c.branches.each((function(e){t.m_nCounter+="each"===e.culling&&e.conditions.count>0?e.conditions.count:1})),t.m_nCounter>0){var i=t.orchestrator.pointer.get();c.branches.each((function(e){if(t.m_bBranching=!e.isLast,i&&i===t.orchestrator.pointer.get()&&t.orchestrator.pointer.release(),"each"===e.culling&&e.conditions.count>0){var n=[],r=function(){return++s},s=0;e.conditions.each((function(i){n.push(t.create(t,t.state,e,i,r))})),fe(n,(function(e){return e.step()}))}else t.create(t,t.state,e).step()}))}}else t.step();else t.m_nOpcode=6,hn.for({await:function(e){return t.state&&t.state.onLeaveError(n,e)},promise:function(e){t.assert(e)&&t.step(7)}});c.evaluate(e,n,t.assertPromise)}}),n,this.assertPromise)}else this.step(10);break;case 9:if(0===this.m_nCounter&&this.orchestrator.pointer.assure(this)===this){if(this.branch&&(this.m_pBranched=this.branch,this.branch.onEnter(n)),this.m_pReturn){var h=this.ancestor&&this.ancestor.state,l=h&&h.successor(this.successorMode);if(!h||this.m_pReturn.uniqueId>h.uniqueId&&(!l||this.m_pReturn.uniqueId<l.uniqueId)){this.m_pState=this.m_pReturn,this.m_pBranch=void 0,this.m_sChecksum+=this.m_pReturn.id,this.step(0);break}}this.step(10)}break;case 10:this.m_pBranched&&(this.m_pBranched.onLeave(n),this.m_pBranched=void 0),this.orchestrator.logger(this,this.ancestor,this.state,this.branch,this.condition,this.m_bReturn?this.m_pReturn||!0:void 0),this.pop(),this.orchestrator.pointer.get()===this&&this.orchestrator.pointer.release(),this.ancestor&&this.ancestor.return(this.m_bReturn,this.m_pReturn)}}}},{key:"invalidate",value:function(e){var t=this.m_pValidators.forTransducer(e);t&&t.invalidate()}},{key:"validationOf",value:function(e){var t=this.m_pValidators.forTransducer(e);if(t){if(t.isPassed)return"pass";if(t.isFailed)return"fail"}return"unknown"}},{key:"cancel",value:function(){this.m_bCanceled=!0}},{key:"destroy",value:function(){if(this.isPopped&&this.state&&!this.state.isMain){var e=new Rn(this,this.orchestrator.chain);this.m_bEntered&&(this.m_pValidators.each((function(t){t.isEnabled&&t.transducer.onCancel(e)})),this.state&&this.state.onCancel(e)),this.m_pBranched&&this.m_pBranched.onCancel(e)}}},{key:"snapshot",value:function(){var e={a:this.id},t=ut.convert(this.m_bReturn,this.m_bReturnOverride,this.m_bBranching),n=0;switch(this.m_nOpcode){case 2:0===this.m_nCounter&&(n=2);break;case 4:case 5:n=4;break;case 3:n=0===this.m_nCounter?3:4;break;case 6:case 7:case 8:n=3;break;case 9:n=9,this.m_nCounter>0&&Qe(e,"b",this.m_nCounter);break;case 10:n=10}if(n>0&&Qe(e,"c",n),t>0&&Qe(e,"d",t),this.ancestor&&Qe(e,"e",this.ancestor.id),this.state&&Qe(e,"f",this.state.id),this.branch&&Qe(e,"g",this.branch.id),this.m_pBranched&&Qe(e,"h",this.m_pBranched.id),this.condition&&Qe(e,"i",this.condition.id),this.m_pReturn&&Qe(e,"j",this.m_pReturn.id),this.m_pValidators.count>0){var i=[];this.m_pValidators.each((function(e){var t=e.snapshot();t&&i.push(t)})),i.length>0&&Qe(e,"k",i)}return this.m_nBranch&&Qe(e,"l",this.m_nBranch),e}}],[{key:"create",value:function(e,t,i,r,s,a,o,u){var c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,h=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,l=arguments.length>10&&void 0!==arguments[10]&&arguments[10],f=arguments.length>11&&void 0!==arguments[11]&&arguments[11],m=arguments.length>12?arguments[12]:void 0,p=arguments.length>13&&void 0!==arguments[13]&&arguments[13],d=arguments.length>14?arguments[14]:void 0;return e.pushToMatrix(new n(t,r,i,s,a,o,u,c,h,l,f,m,p,d))}}]),n}(en),zn=function(e){(0,a.Z)(n,e);var t=m(n);function n(){var e;return(0,h.Z)(this,n),(e=t.call(this)).m_sChecksum="0",e.isParsing=!1,e.hook("OnItemPop","synchronous",(function(t){var n=t.item;e.m_sChecksum+="/"+n.checksum,n.destroy()})),e}return(0,l.Z)(n,[{key:"checksum",get:function(){var e=this.m_sChecksum;return this.each((function(t){e+="/"+t.checksum})),e}},{key:"clear",value:function(){(0,s.Z)((0,u.Z)(n.prototype),"clear",this).call(this),this.m_sChecksum=""}}]),n}(bt),Un=function(){function e(t,n,i){var r=this;(0,h.Z)(this,e),this.m_pTransducers=[];var s=i||new zn,a={},o=!1;this.m_pOrchestrator=t,Qe(s,"isParsing",!0),s.clear(),fe(n.a,(function(e){var n,i=new Nn,u=t.chain.state(e.f||""),c=t.chain.branch(e.g||""),h=t.chain.branch(e.h||""),l=t.chain.condition(e.i||""),f=t.chain.state(e.j||"");e.e&&(n=a[e.e],o=o||!(n instanceof Dn));var m=e.d||0,p=new Rn(Qe(a,e.a,Dn.create(s,t,u,n,c,l,h,i,e.c,e.b,ut.has(m,1),ut.has(m,2),f,ut.has(m,3),e.l)),t.chain);fe(e.k,(function(e){var n=t.chain.transducer(e.a);n&&i.resume(n,p,e).isEnabled&&r.m_pTransducers.push(n)})),o=o||i.count!==J(e.k)})),Qe(s,"isParsing",!1),o||(n.b?this.m_pPointer=a[n.b]:this.m_pPointer=s.firstItem)}return(0,l.Z)(e,[{key:"pointer",get:function(){return this.m_pPointer}},{key:"context",get:function(){return this.pointer&&new Rn(this.pointer,this.m_pOrchestrator.chain)}},{key:"state",get:function(){return this.pointer&&this.pointer.state}},{key:"transducers",get:function(){var e=this.state;return e?be(this.m_pTransducers,(function(t){return t.state.id===e.id})):[]}}]),e}(),Gn=function(e){(0,a.Z)(n,e);var t=m(n);function n(e,i,s,a,u){var c;if((0,h.Z)(this,n),(c=t.call(this)).m_pStack=new zn,c.m_pMomentsCache={},c.m_pChecksums={},c.m_pCache={},c.m_nChecksum=0,c.m_pHistory=[],c.m_pSnapshots=[],c.m_nSnapshots=0,c.m_nSnapshot=0,c.m_pChanges={},c.m_pChangesBuffer={},c.m_nEvents=0,c.m_bInitialized=!1,c.m_bRunning=!1,c.m_bProcessing=!1,c.m_bIsAtFinish=!1,c.m_bStopped=!0,c.m_bPaused=!1,c.m_nErrors=An.None,c.m_nTransaction=0,c.m_nAutoPushForward=0,c.m_pOrchestrator=e,c.m_bAllowConcurrency="multi"===i,c.m_bAutoPushForward=e.autoPushForward,c.m_sPreviewMode=e.preview,c.m_pStackOrchestrator={instance:(0,r.Z)(c),get preview(){return"disabled"!==e.preview},get previewCompact(){return"compact"===e.preview},spawn:function(t){return e.spawn(new n(e,"multi",t),c.index+(c.isPopped?0:1)).start()},validated:function(t){(e.autoPushForward||c.isPreview||c.m_pOrchestrator.events.onInstanceStepForward((0,r.Z)(c),t))&&(c.m_bProcessing=!0,c.m_pOrchestrator.events.onInstanceProcessing((0,r.Z)(c),!0),c.pushForward())},cycle:function(e){c.m_bProcessing=e,c.m_pOrchestrator.events.onInstanceProcessing((0,r.Z)(c),e)},cancel:function(){!c.isRunning||e.autoPushForward||c.isPreview||c.stepBackward()||c.stop()},snapshot:{push:function(){c.m_pSnapshot&&(c.m_pSnapshots.length>c.m_nSnapshots&&c.m_pSnapshots.splice(c.m_nSnapshots),c.m_pSnapshots.push(c.m_pSnapshot),c.m_nSnapshots++,c.m_pSnapshot=void 0,c.map(!0))},make:function(){var e={a:c.stackSnapshots(),b:c.m_pPointer&&c.m_pPointer.id};c.m_pSnapshot={moment:e,stack:new Un(c.m_pStackOrchestrator,e)}}},pointer:{get:function(){return c.m_pPointer},assure:function(e){return c.m_pPointer||c.bind(e),c.m_pPointer},release:function(){return c.release()}},chain:e.chain,logger:function(t,n,i,r,s,a){if(e.logger&&n){var o=a instanceof fn?d.padLeft(a.uniqueId,"0",4):a?"End":"-";c.logger("Return<".concat(o,"> to Stack<").concat(d.padLeft(n.uniqueId,"0",4),">"),i,r,s,t)}}},c.m_pData=new Vn((0,r.Z)(c),e,(function(e){var t,n,i=c.m_pOrchestrator.dependencies(e.slot);if(c.m_pEvents||(c.m_pEvents={},c.m_nEvents=Le((function(){c.isPreview?c.m_pOrchestrator.events.onInstanceUpdate((0,r.Z)(c)):fe(pe(c.m_pEvents,(function(e){return{id:e.id,transducer:e.transducer}})).sort((function(e,t){return e.id-t.id})),(function(e){return c.goto(e.id,e.transducer)})),c.m_pEvents=void 0,c.m_pSideEffects=void 0}))),fe(i,(function(e,t){c.setChanged(t)}),{keys:!0}),c.m_pTransaction&&c.m_pTransaction.state.id!==e.transducer.state.id)c.m_pTransaction&&c.m_pTransaction.state.index<e.transducer.state.index&&(null===(n=null===(t=e.context)||void 0===t?void 0:t.mutableValueOf(e.slot))||void 0===n||n.precursor());else if(c.m_pEvents[e.key+e.id]=e,e.context){var s=e.context;e.transducer.parent.each((function(t){if(!(!1!==i[t.id]||t===e.transducer||c.m_pSideEffects&&c.m_pSideEffects[e.transducer.id]&&c.m_pSideEffects[e.transducer.id][t.id])){var n=c.m_pSideEffects||(c.m_pSideEffects={});(n[e.transducer.id]||(n[e.transducer.id]={}))[t.id]=!0,t.onSideEffect(s,e.transducer)}}))}c.m_pOrchestrator.events.onInstanceData((0,r.Z)(c),e)})),c.m_pStack.hook("OnItemPush","synchronous",(function(e){c.m_bIsAtFinish=!1,c.m_bInitialized||(u&&u((0,r.Z)(c)),c.m_bInitialized=!0,c.emitHook("OnCreate",{instance:(0,r.Z)(c)}),c.m_pOrchestrator.events.onInstanceCreate((0,r.Z)(c)),c.logger("Created")),c.logger("Push",e.item.state,e.item.branch,e.item.condition,e.item)})),c.m_pStack.hook("OnItemPop","synchronous",(function(t){if(c.logger("Pop",t.item.state,t.item.branch,t.item.condition,t.item),t.item.destroy(),!c.m_pStack.isParsing)if(c.m_pStack.count>0){var n;if(c.m_pPointer===t.item&&c.isRunning)c.release(),c.m_pStack.reverseEach((function(e){return n&&n!==e.ancestor||(n=e.ancestor,e.isScheduled&&c.bind(e).step()),c.m_pPointer instanceof Dn}))}else c.m_bIsAtFinish=!0,e.autoPushForward||c.isPreview||c.finish()})),c.hook("OnItemPop","synchronous",(function(){if(c.m_bRunning){var e=c.presentMoment,t=c.isPaused?"paused":c.isStopped?"stopped":"finished";c.m_bRunning=!1,"finished"!==t&&e&&e.state.await&&e.state.await.cancel(),c.release(),c.m_pStack.clear(),c.m_pSnapshots.splice(0),c.m_pHistory.splice(0),c.m_nSnapshots=0,c.m_nSnapshot=0,c.m_pSnapshot=void 0,c.isPaused?(c.emitHook("OnPause",{instance:(0,r.Z)(c)}),c.m_pOrchestrator.events.onInstancePause((0,r.Z)(c)),c.logger("Pause")):c.isStopped?(c.emitHook("OnStop",{instance:(0,r.Z)(c)}),c.m_pOrchestrator.events.onInstanceStop((0,r.Z)(c)),c.logger("Stop")):(c.emitHook("OnFinish",{instance:(0,r.Z)(c)}),c.m_pOrchestrator.events.onInstanceFinish((0,r.Z)(c)),c.logger("Finish")),c.emitHook("OnEnd",{instance:(0,r.Z)(c),type:t}),c.m_pOrchestrator.events.onInstanceEnd((0,r.Z)(c),t),c.logger("End")}})),s&&(Dn.create(c.m_pStack,c.m_pStackOrchestrator,s),c.m_pInitial={a:c.stackSnapshots()},a))if(a.a===c.fingerprint){var l=J(a.b);if(l>0){var f=p.range(se(a.d,l-1),0,l-1),m=0;fe(a.c,(function(e){var t=c.data.forSlot(e.a);t?t.restore(e):c.m_nErrors|=An.ResumeInvalidData})),fe(a.b,(function(e){var t=new Un(c.m_pStackOrchestrator,e),n=t.state,i=t.context;n&&i&&(c.m_pSnapshots.push({moment:e,stack:t}),c.m_nSnapshots+=c.addMoment(c.m_pHistory,e,n,t.transducers,i,m<f?"past":m>f?"future":"present")),m++})),c.revert(f)}else c.m_nErrors|=An.ResumeInvalidStack}else c.m_nErrors|=An.ResumeInvalidHash;return(0,o.Z)(c)}return(0,l.Z)(n,[{key:"successorMode",get:function(){return this.isPreview?"preview":"live"}},{key:"id",get:function(){return this.hash}},{key:"l10n",get:function(){return this.m_pOrchestrator.l10n}},{key:"fingerprint",get:function(){return this.m_pOrchestrator.fingerprint}},{key:"allowConcurrency",get:function(){return this.m_bAllowConcurrency}},{key:"isPreview",get:function(){return"disabled"!==this.m_pOrchestrator.preview}},{key:"isInitialized",get:function(){return this.m_bInitialized}},{key:"isRunning",get:function(){return this.m_bRunning}},{key:"isStopped",get:function(){return this.m_bStopped}},{key:"isPausing",get:function(){return this.m_pOrchestrator.states.ontology.isPausing}},{key:"isPaused",get:function(){return this.m_bPaused}},{key:"isAtStart",get:function(){return 0===this.m_nSnapshots}},{key:"isAtHead",get:function(){var e=this.history,t=Y(e,e.length-1);return t&&"present"===t.tense||!1}},{key:"isAtFinish",get:function(){var e=this;return!!this.m_bIsAtFinish||!this.m_pOrchestrator.autoPushForward&&!this.isPreview&&this.m_pPointer instanceof Dn&&(!this.m_pPointer.state||!this.m_pPointer.state.successor(this.successorMode)&&!this.m_pPointer.state.branches.each((function(t){return t.entry(e.successorMode)instanceof fn})))&&!this.m_pStack.reverseEach((function(t){return e.m_pPointer!==t&&(t.isBranch||!t.isAtFinish)}))}},{key:"isFinishable",get:function(){return!this.isPreview&&this.isRunning&&this.isAtFinish}},{key:"isFinishing",get:function(){return!!this.m_fnFinishing}},{key:"isFinished",get:function(){return!this.isRunning&&!this.isPaused&&!this.isStopped}},{key:"finishReference",get:function(){return this.m_sFinishReference||""}},{key:"hasDataCollected",get:function(){return this.data.hasSealedValues}},{key:"lookup",get:function(){return this.m_pOrchestrator.chain}},{key:"data",get:function(){return this.m_pData}},{key:"history",get:function(){return this.map(!1)}},{key:"checksum",get:function(){var e="".concat(this.m_nChecksum,"/").concat(this.m_pStack.checksum);return this.m_pChecksums[e]||(this.m_pChecksums[e]=Jt(e))}},{key:"presentMoment",get:function(){return Se(this.history,(function(e){return"present"===e.tense}))}},{key:"snapshot",get:function(){var e=this.history,t={a:this.fingerprint,b:[]};if(fe(e,(function(n){"present"===n.tense&&t.b.length+1<e.length&&Qe(t,"d",t.b.length),t.b.push(n.snapshot)})),this.data.count>0){var n=[];this.data.each((function(e){var t=e.snapshot();t&&n.push(t)})),n.length>0&&Qe(t,"c",n)}return this.allowConcurrency&&Qe(t,"e",!0),t}},{key:"errors",get:function(){return this.m_nErrors}},{key:"setChanged",value:function(e){this.m_pChanges[e]=!0,this.m_pChangesBuffer[e]&&delete this.m_pChangesBuffer[e]}},{key:"logger",value:function(e,t,n,i,r){if(this.m_pOrchestrator.logger){var s=t?d.padLeft(t.uniqueId,"0",4):"----",a=n?d.padLeft(n.uniqueId,"0",4):"----",o=i?d.padLeft(i.uniqueId,"0",4):"----",u=r?d.padLeft(r.uniqueId,"0",4):"----";this.m_pOrchestrator.logger("Instance<".concat(d.padLeft(this.uniqueId,"0",4),"> | State<").concat(s,"> Branch<").concat(a,"> Condition<").concat(o,"> | Stack<").concat(u,"> | ").concat(e))}}},{key:"cancelPromises",value:function(){this.m_bProcessing&&(this.m_pOrchestrator.events.onInstanceProcessing(this,!1),this.m_bProcessing=!1),this.m_nAutoPushForward=He(this.m_nAutoPushForward),this.m_nEvents=He(this.m_nEvents),this.m_pEvents=void 0,this.m_fnFinishing&&(this.m_fnFinishing(),this.m_fnFinishing=void 0)}},{key:"bind",value:function(e){return this.m_pPointer=e,this.m_pPointer}},{key:"release",value:function(){this.m_pPointer=void 0}},{key:"restore",value:function(e,t){this.m_pSnapshot=void 0;var n=new Un(this.m_pStackOrchestrator,e,this.m_pStack);return this.m_pPointer&&this.m_pPointer.cancel(),n.pointer?(this.bind(n.pointer),t&&n.pointer.invalidate(t),this.isRunning&&n.pointer.step(),!0):(this.release(),this.isRunning&&this.pop(),!1)}},{key:"revert",value:function(e,t){var n=this.m_pHistory.length;if(0!==n){this.m_nSnapshots=p.range(e,0,n-1),this.m_nSnapshot=this.m_nSnapshots>0&&n>0?this.m_nSnapshots-1:0;for(var i=n-1;i>=0&&!(i<this.m_nSnapshots&&"past"===this.m_pHistory[i].tense);i--)this.m_pHistory[i].tense=i===this.m_nSnapshots?"present":i<this.m_nSnapshots?"past":"future";var r=this.m_pHistory[this.m_nSnapshots].snapshot,s=t?this.invalidateHistory(this.m_nSnapshots):this.m_pHistory.slice(0,this.m_nSnapshots);this.restore(r,t)&&this.addPointer(s)}}},{key:"goto",value:function(e,t){var n=this.getMoment(e);if(n&&this.isRunning){var i="present"===n.tense&&this.m_pPointer&&!n.context.isMutableContextOf(this.m_pPointer)&&this.m_pPointer.isEvaluating;if(!i)if("present"!==n.tense){var r=Se(this.m_pHistory,(function(e){return"present"===e.tense}));(!r||n.index<r.index)&&(i=!0)}else i=this.m_bIsAtFinish;i?this.revert(n.index,t):n.index+1<this.m_pHistory.length&&(this.m_nChecksum++,this.invalidateHistory(n.index+1))}}},{key:"map",value:function(e){if(!this.isRunning)return[];for(var t=this.m_pHistory.splice(this.m_nSnapshot),n=t.length,i=0,r=this.m_nSnapshot;r<this.m_nSnapshots;r++){var s=this.m_pSnapshots[r],a=s.stack.state,o=s.stack.context;a&&o&&(i+=this.addMoment(this.m_pHistory,s.moment,a,s.stack.transducers,o,"past"))}if(this.m_pSnapshot){var u=this.m_pSnapshot.stack.state,c=this.m_pSnapshot.stack.context;u&&c&&(i+=this.addMoment(this.m_pHistory,this.m_pSnapshot.moment,u,this.m_pSnapshot.stack.transducers,c,"past"))}var h=this.m_pHistory.length;if(i>0&&(this.m_nSnapshot=h-1),this.m_bIsAtFinish?h>0&&(this.m_pHistory[h-1].tense="present",this.m_nSnapshot=h>1?h-2:0):this.addPointer(this.m_pHistory)&&(i++,h++),i<n)if(!e&&h>0)for(;i<n;){var l=t[i];l.transducers.length>0&&(l.tense="future",this.m_pHistory.push(l)),i++}else{for(;i>0;)t.shift(),i--;this.invalidateMoments(t)}return this.m_pHistory}},{key:"addPointer",value:function(e){if(this.m_pPointer){var t=this.m_pPointer;if(t.state)return this.addMoment(e,{a:this.stackSnapshots(),b:t.id},t.state,t.transducers,new Rn(t,this.m_pOrchestrator.chain),"present"),!0}return!1}},{key:"addMoment",value:function(e,t,n,i,r,s){var a=this,o=e.length,u={get checksum(){return tt(this,"$checksum")||$e(this,"$checksum",Jt("".concat(r.instance.uniqueId,"/").concat(o,"/").concat(n.hash,"/").concat(r.key)))},index:o,snapshot:t,state:n,transducers:i,context:r,tense:s,restore:function(){return a.isRunning&&a.revert(o)}};return this.m_pMoments||(this.m_pMoments={}),(this.m_pMoments[n.id]||(this.m_pMoments[n.id]={state:n,moments:{}})).moments[r.id]=u,e.push(u),1}},{key:"getMoment",value:function(e){var t,n=this;if(this.m_pMoments&&(fe(this.m_pMoments,(function(i){i.state.transducers.each((function(r){r.slots.each((function(r){fe(i.moments,(function(i){var s=i.context.mutableValueOf(r);s&&(Qe(n.m_pMomentsCache,s.id,i),s.id===e&&(t=i))}))}))}))})),this.m_pMoments=void 0,t))return t;return this.m_pMomentsCache[e]}},{key:"invalidateMoments",value:function(e){fe(e,(function(e){e.state.transducers.each((function(t){return t.seal(e.context,!1)}))}))}},{key:"invalidateHistory",value:function(e){for(this.invalidateMoments(this.m_pHistory.splice(e)),this.m_nSnapshot=this.m_pHistory.length;this.m_nSnapshot&&(this.m_nSnapshot--,"past"!==this.m_pHistory[this.m_nSnapshot].tense););return this.m_pHistory}},{key:"pushForward",value:function(){var e=this;this.m_nAutoPushForward||(this.m_nAutoPushForward=Le((function(){var t,n,i,r,s=!e.m_bIsAtFinish&&!(null===(n=null===(t=e.m_pPointer)||void 0===t?void 0:t.state)||void 0===n?void 0:n.isLast)&&(null===(i=e.m_pPointer)||void 0===i?void 0:i.state)||(null===(r=e.presentMoment)||void 0===r?void 0:r.state);e.m_nAutoPushForward=0,(s&&e.m_pOrchestrator.events.onInstanceStepForward(e,s)||!e.isAtFinish&&(e.m_pOrchestrator.autoPushForward||e.isPreview))&&(e.m_pOrchestrator.events.onInstanceProcessing(e,!1),s&&s.await&&s.await.done())})))}},{key:"stackSnapshots",value:function(){var e=[];return this.m_pStack.each((function(t){e.push(t.snapshot())})),e}},{key:"closeTransaction",value:function(){this.m_nTransaction>0&&(this.m_nTransaction--,0===this.m_nTransaction&&(this.m_pTransaction=void 0))}},{key:"createTransaction",value:function(e,t){this.m_nTransaction++,1===this.m_nTransaction&&(this.m_pTransaction=e);var n=t();return this.closeTransaction(),n}},{key:"readFromCache",value:function(e){return this.m_pCache[e]}},{key:"writeToCache",value:function(e,t){return this.m_pCache[e]=t,t}},{key:"stencil",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"exportables";return this.m_pOrchestrator.stencil(e)}},{key:"start",value:function(){if(this.cancelPromises(),!this.isRunning){var e=this.m_pPointer||this.m_pStack.firstItem;if(this.errors===An.None&&e)return this.m_bRunning=!0,this.m_bStopped=!1,this.m_bPaused=!1,this.emitHook("OnStart",{instance:this}),this.m_pOrchestrator.events.onInstanceStart(this),this.logger("Start"),e.step(),!0;this.pop()}return!1}},{key:"restart",value:function(){var e=this.m_bAutoPushForward!==this.m_pOrchestrator.autoPushForward,t=this.m_sPreviewMode!==this.m_pOrchestrator.preview;this.cancelPromises(),e||t?(this.m_nChecksum++,e&&(this.m_bAutoPushForward=this.m_pOrchestrator.autoPushForward,(this.m_pOrchestrator.autoPushForward||this.m_bIsAtFinish)&&this.stepToHead()),t&&(this.m_sPreviewMode=this.m_pOrchestrator.preview,this.isRunning&&this.m_pInitial&&(this.m_pSnapshots.splice(0),this.m_pHistory.splice(0),this.m_nSnapshots=0,this.m_nSnapshot=0,this.restore(this.m_pInitial)))):this.start()||this.stepToStart()}},{key:"stop",value:function(){return this.cancelPromises(),!this.m_bStopped&&(this.m_bStopped=!0,this.pop())}},{key:"pause",value:function(){if(!(this.isPreview||this.isFinishing||this.isPausing||this.isPaused)&&this.isRunning){var e=this.snapshot;return this.m_bPaused=!0,this.pop(),e}}},{key:"stepForward",value:function(){if(this.isRunning){var e=this.presentMoment;if(e&&e.state.await)return e.state.await.done();if(this.isFinishable)return this.finish(),!1}return!1}},{key:"stepBackward",value:function(){if(this.isRunning){var e=this.presentMoment;if(e&&e.index>0&&e.index<=this.m_pHistory.length)return this.m_pHistory[e.index-1].restore(),!0}return!1}},{key:"stepToStart",value:function(){if(this.isRunning){var e=Y(this.history,0);if(e)return e.restore(),!0}return!1}},{key:"stepToHead",value:function(){if(this.isInitialized&&this.isRunning){var e=this.history,t=Y(e,e.length-1);if(t)return t.restore(),!0}return!1}},{key:"finish",value:function(){var e=this,t=new Promise((function(t,n){if(e.isFinishable&&!e.m_fnFinishing){var i=function(i,r){e.m_fnFinishing&&(e.m_fnFinishing=void 0,i&&e.pop()?(e.m_sFinishReference=r,t()):(e.data.unfreeze(),n()))};e.m_fnFinishing=n,e.m_sFinishReference=void 0,e.data.freeze(),e.m_pOrchestrator.events.onInstanceFinishing(e,i)&&i(!0)}else n()}));return t.catch((function(t){e.m_pOrchestrator.logger&&e.m_pOrchestrator.logger(t||"Finish error!")})),t}},{key:"transducers",value:function(e){this.m_pOrchestrator.iterate(e)}},{key:"isTransducerPresent",value:function(e){var t=Se(this.m_pHistory,(function(e){return"present"===e.tense}));return!(!t||!Ce(t.transducers,(function(t){return t===e})))}},{key:"markAsChanged",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];fe(this.m_pOrchestrator.dependencies(e),(function(e,i){n&&!e||t.setChanged(i)}),{keys:!0})}},{key:"hasChanged",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.m_pOrchestrator.hasChanged(e,n),r=this.m_pChanges[e]||!1;return r&&n&&(0===J(this.m_pChangesBuffer)&&Le((function(){fe(t.m_pChangesBuffer,(function(e,n){t.m_pChanges[n]=!1,delete t.m_pChangesBuffer[n]}),{keys:!0})})),this.m_pChangesBuffer[e]=!0),i||r}},{key:"inherit",value:function(e){var t=this;return e.data.each((function(e){return e.inherit(t)})),this}}]),n}(en),Kn={af:["Afrikaans","Afrikaans"],"af-NA":["Afrikaans (Namibia)","Afrikaans (NamibiÃ«)"],agq:["Aghem","Aghem"],ak:["Akan","Akan"],am:["Amharic","á áá­á"],ar:["Arabic","Ø§ÙØ¹Ø±Ø¨ÙØ©"],"ar-AE":["Arabic (United Arab Emirates)","Ø§ÙØ¹Ø±Ø¨ÙØ© (Ø§ÙØ¥ÙØ§Ø±Ø§Øª Ø§ÙØ¹Ø±Ø¨ÙØ© Ø§ÙÙØªØ­Ø¯Ø©)"],"ar-BH":["Arabic (Bahrain)","Ø§ÙØ¹Ø±Ø¨ÙØ© (Ø§ÙØ¨Ø­Ø±ÙÙ)"],"ar-DJ":["Arabic (Djibouti)","Ø§ÙØ¹Ø±Ø¨ÙØ© (Ø¬ÙØ¨ÙØªÙ)"],"ar-DZ":["Arabic (Algeria)","Ø§ÙØ¹Ø±Ø¨ÙØ© (Ø§ÙØ¬Ø²Ø§Ø¦Ø±)"],"ar-EG":["Arabic (Egypt)","Ø§ÙØ¹Ø±Ø¨ÙØ© (ÙØµØ±)"],"ar-EH":["Arabic (Western Sahara)","Ø§ÙØ¹Ø±Ø¨ÙØ© (Ø§ÙØµØ­Ø±Ø§Ø¡ Ø§ÙØºØ±Ø¨ÙØ©)"],"ar-ER":["Arabic (Eritrea)","Ø§ÙØ¹Ø±Ø¨ÙØ© (Ø¥Ø±ÙØªØ±ÙØ§)"],"ar-IL":["Arabic (Israel)","Ø§ÙØ¹Ø±Ø¨ÙØ© (Ø¥Ø³Ø±Ø§Ø¦ÙÙ)"],"ar-IQ":["Arabic (Iraq)","Ø§ÙØ¹Ø±Ø¨ÙØ© (Ø§ÙØ¹Ø±Ø§Ù)"],"ar-JO":["Arabic (Jordan)","Ø§ÙØ¹Ø±Ø¨ÙØ© (Ø§ÙØ£Ø±Ø¯Ù)"],"ar-KM":["Arabic (Comoros)","Ø§ÙØ¹Ø±Ø¨ÙØ© (Ø¬Ø²Ø± Ø§ÙÙÙØ±)"],"ar-KW":["Arabic (Kuwait)","Ø§ÙØ¹Ø±Ø¨ÙØ© (Ø§ÙÙÙÙØª)"],"ar-LB":["Arabic (Lebanon)","Ø§ÙØ¹Ø±Ø¨ÙØ© (ÙØ¨ÙØ§Ù)"],"ar-LY":["Arabic (Libya)","Ø§ÙØ¹Ø±Ø¨ÙØ© (ÙÙØ¨ÙØ§)"],"ar-MA":["Arabic (Morocco)","Ø§ÙØ¹Ø±Ø¨ÙØ© (Ø§ÙÙØºØ±Ø¨)"],"ar-MR":["Arabic (Mauritania)","Ø§ÙØ¹Ø±Ø¨ÙØ© (ÙÙØ±ÙØªØ§ÙÙØ§)"],"ar-OM":["Arabic (Oman)","Ø§ÙØ¹Ø±Ø¨ÙØ© (Ø¹ÙÙØ§Ù)"],"ar-PS":["Arabic (Palestinian Territories)","Ø§ÙØ¹Ø±Ø¨ÙØ© (Ø§ÙØ£Ø±Ø§Ø¶Ù Ø§ÙÙÙØ³Ø·ÙÙÙØ©)"],"ar-QA":["Arabic (Qatar)","Ø§ÙØ¹Ø±Ø¨ÙØ© (ÙØ·Ø±)"],"ar-SA":["Arabic (Saudi Arabia)","Ø§ÙØ¹Ø±Ø¨ÙØ© (Ø§ÙÙÙÙÙØ© Ø§ÙØ¹Ø±Ø¨ÙØ© Ø§ÙØ³Ø¹ÙØ¯ÙØ©)"],"ar-SD":["Arabic (Sudan)","Ø§ÙØ¹Ø±Ø¨ÙØ© (Ø§ÙØ³ÙØ¯Ø§Ù)"],"ar-SO":["Arabic (Somalia)","Ø§ÙØ¹Ø±Ø¨ÙØ© (Ø§ÙØµÙÙØ§Ù)"],"ar-SS":["Arabic (South Sudan)","Ø§ÙØ¹Ø±Ø¨ÙØ© (Ø¬ÙÙØ¨ Ø§ÙØ³ÙØ¯Ø§Ù)"],"ar-SY":["Arabic (Syria)","Ø§ÙØ¹Ø±Ø¨ÙØ© (Ø³ÙØ±ÙØ§)"],"ar-TD":["Arabic (Chad)","Ø§ÙØ¹Ø±Ø¨ÙØ© (ØªØ´Ø§Ø¯)"],"ar-TN":["Arabic (Tunisia)","Ø§ÙØ¹Ø±Ø¨ÙØ© (ØªÙÙØ³)"],"ar-YE":["Arabic (Yemen)","Ø§ÙØ¹Ø±Ø¨ÙØ© (Ø§ÙÙÙÙ)"],as:["Assamese","à¦à¦¸à¦®à§à¦¯à¦¼à¦¾"],asa:["Asu","Kipare"],ast:["Asturian","asturianu"],az:["Azerbaijani","azÉrbaycan"],"az-Cyrl":["Azerbaijani (Cyrillic)","Ð°Ð·ÓÑÐ±Ð°ÑÒ¹Ð°Ð½ (ÐÐ¸ÑÐ¸Ð»)"],"az-Latn":["Azerbaijani (Latin)","azÉrbaycan (latÄ±n)"],bas:["Basaa","ÆÃ sÃ a"],be:["Belarusian","Ð±ÐµÐ»Ð°ÑÑÑÐºÐ°Ñ"],bem:["Bemba","Ichibemba"],bez:["Bena","Hibena"],bg:["Bulgarian","Ð±ÑÐ»Ð³Ð°ÑÑÐºÐ¸"],bm:["Bambara","bamanakan"],bn:["Bangla","à¦¬à¦¾à¦à¦²à¦¾"],"bn-IN":["Bangla (India)","à¦¬à¦¾à¦à¦²à¦¾ (à¦­à¦¾à¦°à¦¤)"],bo:["Tibetan","à½à½¼à½à¼à½¦à¾à½à¼"],"bo-IN":["Tibetan (India)","à½à½¼à½à¼à½¦à¾à½à¼ (à½¢à¾à¾±à¼à½à½¢à¼)"],br:["Breton","brezhoneg"],brx:["Bodo","à¤¬à¤¡à¤¼à¥"],bs:["Bosnian","bosanski"],"bs-Cyrl":["Bosnian (Cyrillic)","Ð±Ð¾ÑÐ°Ð½ÑÐºÐ¸ (ÑÐ¸ÑÐ¸Ð»Ð¸ÑÐ°)"],"bs-Latn":["Bosnian (Latin)","bosanski (latinica)"],ca:["Catalan","catalÃ "],"ca-AD":["Catalan (Andorra)","catalÃ  (Andorra)"],"ca-ES-VALENCIA":["Catalan (Spain, Valencian)","catalÃ  (Espanya, valenciÃ )"],"ca-FR":["Catalan (France)","catalÃ  (FranÃ§a)"],"ca-IT":["Catalan (Italy)","catalÃ  (ItÃ lia)"],ccp:["Chakma","ððð´ðð³ð¦"],"ccp-IN":["Chakma (India)","ððð´ðð³ð¦ (ðð¢ð§ðð´)"],ce:["Chechen","Ð½Ð¾ÑÑÐ¸Ð¹Ð½"],ceb:["Cebuano","Binisaya"],cgg:["Chiga","Rukiga"],chr:["Cherokee","á£á³á©"],ckb:["Central Kurdish","Ú©ÙØ±Ø¯ÛÛ ÙØ§ÙÛÙØ¯Û"],"ckb-IR":["Central Kurdish (Iran)","Ú©ÙØ±Ø¯ÛÛ ÙØ§ÙÛÙØ¯Û (Ø¦ÛØ±Ø§Ù)"],cs:["Czech","ÄeÅ¡tina"],cy:["Welsh","Cymraeg"],da:["Danish","dansk"],"da-GL":["Danish (Greenland)","dansk (GrÃ¸nland)"],dav:["Taita","Kitaita"],de:["German","Deutsch"],"de-AT":["German (Austria)","Deutsch (Ãsterreich)"],"de-BE":["German (Belgium)","Deutsch (Belgien)"],"de-CH":["German (Switzerland)","Deutsch (Schweiz)"],"de-IT":["German (Italy)","Deutsch (Italien)"],"de-LI":["German (Liechtenstein)","Deutsch (Liechtenstein)"],"de-LU":["German (Luxembourg)","Deutsch (Luxemburg)"],dje:["Zarma","Zarmaciine"],doi:["Dogri","à¤¡à¥à¤à¤°à¥"],dsb:["Lower Sorbian","dolnoserbÅ¡Äina"],dua:["Duala","duÃ¡lÃ¡"],dyo:["Jola-Fonyi","joola"],dz:["Dzongkha","à½¢à¾«à½¼à½à¼à½"],ebu:["Embu","KÄ©embu"],ee:["Ewe","EÊegbe"],"ee-TG":["Ewe (Togo)","EÊegbe (Togo nutome)"],el:["Greek","ÎÎ»Î»Î·Î½Î¹ÎºÎ¬"],"el-CY":["Greek (Cyprus)","ÎÎ»Î»Î·Î½Î¹ÎºÎ¬ (ÎÏÏÏÎ¿Ï)"],en:["English","English"],"en-001":["English (world)","English (world)"],"en-150":["English (Europe)","English (Europe)"],"en-AE":["English (United Arab Emirates)","English (United Arab Emirates)"],"en-AG":["English (Antigua & Barbuda)","English (Antigua & Barbuda)"],"en-AI":["English (Anguilla)","English (Anguilla)"],"en-AS":["English (American Samoa)","English (American Samoa)"],"en-AT":["English (Austria)","English (Austria)"],"en-AU":["English (Australia)","English (Australia)"],"en-BB":["English (Barbados)","English (Barbados)"],"en-BE":["English (Belgium)","English (Belgium)"],"en-BI":["English (Burundi)","English (Burundi)"],"en-BM":["English (Bermuda)","English (Bermuda)"],"en-BS":["English (Bahamas)","English (Bahamas)"],"en-BW":["English (Botswana)","English (Botswana)"],"en-BZ":["English (Belize)","English (Belize)"],"en-CA":["English (Canada)","English (Canada)"],"en-CC":["English (Cocos (Keeling) Islands)","English (Cocos (Keeling) Islands)"],"en-CH":["English (Switzerland)","English (Switzerland)"],"en-CK":["English (Cook Islands)","English (Cook Islands)"],"en-CM":["English (Cameroon)","English (Cameroon)"],"en-CX":["English (Christmas Island)","English (Christmas Island)"],"en-CY":["English (Cyprus)","English (Cyprus)"],"en-DE":["English (Germany)","English (Germany)"],"en-DG":["English (Diego Garcia)","English (Diego Garcia)"],"en-DK":["English (Denmark)","English (Denmark)"],"en-DM":["English (Dominica)","English (Dominica)"],"en-ER":["English (Eritrea)","English (Eritrea)"],"en-FI":["English (Finland)","English (Finland)"],"en-FJ":["English (Fiji)","English (Fiji)"],"en-FK":["English (Falkland Islands)","English (Falkland Islands)"],"en-FM":["English (Micronesia)","English (Micronesia)"],"en-GB":["English (United Kingdom)","English (United Kingdom)"],"en-GD":["English (Grenada)","English (Grenada)"],"en-GG":["English (Guernsey)","English (Guernsey)"],"en-GH":["English (Ghana)","English (Ghana)"],"en-GI":["English (Gibraltar)","English (Gibraltar)"],"en-GM":["English (Gambia)","English (Gambia)"],"en-GU":["English (Guam)","English (Guam)"],"en-GY":["English (Guyana)","English (Guyana)"],"en-HK":["English (Hong Kong SAR China)","English (Hong Kong SAR China)"],"en-IE":["English (Ireland)","English (Ireland)"],"en-IL":["English (Israel)","English (Israel)"],"en-IM":["English (Isle of Man)","English (Isle of Man)"],"en-IN":["English (India)","English (India)"],"en-IO":["English (British Indian Ocean Territory)","English (British Indian Ocean Territory)"],"en-JE":["English (Jersey)","English (Jersey)"],"en-JM":["English (Jamaica)","English (Jamaica)"],"en-KE":["English (Kenya)","English (Kenya)"],"en-KI":["English (Kiribati)","English (Kiribati)"],"en-KN":["English (St. Kitts & Nevis)","English (St. Kitts & Nevis)"],"en-KY":["English (Cayman Islands)","English (Cayman Islands)"],"en-LC":["English (St. Lucia)","English (St. Lucia)"],"en-LR":["English (Liberia)","English (Liberia)"],"en-LS":["English (Lesotho)","English (Lesotho)"],"en-MG":["English (Madagascar)","English (Madagascar)"],"en-MH":["English (Marshall Islands)","English (Marshall Islands)"],"en-MO":["English (Macao SAR China)","English (Macao SAR China)"],"en-MP":["English (Northern Mariana Islands)","English (Northern Mariana Islands)"],"en-MS":["English (Montserrat)","English (Montserrat)"],"en-MT":["English (Malta)","English (Malta)"],"en-MU":["English (Mauritius)","English (Mauritius)"],"en-MW":["English (Malawi)","English (Malawi)"],"en-MY":["English (Malaysia)","English (Malaysia)"],"en-NA":["English (Namibia)","English (Namibia)"],"en-NF":["English (Norfolk Island)","English (Norfolk Island)"],"en-NG":["English (Nigeria)","English (Nigeria)"],"en-NL":["English (Netherlands)","English (Netherlands)"],"en-NR":["English (Nauru)","English (Nauru)"],"en-NU":["English (Niue)","English (Niue)"],"en-NZ":["English (New Zealand)","English (New Zealand)"],"en-PG":["English (Papua New Guinea)","English (Papua New Guinea)"],"en-PH":["English (Philippines)","English (Philippines)"],"en-PK":["English (Pakistan)","English (Pakistan)"],"en-PN":["English (Pitcairn Islands)","English (Pitcairn Islands)"],"en-PR":["English (Puerto Rico)","English (Puerto Rico)"],"en-PW":["English (Palau)","English (Palau)"],"en-RW":["English (Rwanda)","English (Rwanda)"],"en-SB":["English (Solomon Islands)","English (Solomon Islands)"],"en-SC":["English (Seychelles)","English (Seychelles)"],"en-SD":["English (Sudan)","English (Sudan)"],"en-SE":["English (Sweden)","English (Sweden)"],"en-SG":["English (Singapore)","English (Singapore)"],"en-SH":["English (St. Helena)","English (St. Helena)"],"en-SI":["English (Slovenia)","English (Slovenia)"],"en-SL":["English (Sierra Leone)","English (Sierra Leone)"],"en-SS":["English (South Sudan)","English (South Sudan)"],"en-SX":["English (Sint Maarten)","English (Sint Maarten)"],"en-SZ":["English (Eswatini)","English (Eswatini)"],"en-TC":["English (Turks & Caicos Islands)","English (Turks & Caicos Islands)"],"en-TK":["English (Tokelau)","English (Tokelau)"],"en-TO":["English (Tonga)","English (Tonga)"],"en-TT":["English (Trinidad & Tobago)","English (Trinidad & Tobago)"],"en-TV":["English (Tuvalu)","English (Tuvalu)"],"en-TZ":["English (Tanzania)","English (Tanzania)"],"en-UG":["English (Uganda)","English (Uganda)"],"en-UM":["English (U.S. Outlying Islands)","English (U.S. Outlying Islands)"],"en-US-POSIX":["English (United States, Computer)","English (United States, Computer)"],"en-VC":["English (St. Vincent & Grenadines)","English (St. Vincent & Grenadines)"],"en-VG":["English (British Virgin Islands)","English (British Virgin Islands)"],"en-VI":["English (U.S. Virgin Islands)","English (U.S. Virgin Islands)"],"en-VU":["English (Vanuatu)","English (Vanuatu)"],"en-WS":["English (Samoa)","English (Samoa)"],"en-ZA":["English (South Africa)","English (South Africa)"],"en-ZM":["English (Zambia)","English (Zambia)"],"en-ZW":["English (Zimbabwe)","English (Zimbabwe)"],eo:["Esperanto","esperanto"],es:["Spanish","espaÃ±ol"],"es-419":["Spanish (Latin America)","espaÃ±ol (LatinoamÃ©rica)"],"es-AR":["Spanish (Argentina)","espaÃ±ol (Argentina)"],"es-BO":["Spanish (Bolivia)","espaÃ±ol (Bolivia)"],"es-BR":["Spanish (Brazil)","espaÃ±ol (Brasil)"],"es-BZ":["Spanish (Belize)","espaÃ±ol (Belice)"],"es-CL":["Spanish (Chile)","espaÃ±ol (Chile)"],"es-CO":["Spanish (Colombia)","espaÃ±ol (Colombia)"],"es-CR":["Spanish (Costa Rica)","espaÃ±ol (Costa Rica)"],"es-CU":["Spanish (Cuba)","espaÃ±ol (Cuba)"],"es-DO":["Spanish (Dominican Republic)","espaÃ±ol (RepÃºblica Dominicana)"],"es-EA":["Spanish (Ceuta & Melilla)","espaÃ±ol (Ceuta y Melilla)"],"es-EC":["Spanish (Ecuador)","espaÃ±ol (Ecuador)"],"es-GQ":["Spanish (Equatorial Guinea)","espaÃ±ol (Guinea Ecuatorial)"],"es-GT":["Spanish (Guatemala)","espaÃ±ol (Guatemala)"],"es-HN":["Spanish (Honduras)","espaÃ±ol (Honduras)"],"es-IC":["Spanish (Canary Islands)","espaÃ±ol (Canarias)"],"es-MX":["Spanish (Mexico)","espaÃ±ol (MÃ©xico)"],"es-NI":["Spanish (Nicaragua)","espaÃ±ol (Nicaragua)"],"es-PA":["Spanish (Panama)","espaÃ±ol (PanamÃ¡)"],"es-PE":["Spanish (Peru)","espaÃ±ol (PerÃº)"],"es-PH":["Spanish (Philippines)","espaÃ±ol (Filipinas)"],"es-PR":["Spanish (Puerto Rico)","espaÃ±ol (Puerto Rico)"],"es-PY":["Spanish (Paraguay)","espaÃ±ol (Paraguay)"],"es-SV":["Spanish (El Salvador)","espaÃ±ol (El Salvador)"],"es-US":["Spanish (United States)","espaÃ±ol (Estados Unidos)"],"es-UY":["Spanish (Uruguay)","espaÃ±ol (Uruguay)"],"es-VE":["Spanish (Venezuela)","espaÃ±ol (Venezuela)"],et:["Estonian","eesti"],eu:["Basque","euskara"],ewo:["Ewondo","ewondo"],fa:["Persian","ÙØ§Ø±Ø³Û"],"fa-AF":["Persian (Afghanistan)","ÙØ§Ø±Ø³Û (Ø§ÙØºØ§ÙØ³ØªØ§Ù)"],ff:["Fulah","Pulaar"],"ff-Adlm":["Fulah (Adlam)","ð¤ð¤µð¤¤ð¤¢ð¤ª (ð¤ð¤ð¤ð¤¢ð¤)"],"ff-Adlm-BF":["Fulah (Adlam, Burkina Faso)","ð¤ð¤µð¤¤ð¤¢ð¤ª (ð¤ð¤ð¤ð¤¢ð¤â¹ ð¤ð¤µð¤ªð¤³ð¤­ð¤²ð¤¢ ð¤ð¤¢ð¤§ð¤®ð¥)"],"ff-Adlm-CM":["Fulah (Adlam, Cameroon)","ð¤ð¤µð¤¤ð¤¢ð¤ª (ð¤ð¤ð¤ð¤¢ð¤â¹ ð¤ð¤¢ð¤¥ð¤¢ð¤ªð¤µð¥ð¤²)"],"ff-Adlm-GH":["Fulah (Adlam, Ghana)","ð¤ð¤µð¤¤ð¤¢ð¤ª (ð¤ð¤ð¤ð¤¢ð¤â¹ ð¤ð¤¢ð¤²ð¤¢)"],"ff-Adlm-GM":["Fulah (Adlam, Gambia)","ð¤ð¤µð¤¤ð¤¢ð¤ª (ð¤ð¤ð¤ð¤¢ð¤â¹ ð¤ð¤¢ð¤¥ð¤¦ð¤­ð¤´ð¤¢)"],"ff-Adlm-GW":["Fulah (Adlam, Guinea-Bissau)","ð¤ð¤µð¤¤ð¤¢ð¤ª (ð¤ð¤ð¤ð¤¢ð¤â¹ ð¤ð¤­ð¤²ð¤«-ð¤ð¤­ð¤§ð¤¢ð¤±ð¤®ð¥)"],"ff-Adlm-LR":["Fulah (Adlam, Liberia)","ð¤ð¤µð¤¤ð¤¢ð¤ª (ð¤ð¤ð¤ð¤¢ð¤â¹ ð¤ð¤¢ð¤¦ð¤­ð¤ªð¤­ð¤´ð¤¢ð¥)"],"ff-Adlm-MR":["Fulah (Adlam, Mauritania)","ð¤ð¤µð¤¤ð¤¢ð¤ª (ð¤ð¤ð¤ð¤¢ð¤â¹ ð¤ð¤®ð¤ªð¤¼ð¤¢ð¤²ð¤­ð¥)"],"ff-Adlm-NE":["Fulah (Adlam, Niger)","ð¤ð¤µð¤¤ð¤¢ð¤ª (ð¤ð¤ð¤ð¤¢ð¤â¹ ð¤ð¤­ð¥ð¤¶ð¤«ð¤ª)"],"ff-Adlm-NG":["Fulah (Adlam, Nigeria)","ð¤ð¤µð¤¤ð¤¢ð¤ª (ð¤ð¤ð¤ð¤¢ð¤â¹ ð¤ð¤¢ð¤¶ð¤«ð¤ªð¤­ð¤´ð¤¢ð¥)"],"ff-Adlm-SL":["Fulah (Adlam, Sierra Leone)","ð¤ð¤µð¤¤ð¤¢ð¤ª (ð¤ð¤ð¤ð¤¢ð¤â¹ ð¤ð¤¢ð¤ªð¤¢ð¤¤ð¤®ð¤²)"],"ff-Adlm-SN":["Fulah (Adlam, Senegal)","ð¤ð¤µð¤¤ð¤¢ð¤ª (ð¤ð¤ð¤ð¤¢ð¤â¹ ð¤ð¤«ð¤²ð¤«ð¤ºð¤¢ð¥ð¤¤)"],"ff-Latn":["Fulah (Latin)","Pulaar (Latn)"],"ff-Latn-BF":["Fulah (Latin, Burkina Faso)","Pulaar (Latn, Burkibaa Faaso)"],"ff-Latn-CM":["Fulah (Latin, Cameroon)","Pulaar (Latn, Kameruun)"],"ff-Latn-GH":["Fulah (Latin, Ghana)","Pulaar (Latn, Ganaa)"],"ff-Latn-GM":["Fulah (Latin, Gambia)","Pulaar (Latn, Gammbi)"],"ff-Latn-GN":["Fulah (Latin, Guinea)","Pulaar (Latn, Gine)"],"ff-Latn-GW":["Fulah (Latin, Guinea-Bissau)","Pulaar (Latn, Gine-Bisaawo)"],"ff-Latn-LR":["Fulah (Latin, Liberia)","Pulaar (Latn, Liberiyaa)"],"ff-Latn-MR":["Fulah (Latin, Mauritania)","Pulaar (Latn, Muritani)"],"ff-Latn-NE":["Fulah (Latin, Niger)","Pulaar (Latn, Nijeer)"],"ff-Latn-NG":["Fulah (Latin, Nigeria)","Pulaar (Latn, Nijeriyaa)"],"ff-Latn-SL":["Fulah (Latin, Sierra Leone)","Pulaar (Latn, Seraa liyon)"],fi:["Finnish","suomi"],fil:["Filipino","Filipino"],fo:["Faroese","fÃ¸royskt"],"fo-DK":["Faroese (Denmark)","fÃ¸royskt (Danmark)"],fr:["French","franÃ§ais"],"fr-BE":["French (Belgium)","franÃ§ais (Belgique)"],"fr-BF":["French (Burkina Faso)","franÃ§ais (Burkina Faso)"],"fr-BI":["French (Burundi)","franÃ§ais (Burundi)"],"fr-BJ":["French (Benin)","franÃ§ais (BÃ©nin)"],"fr-BL":["French (St. BarthÃ©lemy)","franÃ§ais (Saint-BarthÃ©lemy)"],"fr-CA":["French (Canada)","franÃ§ais (Canada)"],"fr-CD":["French (Congo - Kinshasa)","franÃ§ais (Congo-Kinshasa)"],"fr-CF":["French (Central African Republic)","franÃ§ais (RÃ©publique centrafricaine)"],"fr-CG":["French (Congo - Brazzaville)","franÃ§ais (Congo-Brazzaville)"],"fr-CH":["French (Switzerland)","franÃ§ais (Suisse)"],"fr-CI":["French (CÃ´te dâIvoire)","franÃ§ais (CÃ´te dâIvoire)"],"fr-CM":["French (Cameroon)","franÃ§ais (Cameroun)"],"fr-DJ":["French (Djibouti)","franÃ§ais (Djibouti)"],"fr-DZ":["French (Algeria)","franÃ§ais (AlgÃ©rie)"],"fr-GA":["French (Gabon)","franÃ§ais (Gabon)"],"fr-GF":["French (French Guiana)","franÃ§ais (Guyane franÃ§aise)"],"fr-GN":["French (Guinea)","franÃ§ais (GuinÃ©e)"],"fr-GP":["French (Guadeloupe)","franÃ§ais (Guadeloupe)"],"fr-GQ":["French (Equatorial Guinea)","franÃ§ais (GuinÃ©e Ã©quatoriale)"],"fr-HT":["French (Haiti)","franÃ§ais (HaÃ¯ti)"],"fr-KM":["French (Comoros)","franÃ§ais (Comores)"],"fr-LU":["French (Luxembourg)","franÃ§ais (Luxembourg)"],"fr-MA":["French (Morocco)","franÃ§ais (Maroc)"],"fr-MC":["French (Monaco)","franÃ§ais (Monaco)"],"fr-MF":["French (St. Martin)","franÃ§ais (Saint-Martin)"],"fr-MG":["French (Madagascar)","franÃ§ais (Madagascar)"],"fr-ML":["French (Mali)","franÃ§ais (Mali)"],"fr-MQ":["French (Martinique)","franÃ§ais (Martinique)"],"fr-MR":["French (Mauritania)","franÃ§ais (Mauritanie)"],"fr-MU":["French (Mauritius)","franÃ§ais (Maurice)"],"fr-NC":["French (New Caledonia)","franÃ§ais (Nouvelle-CalÃ©donie)"],"fr-NE":["French (Niger)","franÃ§ais (Niger)"],"fr-PF":["French (French Polynesia)","franÃ§ais (PolynÃ©sie franÃ§aise)"],"fr-PM":["French (St. Pierre & Miquelon)","franÃ§ais (Saint-Pierre-et-Miquelon)"],"fr-RE":["French (RÃ©union)","franÃ§ais (La RÃ©union)"],"fr-RW":["French (Rwanda)","franÃ§ais (Rwanda)"],"fr-SC":["French (Seychelles)","franÃ§ais (Seychelles)"],"fr-SN":["French (Senegal)","franÃ§ais (SÃ©nÃ©gal)"],"fr-SY":["French (Syria)","franÃ§ais (Syrie)"],"fr-TD":["French (Chad)","franÃ§ais (Tchad)"],"fr-TG":["French (Togo)","franÃ§ais (Togo)"],"fr-TN":["French (Tunisia)","franÃ§ais (Tunisie)"],"fr-VU":["French (Vanuatu)","franÃ§ais (Vanuatu)"],"fr-WF":["French (Wallis & Futuna)","franÃ§ais (Wallis-et-Futuna)"],"fr-YT":["French (Mayotte)","franÃ§ais (Mayotte)"],fur:["Friulian","furlan"],fy:["Western Frisian","Frysk"],ga:["Irish","Gaeilge"],"ga-GB":["Irish (United Kingdom)","Gaeilge (an RÃ­ocht Aontaithe)"],gd:["Scottish Gaelic","GÃ idhlig"],gl:["Galician","galego"],gsw:["Swiss German","SchwiizertÃ¼Ã¼tsch"],"gsw-FR":["Swiss German (France)","SchwiizertÃ¼Ã¼tsch (Frankriich)"],"gsw-LI":["Swiss German (Liechtenstein)","SchwiizertÃ¼Ã¼tsch (LiÃ¤chteschtÃ¤i)"],gu:["Gujarati","àªà«àªàª°àª¾àª¤à«"],guz:["Gusii","Ekegusii"],gv:["Manx","Gaelg"],ha:["Hausa","Hausa"],"ha-GH":["Hausa (Ghana)","Hausa (Gana)"],"ha-NE":["Hausa (Niger)","Hausa (Nijar)"],haw:["Hawaiian","Ê»Ålelo HawaiÊ»i"],he:["Hebrew","×¢××¨××ª"],hi:["Hindi","à¤¹à¤¿à¤¨à¥à¤¦à¥"],hr:["Croatian","hrvatski"],"hr-BA":["Croatian (Bosnia & Herzegovina)","hrvatski (Bosna i Hercegovina)"],hsb:["Upper Sorbian","hornjoserbÅ¡Äina"],hu:["Hungarian","magyar"],hy:["Armenian","Õ°Õ¡ÕµÕ¥ÖÕ¥Õ¶"],ia:["Interlingua","interlingua"],id:["Indonesian","Indonesia"],ig:["Igbo","Igbo"],ii:["Sichuan Yi","êê ê"],is:["Icelandic","Ã­slenska"],it:["Italian","italiano"],"it-CH":["Italian (Switzerland)","italiano (Svizzera)"],"it-SM":["Italian (San Marino)","italiano (San Marino)"],"it-VA":["Italian (Vatican City)","italiano (CittÃ  del Vaticano)"],ja:["Japanese","æ¥æ¬èª"],jgo:["Ngomba","Ndaêa"],jmc:["Machame","Kimachame"],jv:["Javanese","Jawa"],ka:["Georgian","á¥áá áá£áá"],kab:["Kabyle","Taqbaylit"],kam:["Kamba","Kikamba"],kde:["Makonde","Chimakonde"],kea:["Kabuverdianu","kabuverdianu"],khq:["Koyra Chiini","Koyra ciini"],ki:["Kikuyu","Gikuyu"],kk:["Kazakh","ÒÐ°Ð·Ð°Ò ÑÑÐ»Ñ"],kkj:["Kako","kakÉ"],kl:["Kalaallisut","kalaallisut"],kln:["Kalenjin","Kalenjin"],km:["Khmer","ááááá"],kn:["Kannada","à²à²¨à³à²¨à²¡"],ko:["Korean","íêµ­ì´"],"ko-KP":["Korean (North Korea)","íêµ­ì´(ì¡°ì ë¯¼ì£¼ì£¼ìì¸ë¯¼ê³µíêµ­)"],kok:["Konkani","à¤à¥à¤à¤à¤£à¥"],ks:["Kashmiri","Ú©Ù²Ø´ÙØ±"],"ks-Arab":["Kashmiri (Arabic)","Ú©Ù²Ø´ÙØ± (Ø§ÙØ±Ø¨Û)"],ksb:["Shambala","Kishambaa"],ksf:["Bafia","rikpa"],ksh:["Colognian","KÃ¶lsch"],ku:["Kurdish","kurdÃ®"],kw:["Cornish","kernewek"],ky:["Kyrgyz","ÐºÑÑÐ³ÑÐ·ÑÐ°"],lag:["Langi","KÉ¨laangi"],lb:["Luxembourgish","LÃ«tzebuergesch"],lg:["Ganda","Luganda"],lkt:["Lakota","LakÈÃ³lÊ¼iyapi"],ln:["Lingala","lingÃ¡la"],"ln-AO":["Lingala (Angola)","lingÃ¡la (AngÃ³la)"],"ln-CF":["Lingala (Central African Republic)","lingÃ¡la (Repibiki ya AfrÃ­ka ya KÃ¡ti)"],"ln-CG":["Lingala (Congo - Brazzaville)","lingÃ¡la (Kongo)"],lo:["Lao","àº¥àº²àº§"],lrc:["Northern Luri","ÙÛØ±Û Ø´ÙÙØ§ÙÛ"],"lrc-IQ":["Northern Luri (Iraq)","ÙÛØ±Û Ø´ÙÙØ§ÙÛ (IQ)"],lt:["Lithuanian","lietuviÅ³"],lu:["Luba-Katanga","Tshiluba"],luo:["Luo","Dholuo"],luy:["Luyia","Luluhia"],lv:["Latvian","latvieÅ¡u"],mai:["Maithili","à¤®à¥à¤¥à¤¿à¤²à¥"],mas:["Masai","Maa"],"mas-TZ":["Masai (Tanzania)","Maa (Tansania)"],mer:["Meru","KÄ©mÄ©rÅ©"],mfe:["Morisyen","kreol morisien"],mg:["Malagasy","Malagasy"],mgh:["Makhuwa-Meetto","Makua"],mgo:["MetaÊ¼","metaÊ¼"],mi:["Maori","te reo MÄori"],mk:["Macedonian","Ð¼Ð°ÐºÐµÐ´Ð¾Ð½ÑÐºÐ¸"],ml:["Malayalam","à´®à´²à´¯à´¾à´³à´"],mn:["Mongolian","Ð¼Ð¾Ð½Ð³Ð¾Ð»"],mni:["Manipuri","à¦®à§à¦¤à§à¦²à§à¦¨à§"],"mni-Beng":["Manipuri (Bangla)","à¦®à§à¦¤à§à¦²à§à¦¨à§ (à¦¬à¦¾à¦à¦²à¦¾)"],mr:["Marathi","à¤®à¤°à¤¾à¤ à¥"],ms:["Malay","Melayu"],"ms-BN":["Malay (Brunei)","Melayu (Brunei)"],"ms-ID":["Malay (Indonesia)","Melayu (Indonesia)"],"ms-SG":["Malay (Singapore)","Melayu (Singapura)"],mt:["Maltese","Malti"],mua:["Mundang","MUNDAÅ"],my:["Burmese","áá¼ááºáá¬"],mzn:["Mazanderani","ÙØ§Ø²Ø±ÙÙÛ"],naq:["Nama","Khoekhoegowab"],nb:["Norwegian BokmÃ¥l","norsk bokmÃ¥l"],"nb-SJ":["Norwegian BokmÃ¥l (Svalbard & Jan Mayen)","norsk bokmÃ¥l (Svalbard og Jan Mayen)"],nd:["North Ndebele","isiNdebele"],nds:["Low German","nds"],"nds-NL":["Low German (Netherlands)","nds (NL)"],ne:["Nepali","à¤¨à¥à¤ªà¤¾à¤²à¥"],"ne-IN":["Nepali (India)","à¤¨à¥à¤ªà¤¾à¤²à¥ (à¤­à¤¾à¤°à¤¤)"],nl:["Dutch","Nederlands"],"nl-AW":["Dutch (Aruba)","Nederlands (Aruba)"],"nl-BE":["Dutch (Belgium)","Nederlands (BelgiÃ«)"],"nl-BQ":["Dutch (Caribbean Netherlands)","Nederlands (Caribisch Nederland)"],"nl-CW":["Dutch (CuraÃ§ao)","Nederlands (CuraÃ§ao)"],"nl-SR":["Dutch (Suriname)","Nederlands (Suriname)"],"nl-SX":["Dutch (Sint Maarten)","Nederlands (Sint-Maarten)"],nmg:["Kwasio","nmg"],nn:["Norwegian Nynorsk","norsk nynorsk"],nnh:["Ngiemboon","ShwÃ³ÅÃ² ngiembÉÉn"],no:["Norwegian","norsk"],nus:["Nuer","Thok Nath"],nyn:["Nyankole","Runyankore"],om:["Oromo","Oromoo"],"om-KE":["Oromo (Kenya)","Oromoo (Keeniyaa)"],or:["Odia","à¬à¬¡à¬¼à¬¿à¬"],os:["Ossetic","Ð¸ÑÐ¾Ð½"],"os-RU":["Ossetic (Russia)","Ð¸ÑÐ¾Ð½ (Ð£ÓÑÓÑÐµ)"],pa:["Punjabi","à¨ªà©°à¨à¨¾à¨¬à©"],"pa-Arab":["Punjabi (Arabic)","Ù¾ÙØ¬Ø§Ø¨Û (Ø¹Ø±Ø¨Û)"],"pa-Guru":["Punjabi (Gurmukhi)","à¨ªà©°à¨à¨¾à¨¬à© (à¨à©à¨°à¨®à©à¨à©)"],pcm:["Nigerian Pidgin","NaijÃ­riÃ¡ PÃ­jin"],pl:["Polish","polski"],ps:["Pashto","Ù¾ÚØªÙ"],"ps-PK":["Pashto (Pakistan)","Ù¾ÚØªÙ (Ù¾Ø§Ú©Ø³ØªØ§Ù)"],pt:["Portuguese","portuguÃªs"],"pt-AO":["Portuguese (Angola)","portuguÃªs (Angola)"],"pt-CH":["Portuguese (Switzerland)","portuguÃªs (SuÃ­Ã§a)"],"pt-CV":["Portuguese (Cape Verde)","portuguÃªs (Cabo Verde)"],"pt-GQ":["Portuguese (Equatorial Guinea)","portuguÃªs (GuinÃ© Equatorial)"],"pt-GW":["Portuguese (Guinea-Bissau)","portuguÃªs (GuinÃ©-Bissau)"],"pt-LU":["Portuguese (Luxembourg)","portuguÃªs (Luxemburgo)"],"pt-MO":["Portuguese (Macao SAR China)","portuguÃªs (Macau, RAE da China)"],"pt-MZ":["Portuguese (Mozambique)","portuguÃªs (MoÃ§ambique)"],"pt-PT":["Portuguese (Portugal)","portuguÃªs (Portugal)"],"pt-ST":["Portuguese (SÃ£o TomÃ© & PrÃ­ncipe)","portuguÃªs (SÃ£o TomÃ© e PrÃ­ncipe)"],"pt-TL":["Portuguese (Timor-Leste)","portuguÃªs (Timor-Leste)"],qu:["Quechua","Runasimi"],"qu-BO":["Quechua (Bolivia)","Runasimi (Bolivia)"],"qu-EC":["Quechua (Ecuador)","Runasimi (Ecuador)"],rm:["Romansh","rumantsch"],rn:["Rundi","Ikirundi"],ro:["Romanian","romÃ¢nÄ"],"ro-MD":["Romanian (Moldova)","romÃ¢nÄ (Republica Moldova)"],rof:["Rombo","Kihorombo"],ru:["Russian","ÑÑÑÑÐºÐ¸Ð¹"],"ru-BY":["Russian (Belarus)","ÑÑÑÑÐºÐ¸Ð¹ (ÐÐµÐ»Ð°ÑÑÑÑ)"],"ru-KG":["Russian (Kyrgyzstan)","ÑÑÑÑÐºÐ¸Ð¹ (ÐÐ¸ÑÐ³Ð¸Ð·Ð¸Ñ)"],"ru-KZ":["Russian (Kazakhstan)","ÑÑÑÑÐºÐ¸Ð¹ (ÐÐ°Ð·Ð°ÑÑÑÐ°Ð½)"],"ru-MD":["Russian (Moldova)","ÑÑÑÑÐºÐ¸Ð¹ (ÐÐ¾Ð»Ð´Ð¾Ð²Ð°)"],"ru-UA":["Russian (Ukraine)","ÑÑÑÑÐºÐ¸Ð¹ (Ð£ÐºÑÐ°Ð¸Ð½Ð°)"],rw:["Kinyarwanda","Kinyarwanda"],rwk:["Rwa","Kiruwa"],sa:["Sanskrit","à¤¸à¤à¤¸à¥à¤à¥à¤¤ à¤­à¤¾à¤·à¤¾"],sah:["Sakha","ÑÐ°ÑÐ° ÑÑÐ»Ð°"],saq:["Samburu","Kisampur"],sat:["Santali","á±¥á±á±±á±á±á±²á±¤"],"sat-Olck":["Santali (Ol Chiki)","á±¥á±á±±á±á±á±²á±¤ (á±á± á±ªá±¤á± á±¤)"],sbp:["Sangu","Ishisangu"],sd:["Sindhi","Ø³ÙÚÙ"],"sd-Arab":["Sindhi (Arabic)","Ø³ÙÚÙ (Ø¹Ø±Ø¨Ù)"],"sd-Deva":["Sindhi (Devanagari)","à¤¸à¤¿à¤¨à¥à¤§à¥ (à¤¦à¥à¤µà¤¨à¤¾à¤à¤¿à¤°à¥)"],se:["Northern Sami","davvisÃ¡megiella"],"se-FI":["Northern Sami (Finland)","davvisÃ¡megiella (Suopma)"],"se-SE":["Northern Sami (Sweden)","davvisÃ¡megiella (RuoÅ§Å§a)"],seh:["Sena","sena"],ses:["Koyraboro Senni","Koyraboro senni"],sg:["Sango","SÃ¤ngÃ¶"],shi:["Tachelhit","âµâ´°âµâµâµâµâµ"],"shi-Latn":["Tachelhit (Latin)","Tashelá¸¥iyt (Latn)"],"shi-Tfng":["Tachelhit (Tifinagh)","âµâ´°âµâµâµâµâµ (Tfng)"],si:["Sinhala","à·à·à¶à·à¶½"],sk:["Slovak","slovenÄina"],sl:["Slovenian","slovenÅ¡Äina"],smn:["Inari Sami","anarÃ¢Å¡kielÃ¢"],sn:["Shona","chiShona"],so:["Somali","Soomaali"],"so-DJ":["Somali (Djibouti)","Soomaali (Jabuuti)"],"so-ET":["Somali (Ethiopia)","Soomaali (Itoobiya)"],"so-KE":["Somali (Kenya)","Soomaali (Kenya)"],sq:["Albanian","shqip"],"sq-MK":["Albanian (North Macedonia)","shqip (Maqedonia e Veriut)"],"sq-XK":["Albanian (Kosovo)","shqip (KosovÃ«)"],sr:["Serbian","ÑÑÐ¿ÑÐºÐ¸"],"sr-Cyrl":["Serbian (Cyrillic)","ÑÑÐ¿ÑÐºÐ¸ (ÑÐ¸ÑÐ¸Ð»Ð¸ÑÐ°)"],"sr-Cyrl-BA":["Serbian (Cyrillic, Bosnia & Herzegovina)","ÑÑÐ¿ÑÐºÐ¸ (ÑÐ¸ÑÐ¸Ð»Ð¸ÑÐ°, ÐÐ¾ÑÐ½Ð° Ð¸ Ð¥ÐµÑÑÐµÐ³Ð¾Ð²Ð¸Ð½Ð°)"],"sr-Cyrl-ME":["Serbian (Cyrillic, Montenegro)","ÑÑÐ¿ÑÐºÐ¸ (ÑÐ¸ÑÐ¸Ð»Ð¸ÑÐ°, Ð¦ÑÐ½Ð° ÐÐ¾ÑÐ°)"],"sr-Cyrl-XK":["Serbian (Cyrillic, Kosovo)","ÑÑÐ¿ÑÐºÐ¸ (ÑÐ¸ÑÐ¸Ð»Ð¸ÑÐ°, ÐÐ¾ÑÐ¾Ð²Ð¾)"],"sr-Latn":["Serbian (Latin)","srpski (latinica)"],"sr-Latn-BA":["Serbian (Latin, Bosnia & Herzegovina)","srpski (latinica, Bosna i Hercegovina)"],"sr-Latn-ME":["Serbian (Latin, Montenegro)","srpski (latinica, Crna Gora)"],"sr-Latn-XK":["Serbian (Latin, Kosovo)","srpski (latinica, Kosovo)"],su:["Sundanese","Basa Sunda"],"su-Latn":["Sundanese (Latin)","Basa Sunda (Latin)"],sv:["Swedish","svenska"],"sv-AX":["Swedish (Ãland Islands)","svenska (Ãland)"],"sv-FI":["Swedish (Finland)","svenska (Finland)"],sw:["Swahili","Kiswahili"],"sw-CD":["Swahili (Congo - Kinshasa)","Kiswahili (Jamhuri ya Kidemokrasia ya Kongo)"],"sw-KE":["Swahili (Kenya)","Kiswahili (Kenya)"],"sw-UG":["Swahili (Uganda)","Kiswahili (Uganda)"],ta:["Tamil","à®¤à®®à®¿à®´à¯"],"ta-LK":["Tamil (Sri Lanka)","à®¤à®®à®¿à®´à¯ (à®à®²à®à¯à®à¯)"],"ta-MY":["Tamil (Malaysia)","à®¤à®®à®¿à®´à¯ (à®®à®²à¯à®à®¿à®¯à®¾)"],"ta-SG":["Tamil (Singapore)","à®¤à®®à®¿à®´à¯ (à®à®¿à®à¯à®à®ªà¯à®ªà¯à®°à¯)"],te:["Telugu","à°¤à±à°²à±à°à±"],teo:["Teso","Kiteso"],"teo-KE":["Teso (Kenya)","Kiteso (Kenia)"],tg:["Tajik","ÑÐ¾Ò·Ð¸ÐºÓ£"],th:["Thai","à¹à¸à¸¢"],ti:["Tigrinya","áµáá­"],"ti-ER":["Tigrinya (Eritrea)","áµáá­ (á¤á­áµá«)"],tk:["Turkmen","tÃ¼rkmen dili"],to:["Tongan","lea fakatonga"],tr:["Turkish","TÃ¼rkÃ§e"],"tr-CY":["Turkish (Cyprus)","TÃ¼rkÃ§e (KÄ±brÄ±s)"],tt:["Tatar","ÑÐ°ÑÐ°Ñ"],twq:["Tasawaq","Tasawaq senni"],tzm:["Central Atlas Tamazight","TamaziÉ£t n laá¹­laá¹£"],ug:["Uyghur","Ø¦ÛÙØºÛØ±ÚÛ"],uk:["Ukrainian","ÑÐºÑÐ°ÑÐ½ÑÑÐºÐ°"],ur:["Urdu","Ø§Ø±Ø¯Ù"],"ur-IN":["Urdu (India)","Ø§Ø±Ø¯Ù (Ø¨Ú¾Ø§Ø±Øª)"],uz:["Uzbek","oâzbek"],"uz-Arab":["Uzbek (Arabic)","Ø§ÙØ²Ø¨ÛÚ© (Ø¹Ø±Ø¨Û)"],"uz-Cyrl":["Uzbek (Cyrillic)","ÑÐ·Ð±ÐµÐºÑÐ° (ÐÐ¸ÑÐ¸Ð»)"],"uz-Latn":["Uzbek (Latin)","oâzbek (lotin)"],vai:["Vai","êê¤"],"vai-Latn":["Vai (Latin)","Vai (Latn)"],"vai-Vaii":["Vai (Vai)","êê¤ (Vaii)"],vi:["Vietnamese","Tiáº¿ng Viá»t"],vun:["Vunjo","Kyivunjo"],wae:["Walser","Walser"],wo:["Wolof","Wolof"],xh:["Xhosa","isiXhosa"],xog:["Soga","Olusoga"],yav:["Yangben","nuasue"],yi:["Yiddish","××Ö´×××©"],yo:["Yoruba","ÃdÃ¨ YorÃ¹bÃ¡"],"yo-BJ":["Yoruba (Benin)","ÃdÃ¨ YorÃ¹bÃ¡ (BÉÌnÉÌ)"],yue:["Cantonese","ç²µèª"],"yue-Hans":["Cantonese (Simplified)","ç²¤è¯­ (ç®ä½)"],"yue-Hant":["Cantonese (Traditional)","ç²µèª (ç¹é«)"],zgh:["Standard Moroccan Tamazight","âµâ´°âµâ´°âµ£âµâµâµ"],zh:["Chinese","ä¸­æ"],"zh-Hans":["Chinese (Simplified)","ä¸­æï¼ç®ä½ï¼"],"zh-Hans-HK":["Chinese (Simplified, Hong Kong SAR China)","ä¸­æï¼ç®ä½ï¼ä¸­å½é¦æ¸¯ç¹å«è¡æ¿åºï¼"],"zh-Hans-MO":["Chinese (Simplified, Macao SAR China)","ä¸­æï¼ç®ä½ï¼ä¸­å½æ¾³é¨ç¹å«è¡æ¿åºï¼"],"zh-Hans-SG":["Chinese (Simplified, Singapore)","ä¸­æï¼ç®ä½ï¼æ°å å¡ï¼"],"zh-Hant":["Chinese (Traditional)","ä¸­æï¼ç¹é«ï¼"],"zh-Hant-HK":["Chinese (Traditional, Hong Kong SAR China)","ä¸­æï¼ç¹é«å­ï¼ä¸­åé¦æ¸¯ç¹å¥è¡æ¿åï¼"],"zh-Hant-MO":["Chinese (Traditional, Macao SAR China)","ä¸­æï¼ç¹é«å­ï¼ä¸­åæ¾³éç¹å¥è¡æ¿åï¼"],zu:["Zulu","isiZulu"]},qn={locale:"en",domain:"en",direction:"ltr",countryCode:"",country:"",countryNative:"",language:"English",languageNative:"English",translations:{months:{formatted:{abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},nominative:{abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]}},days:{formatted:{abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},nominative:{abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},time:{AM:"AM",PM:"PM"}},formats:{date:{full:"EEEE, MMMM d, y",long:"MMMM d, y",medium:"MMM d, y",short:"M/d/yy"},time:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTime:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}"},numbers:{decimals:".",grouping:",",minus:"-"}}},jn=function(){function e(){(0,h.Z)(this,e)}return(0,l.Z)(e,[{key:"locale",get:function(){return this.m_pLocale||e.locale}},{key:"identifier",get:function(){return this.locale.locale}},{key:"domain",get:function(){return this.locale.domain}},{key:"countryCode",get:function(){return this.locale.countryCode}},{key:"country",get:function(){return this.locale.country}},{key:"countryNative",get:function(){return this.locale.countryNative}},{key:"language",get:function(){return this.locale.language}},{key:"languageNative",get:function(){return this.locale.languageNative}},{key:"load",value:function(t){var n=e.load(t,!1);return this.set(t.locale),n}},{key:"set",value:function(t){return B(this.m_pLocale=e.isLoaded(t)&&e.m_pLocales[t.toLowerCase()].locale===t?e.m_pLocales[t.toLowerCase()]:void 0)}},{key:"number",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return e.number(t,n,i,this.identifier)}},{key:"dateTime",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:F.now,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e.dateTime(t,n,i,this.identifier)}},{key:"dateFull",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F.now,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.dateFull(t,n,this.identifier)}},{key:"dateLong",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F.now,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.dateLong(t,n,this.identifier)}},{key:"dateMedium",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F.now,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.dateMedium(t,n,this.identifier)}},{key:"dateShort",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F.now,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.dateShort(t,n,this.identifier)}},{key:"timeFull",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F.now,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.timeFull(t,n,this.identifier)}},{key:"timeLong",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F.now,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.timeLong(t,n,this.identifier)}},{key:"timeMedium",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F.now,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.timeMedium(t,n,this.identifier)}},{key:"timeShort",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F.now,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.timeShort(t,n,this.identifier)}},{key:"dateTimeFull",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F.now,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.dateTimeFull(t,n,this.identifier)}},{key:"dateTimeLong",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F.now,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.dateTimeLong(t,n,this.identifier)}},{key:"dateTimeMedium",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F.now,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.dateTimeMedium(t,n,this.identifier)}},{key:"dateTimeShort",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F.now,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.dateTimeShort(t,n,this.identifier)}}],[{key:"locale",get:function(){return this.m_pLocale||qn}},{key:"identifier",get:function(){return this.locale.locale}},{key:"domain",get:function(){return this.locale.domain}},{key:"countryCode",get:function(){return this.locale.countryCode}},{key:"country",get:function(){return this.locale.country}},{key:"countryNative",get:function(){return this.locale.countryNative}},{key:"language",get:function(){return this.locale.language}},{key:"languageNative",get:function(){return this.locale.languageNative}},{key:"locales",get:function(){var e=[];return fe(Kn,(function(t,n){e.push(n)}),{keys:!0}),e}},{key:"domains",get:function(){var e=[];return fe(Kn,(function(t,n){e.push({locale:n,language:t[0],native:t[1]})}),{keys:!0}),e}},{key:"isLoaded",value:function(e){return D(e)&&B(this.m_pLocales[e.toLowerCase()])}},{key:"load",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=!1;return fe(q(e)?e:[e],(function(e){le(e,qn,!1)&&(t.isLoaded(e.locale)||(t.m_pLocales[e.locale.toLowerCase()]=he(e)),i=!0)})),i&&n&&!q(e)&&this.set(e.locale),i}},{key:"get",value:function(e){return(D(e)?this.m_pLocales[e.toLowerCase()]:void 0)||this.locale}},{key:"set",value:function(e){return B(this.m_pLocale=this.isLoaded(e)&&this.m_pLocales[e.toLowerCase()].locale===e?this.m_pLocales[e.toLowerCase()]:void 0)}},{key:"findDomain",value:function(e){var t=this;if(!e||Kn[e])return e||"";e=d.replace(e.toLowerCase(),"_","-"),this.m_pDomains||(this.m_pDomains={},fe(Kn,(function(e,n){t.m_pDomains[n.toLowerCase()]=n}),{keys:!0}));for(var n=this.m_pDomains[e];!n&&-1!==e.lastIndexOf("-");)e=e.substr(0,e.lastIndexOf("-")),n=this.m_pDomains[e];return n||""}},{key:"getDomain",value:function(e){e=this.findDomain(e)||this.locale.domain;var t=Kn[e];return{locale:e,language:t[0],native:t[1]}}},{key:"number",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3?arguments[3]:void 0,r=this.get(i);return p.format(e,t,n?r.formats.numbers.grouping:"",r.formats.numbers.decimals,r.formats.numbers.minus)}},{key:"dateTime",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:F.now,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0,r=this.get(i);return F.format(e,t,n,{monthsFormattedAbbreviated:r.translations.months.formatted.abbreviated,monthsFormattedNarrow:r.translations.months.formatted.narrow,monthsFormattedWide:r.translations.months.formatted.wide,monthsNominativeAbbreviated:r.translations.months.nominative.abbreviated,monthsNominativeNarrow:r.translations.months.nominative.narrow,monthsNominativeWide:r.translations.months.nominative.wide,weekdaysFormattedAbbreviated:r.translations.days.formatted.abbreviated,weekdaysFormattedNarrow:r.translations.days.formatted.narrow,weekdaysFormattedShort:r.translations.days.formatted.short,weekdaysFormattedWide:r.translations.days.formatted.wide,weekdaysNominativeAbbreviated:r.translations.days.nominative.abbreviated,weekdaysNominativeNarrow:r.translations.days.nominative.narrow,weekdaysNominativeShort:r.translations.days.nominative.short,weekdaysNominativeWide:r.translations.days.nominative.wide,AM:r.translations.time.AM,PM:r.translations.time.PM})}},{key:"dateFull",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F.now,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;return this.dateTime(this.get(n).formats.date.full,e,t,n)}},{key:"dateLong",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F.now,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;return this.dateTime(this.get(n).formats.date.long,e,t,n)}},{key:"dateMedium",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F.now,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;return this.dateTime(this.get(n).formats.date.medium,e,t,n)}},{key:"dateShort",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F.now,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;return this.dateTime(this.get(n).formats.date.short,e,t,n)}},{key:"timeFull",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F.now,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;return this.dateTime(this.get(n).formats.time.full,e,t,n)}},{key:"timeLong",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F.now,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;return this.dateTime(this.get(n).formats.time.long,e,t,n)}},{key:"timeMedium",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F.now,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;return this.dateTime(this.get(n).formats.time.medium,e,t,n)}},{key:"timeShort",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F.now,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;return this.dateTime(this.get(n).formats.time.short,e,t,n)}},{key:"dateTimeFull",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F.now,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,i=this.get(n);return this.dateTime(d.replace(d.replace(i.formats.dateTime.full,"{0}",i.formats.time.full),"{1}",i.formats.date.full),e,t,n)}},{key:"dateTimeLong",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F.now,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,i=this.get(n);return this.dateTime(d.replace(d.replace(i.formats.dateTime.long,"{0}",i.formats.time.long),"{1}",i.formats.date.long),e,t,n)}},{key:"dateTimeMedium",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F.now,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,i=this.get(n);return this.dateTime(d.replace(d.replace(i.formats.dateTime.medium,"{0}",i.formats.time.medium),"{1}",i.formats.date.medium),e,t,n)}},{key:"dateTimeShort",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F.now,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,i=this.get(n);return this.dateTime(d.replace(d.replace(i.formats.dateTime.short,"{0}",i.formats.time.short),"{1}",i.formats.date.short),e,t,n)}}]),e}();jn.m_pLocales={};var Wn={"Asian (Chinese, Japanese, Korean)":{rules:["Everything"],expression:"nplurals=1; plural=0;",locales:["zh","ja","ko"],fn:function(e){return 0}},Persian:{rules:["Everything"],expression:"nplurals=1; plural=0;",locales:["fa"],fn:function(e){return 0}},"Turkic/Altaic (Turkish)":{rules:["Everything"],expression:"nplurals=1; plural=0;",locales:["tr"],fn:function(e){return 0}},Thai:{rules:["Everything"],expression:"nplurals=1; plural=0;",locales:["th"],fn:function(e){return 0}},Lao:{rules:["Everything"],expression:"nplurals=1; plural=0;",locales:["lo"],fn:function(e){return 0}},"Germanic (Danish, Dutch, English, Faroese, Frisian, German, Norwegian, Swedish)":{rules:["Is 1","Everything else"],expression:"nplurals=2; plural=(n != 1);",locales:["da","nl","en","fo","fy","de","nn","sv"],fn:function(e){return 1!==e?1:0}},"Finno-Ugric (Estonian, Finnish, Hungarian)":{rules:["Is 1","Everything else"],expression:"nplurals=2; plural=(n != 1);",locales:["et","fi","hu"],fn:function(e){return 1!==e?1:0}},"Language isolate (Basque)":{rules:["Is 1","Everything else"],expression:"nplurals=2; plural=(n != 1);",locales:["eu"],fn:function(e){return 1!==e?1:0}},"Latin/Greek (Greek)":{rules:["Is 1","Everything else"],expression:"nplurals=2; plural=(n != 1);",locales:["el"],fn:function(e){return 1!==e?1:0}},"Semitic (Hebrew)":{rules:["Is 1","Everything else"],expression:"nplurals=2; plural=(n != 1);",locales:["he"],fn:function(e){return 1!==e?1:0}},"Romanic (Italian, Portuguese, Spanish, Catalan)":{rules:["Is 1","Everything else"],expression:"nplurals=2; plural=(n != 1);",locales:["it","pt","es","ca"],fn:function(e){return 1!==e?1:0}},Vietnamese:{rules:["Is 1","Everything else"],expression:"nplurals=2; plural=(n != 1);",locales:["vi"],fn:function(e){return 1!==e?1:0}},"Romanic (French, Brazilian Portuguese)":{rules:["Is 0 or 1","Everything else"],expression:"nplurals=2; plural=(n > 1);",locales:["fr","pt_BR"],fn:function(e){return e>1?1:0}},Lingala:{rules:["Is 0 or 1","Everything else"],expression:"nplurals=2; plural=(n > 1);",locales:["ln"],fn:function(e){return e>1?1:0}},"Baltic (Latvian, Latgalian)":{rules:["Ends in 0","Ends in 1, excluding 11","Everything else"],expression:"nplurals=3; plural=(n%10==0 || (n%100>=11 && n%100<=19) ? 0 : n%10==1 && n%100!=11 ? 1 : 2);",locales:["lv"],fn:function(e){return e%10==0||e%100>=11&&e%100<=19?0:e%10==1&&e%100!=11?1:2}},"Celtic (Scottish Gaelic)":{rules:["Is 1 or 11","Is 2 or 12","Is 3-10 or 13-19","Everything else"],expression:"nplurals=4; plural=(n==1 || n==11 ? 0 : n==2 || n==12 ? 1 : (n>=3 && n<=10) || (n>=13 && n<=19) ? 2 : 3);",locales:["gd"],fn:function(e){return 1===e||11===e?0:2===e||12===e?1:e>=3&&e<=10||e>=13&&e<=19?2:3}},"Romanic (Romanian)":{rules:["Is 1","Is 0 or ends in 01-19, excluding 1","Everything else"],expression:"nplurals=3; plural=(n==1 ? 0 : n==0 || (n!=1 && n%100>=1 && n%100<=19) ? 1 : 2);",locales:["ro"],fn:function(e){return 1===e?0:0===e||1!==e&&e%100>=1&&e%100<=19?1:2}},"Baltic (Lithuanian)":{rules:["Ends in 1, excluding 11","Ends in 0 or ends in 11-19","Everything else"],expression:"nplurals=3; plural=(n%10==1 && (n%100<11 || n%100>19) ? 0 : n%10>=2 && n%10<=9 && (n%100<11 || n%100>19) ? 1 : 2);",locales:["lt"],fn:function(e){return e%10==1&&(e%100<11||e%100>19)?0:e%10>=2&&e%10<=9&&(e%100<11||e%100>19)?1:2}},Belarusian:{rules:["Ends in 1, excluding 11","Ends in 2-4, excluding 12-14","Everything else"],expression:"nplurals=3; plural=(n%10==1 && n%100!=11 ? 0 : n%10>=2 && n%10<=4 && (n%100<12 || n%100>14) ? 1 : 2);",locales:["be"],fn:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<12||e%100>14)?1:2}},Russian:{rules:["Ends in 1, excluding 11","Ends in 2-4, excluding 12-14","Everything else"],expression:"nplurals=3; plural=(n%10==1 && n%100!=11 ? 0 : n%10>=2 && n%10<=4 && (n%100<12 || n%100>14) ? 1 : 2);",locales:["ru"],fn:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<12||e%100>14)?1:2}},Ukrainian:{rules:["Ends in 1, excluding 11","Ends in 2-4, excluding 12-14","Everything else"],expression:"nplurals=3; plural=(n%10==1 && n%100!=11 ? 0 : n%10>=2 && n%10<=4 && (n%100<12 || n%100>14) ? 1 : 2);",locales:["uk"],fn:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<12||e%100>14)?1:2}},"Slavic (Slovak, Czech)":{rules:["Is 1","Is 2-4","Everything else"],expression:"nplurals=3; plural=(n==1 ? 0 : n>=2 && n<=4 ? 1 : 2);",locales:["sk","cs"],fn:function(e){return 1===e?0:e>=2&&e<=4?1:2}},"Slavic (Polish)":{rules:["Is 1","Ends in 2-4, excluding 12-14","Everything else"],expression:"nplurals=3; plural=(n==1 ? 0 : n%10>=2 && n%10<=4 && (n%100<12 || n%100>14) ? 1 : 2);",locales:["pl"],fn:function(e){return 1===e?0:e%10>=2&&e%10<=4&&(e%100<12||e%100>14)?1:2}},"Slavic (Slovenian, Sorbian)":{rules:["Ends in 01","Ends in 02","Ends in 03-04","Everything else"],expression:"nplurals=4; plural=(n%100==1 ? 0 : n%100==2 ? 1 : n%100>=3 && n%100<=4 ? 2 : 3);",locales:["sl","dsb","hsb"],fn:function(e){return e%100==1?0:e%100==2?1:e%100>=3&&e%100<=4?2:3}},"Celtic (Irish Gaelic)":{rules:["Is 1","Is 2","Is 3-6","Is 7-10","Everything else"],expression:"nplurals=5; plural=(n==1 ? 0 : n==2 ? 1 : n>=3 && n<=6 ? 2 : n>=7 && n<=10 ? 3 : 4);",locales:["ga"],fn:function(e){return 1===e?0:2===e?1:e>=3&&e<=6?2:e>=7&&e<=10?3:4}},"Semitic (Arabic)":{rules:["Is 0","Is 1","Is 2","Ends in 03-10","Everything else but is 0 and ends in 00-02, excluding 0-2","Ends in 00-02, excluding 0-2"],expression:"nplurals=6; plural=(n==0 ? 0 : n==1 ? 1 : n==2 ? 2 : n%100>=3 && n%100<=10 ? 3 : n%100>=11 && n%100<=99 ? 4 : 5);",locales:["ar"],fn:function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11&&e%100<=99?4:5}},"Semitic (Maltese)":{rules:["Is 1","Is 0 or ends in 01-10, excluding 1","Ends in 11-19","Everything else"],expression:"nplurals=4; plural=(n==1 ? 0 : n==0 || (n%100>=2 && n%100<=10) ? 1 : n%100>=11 && n%100<=19 ? 2 : 3);",locales:["mt"],fn:function(e){return 1===e?0:0===e||e%100>=2&&e%100<=10?1:e%100>=11&&e%100<=19?2:3}},Icelandic:{rules:["Ends in 1, excluding 11","Everything else"],expression:"nplurals=2; plural=(n%10==1 && n%100!=11 ? 0 : 1);",locales:["is"],fn:function(e){return e%10==1&&e%100!=11?0:1}},Macedonian:{rules:["Ends in 1, excluding 11","Everything else"],expression:"nplurals=2; plural=(n%10==1 && n%100!=11 ? 0 : 1);",locales:["mk"],fn:function(e){return e%10==1&&e%100!=11?0:1}},"Celtic (Breton)":{rules:["Ends in 1, excluding 11, 71, 91","Ends in 2, excluding 12, 72, 92","Ends in 3, 4 or 9 excluding 13, 14, 19, 73, 74, 79, 93, 94, 99","Ends in 000000","Everything else"],expression:"nplurals=5; plural=(n%10==1 && n%100!=11 && n%100!=71 && n%100!=91 ? 0 : n%10==2 && n%100!=12 && n%100!=72 && n%100!=92 ? 1 : ((n%10>=3 && n%10<=4) || n%10==9) && (n%100<10 || n%100>19) && (n%100<70 || n%100>79) && (n%100<90 || n%100>99) ? 2 : n!=0 && n%1000000==0 ? 3 : 4);",locales:["br"],fn:function(e){return e%10==1&&e%100!=11&&e%100!=71&&e%100!=91?0:e%10==2&&e%100!=12&&e%100!=72&&e%100!=92?1:(e%10>=3&&e%10<=4||e%10==9)&&(e%100<10||e%100>19)&&(e%100<70||e%100>79)&&(e%100<90||e%100>99)?2:0!==e&&e%1e6==0?3:4}},"Ecuador indigenous languages (Shuar)":{rules:["Is 0","Everything else"],expression:"nplurals=2; plural=(n != 0);",locales:[],fn:function(e){return 0!==e?1:0}},Welsh:{rules:["Is 0","Is 1","Is 2","Is 3","Is 6","Everything else"],expression:"nplurals=6; plural=(n==0 ? 0 : n==1 ? 1 : n==2 ? 2 : n==3 ? 3 : n==6 ? 4 : 5);",locales:["cy"],fn:function(e){return 0===e?0:1===e?1:2===e?2:3===e?3:6===e?4:5}},"Slavic (Bosnian, Croatian, Serbian)":{rules:["Ends in 1, excluding 11","Ends in 2-4, excluding 12-14","Everything else"],expression:"nplurals=3; plural=(n%10==1 && n%100!=11 ? 0 : n%10>=2 && n%10<=4 && (n%100<12 || n%100>14) ? 1 : 2);",locales:["bs","hr","sr"],fn:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<12||e%100>14)?1:2}}},Jn=function(){function e(){(0,h.Z)(this,e)}return(0,l.Z)(e,null,[{key:"rules",get:function(){var e=[];return fe(Wn,(function(t,n){e.push({family:n,rules:t.rules,expression:t.expression,locales:t.locales,fn:t.fn})}),{keys:!0}),e.sort((function(e,t){return e.family.localeCompare(t.family,jn.domain,{sensitivity:"base"})}))}},{key:"locales",get:function(){var e={};return fe(Wn,(function(t,n){fe(t.locales,(function(i){e[i]={family:n,rules:t.rules,expression:t.expression,locales:t.locales,fn:t.fn}}))}),{keys:!0}),e}},{key:"getForLocale",value:function(e){return this.locales[e||jn.domain]}},{key:"getForFamily",value:function(e){return Ce(this.rules,(function(t){return t.family===e}))}},{key:"getForExpression",value:function(e){return Ce(this.rules,(function(t){return t.expression===e}))||Ce(this.rules,(function(t){return d.removeWhitespaces(t.expression)===d.removeWhitespaces(e)}))}}]),e}(),Yn=function(){function e(t){(0,h.Z)(this,e),this.m_nPlurals=1;var n=(this.m_pTranslation=he(t))[""];if(B(n)){var i=re(n["plural-forms"]);if(D(i)){var r=Jn.getForExpression(i);if(r&&r.rules.length>0)this.m_nPlurals=r.rules.length,this.m_fnPlural=r.fn;else{var s,a=/nplurals\=(\d+);/;if(i=i.replace(/^\s\s*/,"").replace(/\s\s*$/,""),/;\s*$/.test(i)||(i=i.concat(";")),(s=se(Y(i.match(a),1)))>1&&(D(i=re(Y((i=i.replace(a,"")).match(/plural\=(.*);/),1)))&&/^[0-9n\u002b\u002d\u002a\u002f\u0025\u003e\u003c\u003d\u0021\u007e\u007c\u0026\u005e\u0028\u0029\u003a\u003b\u003f\s]+$/.test(i))){var o=new Function("n","return "+i);this.m_nPlurals=s,this.m_fnPlural=function(e){return se(o(e))}}}}}}return(0,l.Z)(e,[{key:"plurals",get:function(){return this.m_nPlurals}},{key:"enrich",value:function(e,t){var n=this;fe(e,(function(e,i){!i||n.m_pTranslation[i]&&!t||(n.m_pTranslation[i]=e)}),{keys:!0})}},{key:"plural",value:function(e){return p.range(this.m_fnPlural?this.m_fnPlural(e):1!==e?1:0,0,this.plurals-1)}},{key:"translation",value:function(e){return this.m_pTranslation[e]}}]),e}(),Xn=function(){function e(){(0,h.Z)(this,e),this.m_pTranslations={},this.m_pCache={},this.m_sDefault=jn.domain,this.m_sCurrent=""}return(0,l.Z)(e,[{key:"message",value:function(e,t,n,i,r){if(e){var s=e.translation((t?t+"":"")+n);if(s){var a=1+(i?e.plural(r):0);if(a<s.length){var o=s[a];if("string"==typeof o)return o;if(Array.isArray(o)&&1===o.length){var u=o[0];if("string"==typeof u)return u}return""}}}return""}},{key:"find",value:function(t,n,i,r,s){if(!t)return"";var a=t+""+n+i+""+(r?"P":"S")+s,o=this.m_pCache[a]||(this.m_pCache[a]=this.message(this.m_pTranslations[t],n,i,r,s));if(o)return o;var u=e.m_pAlternatives[t];if(u)return this.find(u.alternative,n,i,r,s);var c=t.lastIndexOf("-"),h=-1!==c?t.substr(0,c):void 0;return e.m_pAlternatives[t]={alternative:h},this.find(h,n,i,r,s)}},{key:"invalidate",value:function(e){var t=this;if(e){var n=e+"";fe(this.m_pCache,(function(e,i){0===i.indexOf(n)&&at(t.m_pCache,i)}),{keys:!0})}}},{key:"domains",get:function(){var e=[];return fe(this.m_pTranslations,(function(t,n){e.push(n)}),{keys:!0}),e}},{key:"default",get:function(){return this.m_sDefault},set:function(e){(e=jn.findDomain(e))&&(this.m_sDefault=e)}},{key:"current",get:function(){return this.m_sCurrent||this.default},set:function(e){this.m_sCurrent=jn.findDomain(e)}},{key:"load",value:function(e,t,n){var i=this,r=!1,s="";return fe(q(e)?e:[e],(function(e){if(B(e)){var t=e[""];if(B(t)){$e(t,"language",jn.findDomain(t.language)||i.current),i.invalidate(t.language);var a="replace"!==n?i.m_pTranslations[t.language]:void 0;a?a.enrich(e,"overwrite"===n):i.m_pTranslations[t.language]=new Yn(e),s||(s=t.language),r=!0}}})),!1===t||!s||!0!==t&&this.m_sCurrent||(this.current=s),r}},{key:"unload",value:function(e){var t=this;e?(e=jn.findDomain(e),this.invalidate(e),at(this.m_pTranslations,e)):fe(this.m_pTranslations,(function(e,n){t.invalidate(n),at(t.m_pTranslations,n)}),{keys:!0})}},{key:"isLoaded",value:function(e){return this.default===e||this.m_pTranslations[jn.findDomain(e)]instanceof Yn}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.unload(),this.current=e}},{key:"translate",value:function(e,t,n,i,r,s){for(var a=arguments.length,o=new Array(a>6?a-6:0),u=6;u<a;u++)o[u-6]=arguments[u];var c=this.find(e,t,n,i,s)||e!==this.default&&this.find(this.default,t,n,i,s)||(i&&1!==s?r:n);return o.length>0?c.replace(/%(\d+)/g,(function(e,t){return re(Y(o,se(t)-1,e))})):c}}],[{key:"assert",value:function(){return this.m_pTranslations||(this.m_pTranslations=new e)}},{key:"domains",get:function(){return this.assert().domains}},{key:"default",get:function(){return this.assert().default},set:function(e){this.assert().default=e}},{key:"current",get:function(){return this.assert().current},set:function(e){this.assert().current=e}},{key:"load",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"enrich";return this.assert().load(e,t,n)}},{key:"unload",value:function(e){this.assert().unload(e)}},{key:"isLoaded",value:function(e){return this.assert().isLoaded(e)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.assert().reset(e)}},{key:"translate",value:function(e,t,n){for(var i,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length,u=new Array(o>6?o-6:0),c=6;c<o;c++)u[c-6]=arguments[c];return(i=this.assert()).translate.apply(i,[e,t,n,r,s,a].concat(u))}}]),e}();Xn.m_pAlternatives={};var Qn=function(){function e(t,n){(0,h.Z)(this,e),this.m_pLocale=n?jn:new jn,this.m_pTranslations=t?Xn:new Xn}return(0,l.Z)(e,[{key:"locale",get:function(){return this.m_pLocale}},{key:"default",get:function(){return this.m_pTranslations.default},set:function(e){this.m_pTranslations.default=e}},{key:"current",get:function(){return this.m_pTranslations.current},set:function(e){this.m_pTranslations.current=e}},{key:"domains",get:function(){return this.m_pTranslations.domains}},{key:"load",get:function(){var e=this;return function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"enrich";return e.m_pTranslations.load(t,n,i)}}},{key:"unload",get:function(){var e=this;return function(t){return e.m_pTranslations.unload(t)}}},{key:"isLoaded",get:function(){var e=this;return function(t){return e.m_pTranslations.isLoaded(t)}}},{key:"reset",get:function(){var e=this;return function(t){return e.m_pTranslations.reset(t)}}},{key:"gettext",get:function(){var e=this;return function(t){for(var n,i=arguments.length,r=new Array(i>1?i-1:0),s=1;s<i;s++)r[s-1]=arguments[s];return(n=e.m_pTranslations).translate.apply(n,[e.m_pTranslations.current,"",t,!1,"",0].concat(r))}}},{key:"dgettext",get:function(){var e=this;return function(t,n){for(var i,r=arguments.length,s=new Array(r>2?r-2:0),a=2;a<r;a++)s[a-2]=arguments[a];return(i=e.m_pTranslations).translate.apply(i,[t,"",n,!1,"",0].concat(s))}}},{key:"ngettext",get:function(){var e=this;return function(t,n,i){for(var r,s=arguments.length,a=new Array(s>3?s-3:0),o=3;o<s;o++)a[o-3]=arguments[o];return(r=e.m_pTranslations).translate.apply(r,[e.m_pTranslations.current,"",t,!0,n,i,e.m_pLocale.number(i)].concat(a))}}},{key:"dngettext",get:function(){var e=this;return function(t,n,i,r){for(var s,a=arguments.length,o=new Array(a>4?a-4:0),u=4;u<a;u++)o[u-4]=arguments[u];return(s=e.m_pTranslations).translate.apply(s,[t,"",n,!0,i,r,jn.number(r,0,!0,t)].concat(o))}}},{key:"pgettext",get:function(){var e=this;return function(t,n){for(var i,r=arguments.length,s=new Array(r>2?r-2:0),a=2;a<r;a++)s[a-2]=arguments[a];return(i=e.m_pTranslations).translate.apply(i,[e.m_pTranslations.current,t,n,!1,"",0].concat(s))}}},{key:"dpgettext",get:function(){var e=this;return function(t,n,i){for(var r,s=arguments.length,a=new Array(s>3?s-3:0),o=3;o<s;o++)a[o-3]=arguments[o];return(r=e.m_pTranslations).translate.apply(r,[t,n,i,!1,"",0].concat(a))}}},{key:"npgettext",get:function(){var e=this;return function(t,n,i,r){for(var s,a=arguments.length,o=new Array(a>4?a-4:0),u=4;u<a;u++)o[u-4]=arguments[u];return(s=e.m_pTranslations).translate.apply(s,[e.m_pTranslations.current,t,n,!0,i,r,e.m_pLocale.number(r)].concat(o))}}},{key:"dnpgettext",get:function(){var e=this;return function(t,n,i,r,s){for(var a,o=arguments.length,u=new Array(o>5?o-5:0),c=5;c<o;c++)u[c-5]=arguments[c];return(a=e.m_pTranslations).translate.apply(a,[t,n,i,!0,r,s,jn.number(s,0,!0,t)].concat(u))}}},{key:"_",get:function(){var e=this;return function(t){for(var n,i=arguments.length,r=new Array(i>1?i-1:0),s=1;s<i;s++)r[s-1]=arguments[s];return(n=e.m_pTranslations).translate.apply(n,[e.m_pTranslations.current,"",t,!1,"",0].concat(r))}}},{key:"_n",get:function(){var e=this;return function(t,n,i){for(var r,s=arguments.length,a=new Array(s>3?s-3:0),o=3;o<s;o++)a[o-3]=arguments[o];return(r=e.m_pTranslations).translate.apply(r,[e.m_pTranslations.current,"",t,!0,n,i,e.m_pLocale.number(i)].concat(a))}}}],[{key:"global",get:function(){return this.m_pNamespaces[""]||(this.m_pNamespaces[""]=new e(!0,!0))}},{key:"create",value:function(t){return this.m_pNamespaces[t]||(this.m_pNamespaces[t]=new e(!1,!1))}},{key:"translation",value:function(t){return this.m_pNamespaces[t]||(this.m_pNamespaces[t]=new e(!1,!0))}}]),e}();Qn.m_pNamespaces={};var $n=Object.freeze({__proto__:null,Translation:Yn,CONTEXT_SEPARATOR:"",Domain:Xn,Translations:Xn,LOCALE_DEFAULTS:qn,Locales:jn,_:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return Xn.translate.apply(Xn,[Xn.current,"",e,!1,"",0].concat(n))},_n:function(e,t,n){for(var i=arguments.length,r=new Array(i>3?i-3:0),s=3;s<i;s++)r[s-3]=arguments[s];return Xn.translate.apply(Xn,[Xn.current,"",e,!0,t,n,jn.number(n)].concat(r))},dgettext:function(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];return Xn.translate.apply(Xn,[e,"",t,!1,"",0].concat(i))},dngettext:function(e,t,n,i){for(var r=arguments.length,s=new Array(r>4?r-4:0),a=4;a<r;a++)s[a-4]=arguments[a];return Xn.translate.apply(Xn,[e,"",t,!0,n,i,jn.number(i,0,!0,e)].concat(s))},dnpgettext:function(e,t,n,i,r){for(var s=arguments.length,a=new Array(s>5?s-5:0),o=5;o<s;o++)a[o-5]=arguments[o];return Xn.translate.apply(Xn,[e,t,n,!0,i,r,jn.number(r,0,!0,e)].concat(a))},dpgettext:function(e,t,n){for(var i=arguments.length,r=new Array(i>3?i-3:0),s=3;s<i;s++)r[s-3]=arguments[s];return Xn.translate.apply(Xn,[e,t,n,!1,"",0].concat(r))},gettext:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return Xn.translate.apply(Xn,[Xn.current,"",e,!1,"",0].concat(n))},ngettext:function(e,t,n){for(var i=arguments.length,r=new Array(i>3?i-3:0),s=3;s<i;s++)r[s-3]=arguments[s];return Xn.translate.apply(Xn,[Xn.current,"",e,!0,t,n,jn.number(n)].concat(r))},npgettext:function(e,t,n,i){for(var r=arguments.length,s=new Array(r>4?r-4:0),a=4;a<r;a++)s[a-4]=arguments[a];return Xn.translate.apply(Xn,[Xn.current,e,t,!0,n,i,jn.number(i)].concat(s))},pgettext:function(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];return Xn.translate.apply(Xn,[Xn.current,e,t,!1,"",0].concat(i))},Plurals:Jn,Namespace:Qn}),ei=function(e){(0,a.Z)(n,e);var t=m(n);function n(e,i,s,a,o,u,c){var l,f=arguments.length>7&&void 0!==arguments[7]&&arguments[7],m=!(arguments.length>8&&void 0!==arguments[8])||arguments[8],p=arguments.length>9&&void 0!==arguments[9]?arguments[9]:"disabled",d=arguments.length>10?arguments[10]:void 0,g=arguments.length>11&&void 0!==arguments[11]&&arguments[11];return(0,h.Z)(this,n),(l=t.call(this)).m_pDependencies={},l.m_pChanges={},l.m_pChangesBuffer={},l.m_bReloading=!1,l.m_pStencils={exportables:void 0,actionables:void 0},l.m_pChain={states:{},transducers:{},branches:{},conditions:{},slots:{}},l.m_pState=e,l.m_pStates=new pn((0,r.Z)(l)),l.m_pTransducer=i,l.m_pBranch=s,l.m_pCondition=a,l.m_bAutoPushForward=f,l.m_sPreviewMode=p,l.m_pL10n=d||Qn.create(""),l.m_bPaused=!1,l.m_bStopped=!0,l.m_fnFingerprint=u,l.m_fnStencil=c,l.m_bFingerprint=m,l.m_sFingerprint=m?Jt("fingerprint"):void 0,l.m_pLog=[],l.m_bVerbose=g,l.m_fnLogger=function(e){return console.log(e)},l.hook("OnItemPush","synchronous",(function(){l.m_bPaused=!1,l.m_bStopped=!1,1===l.count&&(l.emitHook("OnStart",{ontology:(0,r.Z)(l)}),l.isVerbose&&l.logMessage("Start (".concat(l.fingerprint,")"))),l.invokeNextInstance()})),l.hook("OnItemPop","synchronous",(function(e){l.invokeNextInstance(),0===l.count&&(l.m_bPaused=e.item.isPaused,l.m_bStopped=e.item.isStopped,l.m_bPaused?(l.emitHook("OnPause",{ontology:(0,r.Z)(l)}),l.isVerbose&&l.logMessage("Pause (".concat(l.fingerprint,")"))):l.m_bStopped?(l.emitHook("OnStop",{ontology:(0,r.Z)(l)}),l.isVerbose&&l.logMessage("Stop (".concat(l.fingerprint,")"))):(l.emitHook("OnFinish",{ontology:(0,r.Z)(l)}),l.isVerbose&&l.logMessage("Finish (".concat(l.fingerprint,")"))),l.emitHook("OnEnd",{ontology:(0,r.Z)(l),type:l.isStopped?"stopped":l.isPaused?"paused":"finished"}),l.isVerbose&&l.logMessage("End (".concat(l.fingerprint,")")))})),o&&l.load(o),l}return(0,l.Z)(n,[{key:"chain",value:function(e,t){var n="";if(this.m_sFingerprint&&(n=e.id+(this.m_fnFingerprint&&this.m_fnFingerprint(e)||"")),e instanceof fn)Qe(this.m_pChain.states,e.id,e);else if(e instanceof On)Qe(this.m_pChain.transducers,e.id,e);else if(e instanceof un)Qe(this.m_pChain.branches,e.id,e),this.m_sFingerprint&&(n+=e.culling);else if(e instanceof sn)Qe(this.m_pChain.conditions,e.id,e),this.m_sFingerprint&&(n+=e.context);else if(Qe(this.m_pChain.slots,e.id,e),this.m_sFingerprint&&e.required&&(n+="required"),t){var i=e.pipe(t);if(i){var r=e.legacyPipe(t),s=this.m_pChain.slots[i];q(s)||(s=Qe(this.m_pChain.slots,i,[])),s.push(e),r&&Qe(this.m_pChain.slots,r,s)}}n&&(this.m_sFingerprint=Jt(this.m_sFingerprint+n))}},{key:"constructors",get:function(){return{state:this.m_pState,transducer:this.m_pTransducer,branch:this.m_pBranch,condition:this.m_pCondition}}},{key:"ontology",get:function(){return this.m_pOntology}},{key:"fingerprint",get:function(){return this.m_sFingerprint||(this.m_sFingerprint=new ti(this.m_pState,this.m_pTransducer,this.m_pBranch,this.m_pCondition,this.m_pOntology,this.m_fnFingerprint,this.m_fnStencil).fingerprint)}},{key:"l10n",get:function(){return this.m_pL10n}},{key:"states",get:function(){return this.m_pStates}},{key:"main",get:function(){return this.m_pMain}},{key:"isLoaded",get:function(){return this.states.count>0&&this.main instanceof mn}},{key:"isRunning",get:function(){return this.count>0}},{key:"isStopped",get:function(){return this.m_bStopped}},{key:"isFinishing",get:function(){return this.count>0&&!this.each((function(e){return!e.isFinishing}))}},{key:"isFinished",get:function(){return!this.isRunning&&!this.isPaused&&!this.isStopped}},{key:"isPausing",get:function(){return!!this.m_fnPause}},{key:"isPaused",get:function(){return this.m_bPaused}},{key:"isPreview",get:function(){return"disabled"!==this.m_sPreviewMode}},{key:"isVerbose",get:function(){return this.m_bVerbose},set:function(e){this.m_bVerbose=e}},{key:"autoPushForward",get:function(){return this.m_bAutoPushForward},set:function(e){this.m_bAutoPushForward!==e&&(this.m_bAutoPushForward=e,this.each((function(e){return e.restart()})))}},{key:"metrics",get:function(){return this.m_pMetrics||{states:0,transducers:0,branches:0,conditions:0,slots:0}}},{key:"log",get:function(){return this.m_pLog}},{key:"logger",get:function(){return this.m_fnLogger},set:function(e){this.m_fnLogger=e}},{key:"logMessage",value:function(e){this.m_pLog.push("".concat(F.log,": ").concat(e)),this.isVerbose&&this.m_fnLogger("".concat(F.log,": ").concat(e))}},{key:"parse",value:function(e,t,n){var i=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s={states:0,transducers:0,branches:0,conditions:0,slots:0},a={conditions:[],transducers:[]},o=An.None;if(e&&D(e.id)){var u,c=t.branches.create(e,t),h=re(e.jump);this.chain(c),this.m_pMain&&e.id===this.m_pMain.id||s.branches++,fe(e[this.m_pCondition.property],(function(t){if(t&&D(t.id)){var n=c.conditions.create(t);n&&(i.chain(n),"each"===e.culling&&a.conditions.push(n),s.conditions++)}else o|=An.OntologyInvalidCondition,i.logMessage("Invalid condition data in ontology: ".concat(JSON.stringify(t)))})),t.isMain&&this.logMessage("Constructing main branch"),fe(e[this.m_pState.property],(function(e){if(e&&D(e.id)){var h=i.states.create(e,c,t,++r);i.chain(h),s.states++,u&&(u.setSuccessor("live",h),u.setSuccessor("preview",h)),u=h,fe(e[i.m_pTransducer.property],(function(e){if(e&&D(e.id)){var t=h.transducers.create(e);i.chain(t),a.transducers.push(t),s.transducers++,t.slots.deserialize(e.slots||[]).each((function(e){i.chain(e,t),s.slots++}))}else o|=An.OntologyInvalidTransducer,i.logMessage("Invalid transducer data in ontology: ".concat(JSON.stringify(e)))})),fe(e[i.m_pBranch.property],(function(e){var t=i.parse(e,h,n,r);r=t.enumerator,o|=t.errors,s.states+=t.metrics.states,s.transducers+=t.metrics.transducers,s.branches+=t.metrics.branches,s.conditions+=t.metrics.conditions,s.slots+=t.metrics.slots,a.transducers.push(t.transducers)}))}else o|=An.OntologyInvalidState,i.logMessage("Invalid state data in ontology: ".concat(JSON.stringify(e)))})),D(h)&&(this.states.each((function(e){return e.id===h}))?this.logMessage("Invalid branch jump detected in ontology: ".concat(JSON.stringify(e))):(c.setSuccessor("live",void 0),"abort"!==h&&function(e,t,n){(e[t]||Qe(e,t,[])).push(n)}(n,h,c)))}else o|=An.OntologyInvalidBranch,this.logMessage("Invalid branch data in ontology: ".concat(JSON.stringify(e)));return{errors:o,metrics:s,transducers:a,enumerator:r}}},{key:"transducers",value:function(e){if(this.m_pTransducers){!function t(n){for(var i=arguments.length,r=new Array(i>1?i-1:0),s=1;s<i;s++)r[s-1]=arguments[s];fe(n.conditions.length>1?n.conditions:[void 0],(function(i){var s=r.concat.apply(r,(0,f.Z)(i?[i]:[]));fe(n.transducers,(function(n){n instanceof On?e(n,s,0===s.length?"*":1===s.length?s[0].context:Jt(d.iterateToString(s,"",(function(e){return e.context})))):t.apply(void 0,[n].concat((0,f.Z)(s)))}))}))}(this.m_pTransducers)}}},{key:"getFromChain",value:function(e,t){if(t)switch(e){case"state":return this.m_pChain.states[t];case"transducer":return this.m_pChain.transducers[t];case"branch":return this.m_pChain.branches[t];case"condition":return this.m_pChain.conditions[t];case"slot":return this.m_pChain.slots[t]}}},{key:"invokeNextInstance",value:function(){if(!this.isStopped&&!this.isPaused&&this.count>0){var e=this.each((function(e){return e.isRunning}));this.each((function(t){t.isRunning||e&&!t.allowConcurrency||(e=!0,t.start())}))}}},{key:"onInstanceCreate",value:function(e){this.emitHook("OnInstanceCreate",{ontology:this,instance:e})}},{key:"onInstanceStart",value:function(e){this.emitHook("OnInstanceStart",{ontology:this,instance:e})}},{key:"onInstanceData",value:function(e,t){this.emitHook("OnInstanceData",{ontology:this,instance:e,transducer:t.transducer,slot:t.slot,data:t.data,id:t.id,context:t.key,get value(){return t.value}})}},{key:"onInstanceProcessing",value:function(e,t){this.emitHook("OnInstanceProcessing",{ontology:this,instance:e,processing:t})}},{key:"onInstanceStepForward",value:function(e,t){return!1}},{key:"onInstanceUpdate",value:function(e){}},{key:"onInstanceEnd",value:function(e,t){this.emitHook("OnInstanceEnd",{ontology:this,instance:e,type:t})}},{key:"onInstanceFinishing",value:function(e,t){return!0}},{key:"onInstanceFinish",value:function(e){this.emitHook("OnInstanceFinish",{ontology:this,instance:e})}},{key:"onInstancePause",value:function(e){this.emitHook("OnInstancePause",{ontology:this,instance:e})}},{key:"onInstanceStop",value:function(e){this.emitHook("OnInstanceStop",{ontology:this,instance:e})}},{key:"spawn",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"single",n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;if(!this.isLoaded)throw new Error("Cannot start the state machine, because no ontology is loaded.");var r=this;return this.pushToMatrix(new Gn({get fingerprint(){return r.fingerprint},l10n:this.l10n,states:this.states,get preview(){return r.m_sPreviewMode},get autoPushForward(){return r.autoPushForward},chain:{state:function(t){return e.getFromChain("state",t)},transducer:function(t){return e.getFromChain("transducer",t)},branch:function(t){return e.getFromChain("branch",t)},condition:function(t){return e.getFromChain("condition",t)},slot:function(t){return e.getFromChain("slot",t)}},events:{onInstanceCreate:function(t){return e.onInstanceCreate(t)},onInstanceStart:function(t){return e.onInstanceStart(t)},onInstanceData:function(t,n){return e.onInstanceData(t,n)},onInstanceProcessing:function(t,n){return e.onInstanceProcessing(t,n)},onInstanceStepForward:function(t,n){return e.onInstanceStepForward(t,n)},onInstanceUpdate:function(t){return e.onInstanceUpdate(t)},onInstanceFinishing:function(t,n){return e.onInstanceFinishing(t,n)},onInstanceEnd:function(t,n){return e.onInstanceEnd(t,n)},onInstanceFinish:function(t){return e.onInstanceFinish(t)},onInstancePause:function(t){return e.onInstancePause(t)},onInstanceStop:function(t){return e.onInstanceStop(t)}},spawn:function(t,n){return e.pushToMatrix(t,{index:n,recalculate:!0,emit:"push"})},dependencies:function(t){return e.m_pDependencies[t.id]||{}},iterate:function(e){return r.transducers(e)},stencil:function(e){return r.stencil(e)},hasChanged:function(t,n){var i=r.m_pChanges[t];return!(!i||!i.changed||(n&&(0===J(e.m_pChangesBuffer)&&Le((function(){fe(e.m_pChangesBuffer,(function(t,n){var i=r.m_pChanges[n];i&&(i.changed=!1),delete e.m_pChangesBuffer[n]}),{keys:!0})})),e.m_pChangesBuffer[t]=!0),0))},get logger(){return r.isVerbose?function(e){return r.logger(e)}:void 0}},t,this.main,n,i))}},{key:"stencil",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"exportables";switch(t){case"exportables":return this.m_pStencils.exportables||(this.m_pStencils.exportables=Jt("stencil:exportables"),this.transducers((function(t,n,i){e.m_fnStencil&&!e.m_fnStencil(t)||t.slots.each((function(n){oe(n.exportable,!n.actionable)&&(e.m_pStencils.exportables=Jt(e.m_pStencils.exportables+t.id+n.type+n.reference+i))}))}))),this.m_pStencils.exportables;case"actionables":return this.m_pStencils.actionables||(this.m_pStencils.actionables=Jt("stencil:actionables"),this.transducers((function(t,n,i){e.m_fnStencil&&!e.m_fnStencil(t)||t.slots.each((function(n){n.actionable&&(e.m_pStencils.actionables=Jt(e.m_pStencils.actionables+t.id+n.type+n.reference+i))}))}))),this.m_pStencils.actionables}}},{key:"load",value:function(e){var t=this;if(Z(e))return this.load(JSON.parse(e));this.m_bReloading=!0,this.m_pLog=[],this.unload(),this.logMessage("Start loading ontology"),this.m_pOntology=e,this.m_pMain=this.states.main(),this.m_bReloading=!1,this.chain(this.m_pMain);var n={},r=this.parse(he(e,{id:this.m_pMain.id}),this.m_pMain,n),s=function(e,n,r){var s=t.m_pDependencies[e.id];s?s[n.id]=r:t.m_pDependencies[e.id]=(0,i.Z)({},n.id,r)};return function e(n){fe(n.transducers,(function(n){var i;if(n instanceof On){var r=JSON.stringify(n.props);(null===(i=t.m_pChanges[n.id])||void 0===i?void 0:i.props)!==r&&(t.m_pChanges[n.id]={props:r,changed:!0},t.m_pChangesBuffer[n.id]&&delete t.m_pChangesBuffer[n.id],fe(t.m_pChain.slots,(function(e,t){e&&r.indexOf(t)>0&&(e instanceof Sn?s(e,n,!1):fe(e,(function(e){return s(e,n,!1)})))}),{keys:!0}),n.slots.each((function(e){return s(e,n,!0)})))}else e(n)}))}(this.m_pTransducers=r.transducers),this.states.each((function(e){fe(n[e.id],(function(t){t.setSuccessor("live",e)})),at(n,e.id)})),fe(n,(function(e,n){var i="";fe(e,(function(e){i+="".concat(""===i?"":", "," ").concat(e instanceof un?"branch":"state"," '").concat(e.id,"'")})),r.errors|=An.OntologyInvalidJump,t.logMessage("Jump reference '".concat(n,"' not found (reference used in the following states/branches: ").concat(i,")"))}),{keys:!0}),r.errors===An.None&&this.m_pMain?(this.m_pMetrics=r.metrics,this.logMessage("Ontology loaded (".concat(r.metrics.states," state").concat(1===r.metrics.states?"":"s",", ").concat(r.metrics.transducers," transducer").concat(1===r.metrics.transducers?"":"s",", ").concat(r.metrics.branches," branch").concat(1===r.metrics.branches?"":"es",", ").concat(r.metrics.conditions," condition").concat(1===r.metrics.conditions?"":"s"," and ").concat(r.metrics.slots," slot").concat(1===r.metrics.slots?"":"s",")")),this.emitHook("OnLoad",{ontology:this})):(this.logMessage("Ontology not loaded, an error occurred."),this.unload()),r.errors}},{key:"unload",value:function(){var e=this;this.stop(),this.isLoaded&&(this.m_pStates.clear(),this.logMessage("Ontology unloaded"),this.emitHook("OnUnload",{ontology:this})),this.m_bReloading||(fe(this.m_pDependencies,(function(t,n){delete e.m_pDependencies[n]}),{keys:!0}),fe(this.m_pChanges,(function(t,n){delete e.m_pChanges[n]}),{keys:!0})),this.m_pChain={states:{},transducers:{},branches:{},conditions:{},slots:{}},this.m_pOntology=void 0,this.m_pMain=void 0,this.m_pMetrics=void 0,this.m_sFingerprint=this.m_bFingerprint?Jt("fingerprint"):void 0,this.m_pStencils.exportables=void 0,this.m_pStencils.actionables=void 0}},{key:"start",value:function(e,t){return this.spawn("single",e,t)}},{key:"stop",value:function(){return this.m_fnPause&&(this.m_fnPause("VFSM stopped."),this.m_fnPause=void 0),this.m_bStopped=!0,this.m_bReloading||fe(this.m_pChanges,(function(e){e.changed=!0})),!!this.isRunning&&(this.reverseEach((function(e){e.stop()})),!0)}},{key:"snapshot",value:function(e){var t=[];if(this.each((function(e){t.push(e.snapshot)})),t.length>0){var n={a:t};return R(e)&&Qe(n,"b",e),n}}},{key:"pause",value:function(e,t){var n=this;if(t){var i=new Promise((function(i,r){var s=n.snapshot(e);s&&n.isRunning&&!n.m_fnPause?(n.each((function(e){return e.data.freeze()})),n.m_fnPause=r,t(s,(function(t){if(n.m_fnPause=void 0,t||n.each((function(e){return e.data.unfreeze()})),t){var s=n.pause(e);s?i(s):r("VSFM cannot be paused.")}else r("VSFM pause canceled.")}))):r(n.m_fnPause?"VFSM already pausing.":"VSM not running.")}));return i.catch((function(e){n.logMessage(e||"Pause error!")})),i}if(this.isRunning){var r={a:[]};return this.m_bPaused=!0,this.reverseEach((function(e){var t=e.pause();t&&r.a.splice(0,0,t)})),R(e)&&Qe(r,"b",e),r}}},{key:"resume",value:function(e){var t=this;return this.stop(),J(e.a)>0&&(fe(e.a,(function(e){t.spawn(e.e?"multi":"single",e)})),Le((function(){t.isRunning&&t.emitHook("OnResume",{ontology:t,data:e.b})})),this.isRunning)}},{key:"previewMode",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e&&this.m_sPreviewMode!==e&&(this.m_sPreviewMode=e,t&&this.each((function(e){return e.restart()}))),this.m_sPreviewMode}},{key:"forEach",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all",n=arguments.length>2?arguments[2]:void 0;return this.states.each((function(i){return!(i===n||("states"!==t&&"all"!==t||!e(i))&&!i.transducers.each((function(i){return i!==n&&!("transducers"!==t&&"all"!==t||!e(i))}))&&!i.branches.each((function(i){return i!==n&&(!("branches"!==t&&"all"!==t||!e(i))||i.conditions.each((function(i){return i!==n&&!("conditions"!==t&&"all"!==t||!e(i))})))})))}))}},{key:"destroy",value:function(){this.unload(),(0,s.Z)((0,u.Z)(n.prototype),"destroy",this).call(this)}}]),n}(bt),ti=function(e){(0,a.Z)(n,e);var t=m(n);function n(e,i,r,s,a,o,u){return(0,h.Z)(this,n),t.call(this,e,i,r,s,a,o,u)}return n}(ei);function ni(e){return function(t){Qe(t,"property",e)}}var ii=function(e){(0,a.Z)(n,e);var t=m(n);function n(e,i){return(0,h.Z)(this,n),t.call(this,e,i)}return(0,l.Z)(n,[{key:"id",get:function(){return this.hash}},{key:"runner",get:function(){return this.branch.runner}},{key:"onCondition",value:function(e,t){if(!this.props.disabled&&this.runner){var n=this.runner.namespace.conditionBlocks.create(this,e);if(n){var i=(this.props.block?this.props.block.slot:"")||"";if(i&&!e.mutableValueOf(i))return!1;var r=yt("condition",n,{callback:t});return!(K(r)||r instanceof cn)||r}}return!1}},{key:"onApproved",value:function(e){if(!this.props.disabled&&"each"===this.branch.culling){var t=(this.props.block?this.props.block.slot:"")||"";if(t){var n=e.mutableValueOf(t);n&&n.mountContext(e)}}}}]),n}(sn);ii=gn([ni("conditions")],ii);var ri=function(e){(0,a.Z)(n,e);var t=m(n);function n(){return(0,h.Z)(this,n),t.apply(this,arguments)}return(0,l.Z)(n,[{key:"id",get:function(){return this.hash}},{key:"runner",get:function(){return this.cluster.runner}},{key:"cluster",get:function(){return this.state}},{key:"onCondition",value:function(){return!0}},{key:"onLeave",value:function(e){this.runner&&this.runner.onInstanceBranchLeave(e,this),(0,s.Z)((0,u.Z)(n.prototype),"onLeave",this).call(this,e)}}]),n}(un);ri=gn([ni("branches")],ri);var si,ai,oi=function(e){(0,a.Z)(n,e);var t=m(n);function n(){var e;return(0,h.Z)(this,n),(e=t.apply(this,arguments)).m_pValidation={},e}return(0,l.Z)(n,[{key:"id",get:function(){return this.hash}},{key:"runner",get:function(){return this.ontology}},{key:"percentageInRunner",get:function(){var e=this.runner.metrics.states;return e>0?Math.floor(Math.min(this.enumerator-1,e)/e*100):0}},{key:"getValidation",value:function(e){return this.m_pValidation[e.instance.id+e.key]||"unknown"}},{key:"onEnterCondition",value:function(){return!0}},{key:"onEnter",value:function(e,t){return this.runner.onInstanceCluster(e,this,t),this.runner.onInstanceProgress(e.instance,this.percentageInRunner),t}},{key:"onLeaveCondition",value:function(){return!0}},{key:"onLeave",value:function(e){var t=this;e.instance.isRunning&&"paginated"===this.runner.mode&&(this.runner.onInstanceClusterLeave(e.instance,"forward",this),Ae((function(){t.isPopped||t.runner.onInstanceStep(e.instance,"forward")})),(0,s.Z)((0,u.Z)(n.prototype),"onLeave",this).call(this,e))}},{key:"onCancel",value:function(e){var t=this;e.instance.isRunning&&"paginated"===this.runner.mode&&(this.runner.onInstanceClusterLeave(e.instance,"backward",this),Ae((function(){t.isPopped||t.runner.onInstanceStep(e.instance,"backward")})),(0,s.Z)((0,u.Z)(n.prototype),"onCancel",this).call(this,e))}},{key:"onValidate",value:function(e){return Qe(this.m_pValidation,e.instance.id+e.key,"unknown"),!0}},{key:"onValidated",value:function(e,t,i){Qe(this.m_pValidation,e.instance.id+e.key,t),this.runner.onInstanceValidated(e.instance,t,i),(0,s.Z)((0,u.Z)(n.prototype),"onValidated",this).call(this,e,t,i)}},{key:"onEvaluate",value:function(e,t){this.runner.onInstanceClusterEvaluating(e.instance,this,t),(0,s.Z)((0,u.Z)(n.prototype),"onEvaluate",this).call(this,e,t)}}]),n}(fn);oi=gn([ni("clusters")],oi),function(e){e[e.None=0]="None",e[e.Formatting=1]="Formatting",e[e.Paragraphs=2]="Paragraphs",e[e.Breaks=4]="Breaks",e[e.Hyperlinks=8]="Hyperlinks",e[e.Headings=16]="Headings",e[e.Blockquotes=32]="Blockquotes",e[e.Code=64]="Code",e[e.InlineCode=128]="InlineCode",e[e.Images=256]="Images",e[e.All=511]="All"}(si||(si={})),function(e){e[e.Text=1]="Text",e[e.Content=2]="Content",e[e.Newline=4]="Newline",e[e.Space=8]="Space",e[e.Heading=16]="Heading",e[e.Quote=32]="Quote",e[e.Code=64]="Code",e[e.InlineCode=128]="InlineCode"}(ai||(ai={}));var ui=function(){function e(t,n){if((0,h.Z)(this,e),this.m_nFeatures=si.All,this.m_bMentions=!1,this.m_bReferences=!1,this.m_pBlocks=[],this.m_nOpcode=ai.Newline,this.m_nIndex=0,this.m_sBuffer="",this.m_pTags=[],this.m_nStopIndex=-1,this.m_sMarkdown=t.replace(/(\r\n|[\r\n])/,"\n"),this.m_nLength=this.m_sMarkdown.length,/[\n\\\*_~`#>\[!@]/g.test(this.m_sMarkdown))n&&("number"==typeof n.features&&(this.m_nFeatures=n.features),this.m_pMentions=n.mentions,this.m_pReferences=n.references,this.m_sStopWord=n.stopWord,this.m_sStopWord&&(this.m_sStopChar=this.m_sStopWord.charAt(0))),this.parse();else{if(n&&n.stopWord){var i=this.m_sMarkdown.indexOf(n.stopWord);-1!==i&&(this.m_sMarkdown=this.m_sMarkdown.substr(0,i),this.m_nStopIndex=i)}this.m_pBlocks.push({content:this.m_sMarkdown.replace(/\s\s+/g," ")})}}return(0,l.Z)(e,[{key:"features",get:function(){return this.m_nFeatures}},{key:"abstractSyntaxTree",get:function(){var e=this.m_pBlocks.length;if(1===e){var t={content:this.m_pBlocks[0].content,value:this.m_pBlocks[0].value};return"paragraph"!==this.m_pBlocks[0].type&&(t.type=this.m_pBlocks[0].type),t}return{content:0===e?"":this.m_pBlocks}}},{key:"text",get:function(){var e="";return this.map((function(t,n){switch(t){case"break":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":case"quote":case"codeline":return void(e+=(""===e?"":"\n")+n);case"paragraph":return void(e+=(""===e?"":"\n\n")+n);case"codeblock":case"image":return;default:return void(e+=n)}})),e.replace(/(^\s*)|(\s*$)/g,"").replace(/[^\S\r\n\.]{2,}/g," ").replace(/\n[^\S\r\n\.]/g,"\n")}},{key:"hasMentions",get:function(){return this.m_bMentions}},{key:"hasReferences",get:function(){return this.m_bReferences}},{key:"parse",value:function(){for(var e=this;this.m_nIndex<this.m_nLength;this.m_nIndex++){if(this.m_sBuffer=this.m_sMarkdown.charAt(this.m_nIndex),this.m_nOpcode&ai.Code){if("\n"===this.m_sBuffer){this.m_nOpcode&ai.Newline&&this.m_pTag&&"codeblock"===this.m_pTag.type&&"string"!=typeof this.m_pTag.content&&(!Array.isArray(this.m_pTag.content)||this.m_pTag.content.length>0)&&(this.m_pTag.content=[].concat((0,f.Z)(Array.isArray(this.m_pTag.content)?this.m_pTag.content:[this.m_pTag.content]),[{parent:this.m_pTag,type:"codeline",content:""}])),this.m_nOpcode|=ai.Newline,this.m_pText=void 0;continue}}else{if("\n"===this.m_sBuffer){this.features&si.Paragraphs?this.m_nOpcode&ai.Newline&&this.m_pText&&(this.m_nOpcode&=~ai.Quote,this.block("paragraph")):this.features&si.Breaks&&this.m_nOpcode&ai.Text&&(this.m_nOpcode&=~ai.Content,this.m_pTags.push("break")),this.m_nOpcode|=ai.Newline,this.m_nOpcode&ai.Heading&&(this.m_nOpcode&=~ai.Heading,this.block("paragraph"));continue}if(this.parseLinebreak())continue;if(this.m_nIndex>0&&(this.m_nOpcode&ai.Newline||this.m_nOpcode&ai.Space)&&" "===this.m_sBuffer)continue;if(this.m_nIndex>0&&(this.m_nOpcode&ai.Newline||this.m_nOpcode&ai.Space)&&"\t"===this.m_sBuffer)continue}this.parseStopWord()||(!(this.parseEscapeCharacters()||this.parseCodeBlock()||this.parseBuffer("mention",this.m_pMentions,"@",(function(){return e.m_bMentions=!0}))||this.parseBuffer("reference",this.m_pReferences,"#",(function(){return e.m_bReferences=!0}))||this.parseCode())&&(this.parseHeading()||this.parseBlockquotes()||this.parseImage()||this.parseHyperlinks()||this.features&si.Formatting&&(this.parseTag("bold+italic","*","triple")||this.parseTag("bold","*","double")||this.parseTag("italic","*","single")||this.parseTag("underline","_","single-or-double")||this.parseTag("strikethrough","~","single-or-double")))||this.flush(),0===this.m_pTags.length&&(this.m_nOpcode&=~ai.Newline," "!==this.m_sBuffer&&"\t"!==this.m_sBuffer||(this.m_nOpcode|=ai.Space)))}}},{key:"pushBlock",value:function(e,t){var n={parent:void 0,type:e,content:"",value:t};return this.m_pBlocks.push(n),this.m_nOpcode&=~ai.Content,n}},{key:"block",value:function(e,t){this.m_pBlock={type:e,value:t},this.m_pTags=[],this.m_nOpcode&=~ai.InlineCode}},{key:"pushTag",value:function(e){this.m_pTags.push(e)}},{key:"popTag",value:function(e){var t=this.m_pTags.length,n=this.m_pTag;if(t>0)for(var i=t-1;i>=0;i--)if(this.m_pTags[i]===e)return this.m_pTags.splice(i,this.m_pTags.length-i),!0;for(;n;){if(n.type===e)return this.m_pTag=this.m_pText=n.parent,!0;n=n.parent}return!1}},{key:"isTagActive",value:function(e){var t=this.m_pTags.length,n=this.m_pTag;if(t>0)for(var i=t-1;i>=0;i--)if(this.m_pTags[i]===e)return!0;for(;n;){if(n.type===e)return!0;n=n.parent}return!1}},{key:"tag",value:function(e){return!this.popTag(e)&&(this.pushTag(e),!0)}},{key:"flush",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.m_sBuffer&&!e)return{content:""};this.m_pBlock?(this.m_pTag=this.m_pText=this.pushBlock(this.m_pBlock.type,this.m_pBlock.value),this.m_pBlock=void 0,this.m_nOpcode&ai.Code&&(this.m_pTag.content=this.m_pText={parent:this.m_pTag,type:"codeline",content:""})):this.m_pTag||(this.m_pTag=this.m_pText=this.pushBlock("paragraph"));for(var t=this.m_pTags.shift();t;)this.m_pText={parent:this.m_pTag,type:t,content:""},"string"==typeof this.m_pTag.content&&this.m_pTag.content&&(this.m_pTag.content={parent:this.m_pTag,content:this.m_pTag.content}),this.m_pTag.content="string"==typeof this.m_pTag.content?this.m_pText:[].concat((0,f.Z)(Array.isArray(this.m_pTag.content)?this.m_pTag.content:[this.m_pTag.content]),[this.m_pText]),"break"===t?this.m_pText=this.m_pTag:this.m_pTag=this.m_pText,t=this.m_pTags.shift();return this.m_pText&&"string"==typeof this.m_pText.content||(this.m_pText={parent:this.m_pTag,content:""},this.m_pTag.content=[].concat((0,f.Z)(Array.isArray(this.m_pTag.content)?this.m_pTag.content:[this.m_pTag.content]),[this.m_pText]),"codeblock"===this.m_pTag.type&&(this.m_pText.type="codeline")),"\t"===this.m_sBuffer?(this.m_pText.content+="codeline"===this.m_pText.type?"  ":" ",{content:""}):(this.m_nOpcode&ai.Newline&&this.m_nOpcode&ai.Content&&(e||" "!==this.m_sBuffer)&&(this.m_pText.content+=" "),this.m_pText.content+=this.m_sBuffer,this.m_nOpcode|=ai.Text,this.m_nOpcode|=ai.Content,this.m_nOpcode&=~ai.Space,e&&(this.m_sBuffer=""),this.m_pText)}},{key:"parseLinebreak",value:function(){return!!(this.features&si.Paragraphs&&this.features&si.Breaks&&this.m_nOpcode&ai.Content&&" "===this.m_sBuffer&&this.m_nIndex+2<this.m_nLength&&" "===this.m_sMarkdown.charAt(this.m_nIndex+1)&&"\n"===this.m_sMarkdown.charAt(this.m_nIndex+2))&&(this.m_nIndex++,this.m_nOpcode&=~ai.Space,this.m_nOpcode&=~ai.Content,this.m_pTags.push("break"),!0)}},{key:"parseEscapeCharacters",value:function(){if("\\"===this.m_sBuffer&&this.m_nIndex+1<this.m_nLength){var e=this.m_sMarkdown.charAt(this.m_nIndex+1);if("\\"===e||"*"===e||"_"===e||"~"===e||"`"===e||"#"===e||">"===e||"["===e||"]"===e||"("===e||")"===e||"!"===e||"@"===e)return this.m_sBuffer=e,this.m_nIndex++,!0}return!1}},{key:"parseTag",value:function(e,t,n){if(this.m_sBuffer===t){if("single"!==n&&this.m_nIndex+("triple"===n?2:1)<this.m_nLength&&this.m_sMarkdown.charAt(this.m_nIndex+1)===t&&("triple"!==n||this.m_sMarkdown.charAt(this.m_nIndex+2)===t))this.m_nIndex+="triple"===n?2:1;else if("double"===n||"triple"===n)return!1;if("bold"===e||"italic"===e){if(this.popTag("bold+italic"))return this.tag("bold"===e?"italic":"bold"),!0}else if("bold+italic"===e){var i=this.isTagActive("bold"),r=this.isTagActive("italic");if(this.popTag("bold"),this.popTag("italic"),i&&r)return!0;(i||r)&&(this.popTag(i?"bold":"italic"),e=i?"italic":"bold")}return this.tag(e),!0}return!1}},{key:"parseBuffer",value:function(t,n,i,r){if(n&&this.m_sBuffer===i&&this.m_nIndex+1<this.m_nLength){var s=n.parser(this.m_sMarkdown.substr(this.m_nIndex+1,n.numberOfChars||void 0),this.m_nIndex);if(s&&s.shift>0){this.m_nIndex+=s.shift,this.m_sBuffer="",this.pushTag(t);var a=this.flush(!0);return s.markdown?a.parent&&"code"===a.parent.type?a.content=s.markdown:a.content=e.parse(s.markdown,{features:this.features&si.Formatting|this.features&si.InlineCode|this.features&si.Hyperlinks|this.features&si.Images,mentions:this.m_pMentions,references:this.m_pReferences}).abstractSyntaxTree.content:s.text&&(a.content=s.text),a.value=s.value,a.value&&r(),this.popTag(t),!0}}return!1}},{key:"parseStopWord",value:function(){return!(this.m_nOpcode&ai.InlineCode||this.m_nOpcode&ai.Code||this.m_sBuffer!==this.m_sStopChar||!this.m_sStopWord||this.m_sMarkdown.substr(this.m_nIndex,this.m_sStopWord.length)!==this.m_sStopWord||(this.m_nStopIndex=this.m_nIndex,this.m_nIndex=this.m_nLength,0))}},{key:"parseHeading",value:function(){if(this.features&si.Paragraphs&&this.features&si.Headings&&this.m_nOpcode&ai.Newline&&"#"===this.m_sBuffer){for(var e=1,t=this.m_nIndex+1;t<this.m_nLength&&e>=1&&e<=6;){var n=this.m_sMarkdown.charAt(t);if("#"!==n){" "!==n&&(e=0);break}e++,t++}switch(e){case 1:this.block("h1");break;case 2:this.block("h2");break;case 3:this.block("h3");break;case 4:this.block("h4");break;case 5:this.block("h5");break;case 6:this.block("h6");break;default:return!1}return this.m_nIndex+=e,this.m_nOpcode|=ai.Heading,!0}return!1}},{key:"parseBlockquotes",value:function(){return!!(this.features&si.Paragraphs&&this.features&si.Blockquotes&&this.m_nOpcode&ai.Newline&&">"===this.m_sBuffer)&&(this.m_nIndex+1<this.m_nLength&&" "===this.m_sMarkdown.charAt(this.m_nIndex+1)&&this.m_nIndex++,this.m_nOpcode&ai.Quote?(this.m_sBuffer=" ",!1):(this.m_nOpcode|=ai.Quote,this.block("quote"),!0))}},{key:"parseImage",value:function(){if(this.features&si.Images&&"!"===this.m_sBuffer&&this.m_nIndex+4<this.m_nLength&&"["===this.m_sMarkdown.charAt(this.m_nIndex+1)){for(var e="",t="",n=!1,i=this.m_nIndex++;++this.m_nIndex<this.m_nLength;){if(this.m_sBuffer=this.m_sMarkdown.charAt(this.m_nIndex),!this.parseEscapeCharacters())if(n){if(")"===this.m_sBuffer){if(""!==t){this.pushTag("image");var r=this.flush(!0);r.content=e,r.value=t,this.popTag("image")}return!0}}else if("]"===this.m_sBuffer&&this.m_nIndex+1<this.m_nLength&&"("===this.m_sMarkdown.charAt(this.m_nIndex+1)){n=!0,this.m_nIndex++;continue}n?t+=this.m_sBuffer:e+=this.m_sBuffer}return this.m_nIndex=i,this.m_sBuffer="!",!1}return!1}},{key:"parseHyperlinks",value:function(){if(this.features&si.Hyperlinks&&"["===this.m_sBuffer&&this.m_nIndex+3<this.m_nLength){var t=e.parse(this.m_sMarkdown.substr(this.m_nIndex+1),{features:this.features&si.Formatting|this.features&si.InlineCode|this.features&si.Images,mentions:this.m_pMentions,references:this.m_pReferences,stopWord:"]("});if(-1!==t.m_nStopIndex){var n=this.m_nIndex,i="";for(this.m_nIndex+=t.m_nStopIndex+2;++this.m_nIndex<this.m_nLength;){if(this.m_sBuffer=this.m_sMarkdown.charAt(this.m_nIndex),!this.parseEscapeCharacters()&&")"===this.m_sBuffer){if(""!==i){this.pushTag("hyperlink");var r=this.flush(!0);r.content=t.abstractSyntaxTree.content||i,r.value=i,this.popTag("hyperlink")}return!0}i+=this.m_sBuffer}this.m_nIndex=n,this.m_sBuffer="["}}return!1}},{key:"parseCode",value:function(){return this.features&si.InlineCode&&"`"===this.m_sBuffer&&(this.m_sBuffer="",this.m_nOpcode=this.m_nOpcode^ai.InlineCode,this.tag("code")),!!(this.m_nOpcode&ai.InlineCode)}},{key:"parseCodeBlock",value:function(){if(this.features&si.Paragraphs&&this.features&si.Code&&this.m_nOpcode&ai.Newline&&"`"===this.m_sBuffer&&this.m_nIndex+2<this.m_nLength&&"`"===this.m_sMarkdown.charAt(this.m_nIndex+1)&&"`"===this.m_sMarkdown.charAt(this.m_nIndex+2)){var e="",t=!0;for(this.m_nOpcode=this.m_nOpcode^ai.Code,this.m_nIndex+=3,this.m_sBuffer="";this.m_nIndex<this.m_nLength;){var n=this.m_sMarkdown.charAt(this.m_nIndex);if("\n"===n){this.m_nIndex--;break}" "===n||"\t"===n?t=!1:t&&(e+=n),this.m_nIndex++}return this.m_nOpcode&ai.Code?this.block("codeblock",e||void 0):this.block("paragraph"),!0}return!!(this.m_nOpcode&ai.Code)}},{key:"mapHelper",value:function(e,t){var n=this,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3?arguments[3]:void 0,s="string"==typeof e.content,a=e.value;if(a&&a.ref&&"string"==typeof a.string)return t(e.type,a.string,a.ref,r,"node");var o=t(e.type,s?e.content:"",e.value,r,i&&!e.type?s?"text":"root":"node");return s||(Array.isArray(e.content)?e.content.forEach((function(e){return n.mapHelper(e,t,!1,o)})):this.mapHelper(e.content,t,!1,o)),o}},{key:"reduceHelper",value:function(e,t){var n=this,i=e.value;if(i&&i.ref&&"string"==typeof i.string)return t(e.type,i.string,i.ref);if("string"!=typeof e.content){var r=[];return Array.isArray(e.content)?e.content.forEach((function(e){return r.push(n.reduceHelper(e,t))})):r.push(this.reduceHelper(e.content,t)),t(e.type,r,e.value)}return t(e.type,e.content,e.value)}},{key:"map",value:function(e){return this.mapHelper(this.abstractSyntaxTree,e)}},{key:"reduce",value:function(e){return this.reduceHelper(this.abstractSyntaxTree,e)}}],[{key:"parse",value:function(t,n){return new e(t,n)}}]),e}();function ci(e,t){if(e.slot instanceof In){if(e.slot.digits)return e.slot.toString(e.value);var n=e.slot.toValue(e.value);return e.slot.formatString(t.l10n.locale.number(n,e.slot.precision,!!e.slot.separator),1!==n)}if(e.slot instanceof Mn)return e.slot.supportsTime?t.l10n.locale.dateTimeFull(e.slot.toValue(e.value),!0):t.l10n.locale.dateFull(e.slot.toValue(e.value),!0)}function hi(e){return!(!e||64!==e.length||!/[A-Fa-f0-9]{64}/.test(e))}var li=Jt("id");function fi(e,t){return e=e||"",t&si.Breaks?e:e.replace(/(\r\n|[\r\n])/g," ")}function mi(e,t,n,i,r){return ui.parse(e,{features:n,mentions:{numberOfChars:64,parser:function(e,s){if(hi(e)){var a=t&&t.variableFor(e,(function(e){return e.props.block&&e.props.block.slot}),ci,li);return a?{shift:64,value:{ref:a,get string(){return(r&&s>0?encodeURIComponent(fi(null==a?void 0:a.string,n)):fi(null==a?void 0:a.string,n))||i}}}:{shift:64,text:i}}}}})}function pi(e,t,n){var i=n&&n.placeholder||"",r=n&&!L(n.features)?n.features:si.Formatting|si.Hyperlinks;if(n&&n.lineBreaks&&(r|=si.Breaks),t){var s="".concat(t.key,"/").concat(e,"/").concat(r,"/").concat(i);return t.instance.readFromCache(s)||t.instance.writeToCache(s,mi(e,t,r,i,!1))}return mi(e,void 0,r,i,!1)}function di(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"___",i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:si.None;if(!t)return mi(e,void 0,r|(i?si.Breaks:0),n,!1).text;var s="".concat(t.key,"/").concat(e,"/").concat(n,"/").concat(i),a=t.instance.readFromCache(s);if(Z(a))return a;var o=a||t.instance.writeToCache(s,mi(e,t,r|(i?si.Breaks:0),n,!1));return o.hasMentions?o.text:t.instance.writeToCache(s,o.text)}function gi(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(!t)return mi(e,void 0,si.None,n,!0).text;var r="".concat(t.key,"/").concat(e,"/").concat(n,"/URL"),s=t.instance.readFromCache(r);if(Z(s))return s;var a=s||t.instance.writeToCache(r,mi(e,t,si.None,n,!0)),o=a.text,u=(/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,}))\.?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(o)||Ce(i,(function(e){return 0===o.indexOf("data:".concat(e,";base64,"))&&o.length>13+e.length})))&&o||"";return a.hasMentions?u:t.instance.writeToCache(r,u)}function vi(e,t,n){var i=n&&!L(n.features)?n.features:si.Formatting|si.Hyperlinks;n&&n.lineBreaks&&(i|=si.Breaks);var r=n&&n.placeholder||"";if(!t){var s=mi(e,void 0,i,r,!1);if("reduce"in n)return s.reduce(n.reduce);if("map"in n)return s.map(n.map);throw new Error("You need to specify a reduce or map function.")}var a="".concat(t.key,"/").concat("reduce"in n?"reduce":"map","/").concat(e,"/").concat(i,"/").concat(r),o=t.instance.readFromCache(a);if(!o||o instanceof ui){var u,c=o||t.instance.writeToCache(a,mi(e,t,i,r,!1));if("reduce"in n)u=c.reduce(n.reduce);else{if(!("map"in n))throw new Error("You need to specify a reduce or map function.");u=c.map(n.map)}return c.hasMentions?u:t.instance.writeToCache(a,u)}return o}function yi(e){return ui.parse(e,{features:si.Formatting|si.Hyperlinks|si.Breaks,mentions:{numberOfChars:64,parser:function(e){if(hi(e))return{shift:64,text:"___"}}}}).text}var _i=function(){function e(t,n){(0,h.Z)(this,e),this.m_pKeys={},this.m_pNode=t,this.context=n}return(0,l.Z)(e,[{key:"view",get:function(){return this.m_pNode.runner.isPreview?"preview":this.m_pNode.runner.isTest?"test":"live"}},{key:"validation",get:function(){return this.context.validationOf(this.m_pNode)}},{key:"node",get:function(){return this.m_pNode.props}},{key:"props",get:function(){return this.node.block}},{key:"shouldAutoRender",get:function(){return this.type.autoRender||!1}},{key:"shouldAutoValidate",get:function(){return oe(this.type.autoValidate,!0)}},{key:"isFailed",get:function(){return"fail"===this.validation}},{key:"isPassed",get:function(){return"pass"===this.validation}},{key:"slotOf",value:function(e,t){return this.m_pNode.slots.select(e,t)}},{key:"valueOf",value:function(e,t,n){var i=e instanceof Sn?e.slots===this.m_pNode.slots&&e:this.slotOf(e,t);if(i){var r=this.context.mutableValueOf(i);if(r)return n&&(r.useModifier(n.modifier),n.onChange&&r.useListener(n.onChange),n.onContext&&r.useContext(n.onContext),n.prefill&&!r.hasValue&&r.set(n.prefill.value,n.prefill.reference),n.confirm&&r.confirm()),r}}},{key:"immutableValueOf",value:function(e){return this.context.immutableValueOf(e)}},{key:"variableFor",value:function(e){return this.context.variableFor(e,(function(e){return e.props.block&&e.props.block.slot}),ci)}},{key:"parseVariables",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return di(e,this.context,t,n)}},{key:"key",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return this.m_pKeys[e]||(this.m_pKeys[e]="_"+Jt("".concat(this.m_pNode.id,"/").concat(this.context.key,"/").concat(e)))}},{key:"rerender",value:function(){this.m_pNode.runner.rerender(this.context.instance)}},{key:"lock",value:function(){var e=this;this.m_pNode.slots.each((function(t){var n=e.valueOf(t);n&&n.lock()}))}},{key:"unlock",value:function(){var e=this;this.m_pNode.slots.each((function(t){var n=e.valueOf(t);n&&n.unlock()}))}},{key:"clear",value:function(){var e=this;this.m_pNode.slots.each((function(t){var n=e.valueOf(t);n&&n.clear()}))}}]),e}(),ki=function(e){(0,a.Z)(n,e);var t=m(n);function n(){return(0,h.Z)(this,n),t.apply(this,arguments)}return(0,l.Z)(n,[{key:"mutableValueOf",value:function(e){return this.context.mutableValueOf(e)}}]),n}(_i),bi=function(e){(0,a.Z)(n,e);var t=m(n);function n(e,i){var r;return(0,h.Z)(this,n),(r=t.call(this,e,i)).m_pBlocks={},r.m_nRerender=0,r}return(0,l.Z)(n,[{key:"id",get:function(){return this.hash}},{key:"runner",get:function(){return this.cluster.runner}},{key:"cluster",get:function(){return this.state}},{key:"isVisible",get:function(){if(this.props.disabled)return!1;var e=Object.keys(this.m_pBlocks),t=e.length>0&&this.m_pBlocks[e[0]]||void 0;return!(t instanceof ki||!(t||this.props.description||this.props.name&&oe(this.props.nameVisible,!0)))}},{key:"block",value:function(e){var t=this.m_pBlocks[e.instance.id+e.key]||Qe(this.m_pBlocks,e.instance.id+e.key,this.runner.namespace.nodeBlocks.create(this,e));return t&&Qe(t,"context",e),t}},{key:"onEnterCondition",value:function(e,t){if(this.props.disabled)return!1;var n=this.block(e);if(n){var i=yt("condition",n,{callback:t});return!(K(i)||i instanceof cn)||i}return!0}},{key:"onEnter",value:function(e,t){var n=this,i=this.block(e);if(this.runner.onInstanceNode(e,this,t),i){if(i instanceof ki)return e.instance.createTransaction(this,(function(){return i.do(t)}));e.instance.data.unhookContext(i),e.instance.data.hook("OnValueChange","framed",(function(e){e.transducer===n&&t.done()}),i),i.shouldAutoRender&&e.instance.data.hook("OnValueChange","synchronous",(function(e){e.transducer===n&&(n.m_nRerender=Re((function(){n.m_nRerender=0,i.rerender()}),n.m_nRerender))}),i)}return t}},{key:"onLeave",value:function(e){if(0!==this.m_nRerender&&(this.m_nRerender=He(this.m_nRerender)),"paginated"===this.runner.mode){var t=this.block(e);if(t){e.instance.data.unhookContext(t),yt("destroy",t,{type:"left"})}}}},{key:"onCancel",value:function(e){if(0!==this.m_nRerender&&(this.m_nRerender=He(this.m_nRerender)),"paginated"===this.runner.mode){var t=this.block(e);if(t){e.instance.data.unhookContext(t),yt("destroy",t,{type:"canceled"})}}}},{key:"onValidate",value:function(e,t,n){var i=this.block(e);if(i){if(i.shouldAutoValidate&&this.slots.each((function(t){if(t.required){var n=e.mutableValueOf(t);if(!n||!n.hasValue)return!0;if(!n.reference&&Z(n.value)&&""===n.value)return!0}return!1})))return!1;var r=yt("validator",i,{callback:n,current:t});return r instanceof cn&&i.rerender(),!(K(r)||r instanceof cn)||r}return!0}},{key:"onValidated",value:function(e,t,i){var r=this.block(e);r&&r.rerender(),(0,s.Z)((0,u.Z)(n.prototype),"onValidated",this).call(this,e,t,i)}},{key:"onSideEffect",value:function(e){if(!this.props.disabled){var t=this.m_pBlocks[e.instance.id+e.key];t instanceof ki&&e.instance.createTransaction(this,(function(){return t.do()}))}}}]),n}(On);bi=gn([ni("nodes")],bi);var Ci,Si,wi=function(){function e(t,n){(0,h.Z)(this,e),this.m_pCondition=t,this.context=n}return(0,l.Z)(e,[{key:"nodeRef",get:function(){var e=this;return!this.m_pNode&&this.props.node&&this.m_pCondition.runner&&this.m_pCondition.runner.forEach((function(t){return t.props.id===e.props.node&&(e.m_pNode=t),e.m_pNode instanceof bi}),"transducers"),this.m_pNode}},{key:"clusterRef",get:function(){var e=this;return!this.m_pCluster&&this.props.cluster&&this.m_pCondition.runner&&this.m_pCondition.runner.forEach((function(t){return t.props.id===e.props.cluster&&(e.m_pCluster=t),e.m_pCluster instanceof oi}),"states"),this.m_pCluster}},{key:"branchRef",get:function(){var e=this;return!this.m_pBranch&&this.props.branch&&this.m_pCondition.runner&&this.m_pCondition.runner.forEach((function(t){return t.props.id===e.props.branch&&(e.m_pBranch=t),e.m_pBranch instanceof ri}),"branches"),this.m_pBranch}},{key:"view",get:function(){return this.m_pCondition.runner?this.m_pCondition.runner.isPreview?"preview":this.m_pCondition.runner.isTest?"test":"live":"live"}},{key:"condition",get:function(){return this.m_pCondition.props}},{key:"props",get:function(){return this.condition.block}},{key:"node",get:function(){var e;return null===(e=this.nodeRef)||void 0===e?void 0:e.props}},{key:"cluster",get:function(){var e;return null===(e=this.clusterRef)||void 0===e?void 0:e.props}},{key:"branch",get:function(){var e;return null===(e=this.branchRef)||void 0===e?void 0:e.props}},{key:"slots",get:function(){var e;return null===(e=this.nodeRef)||void 0===e?void 0:e.slots}},{key:"slotOf",value:function(e){var t=this.context.instance.data.forSlot(e||this.props.slot||"");return t&&t.slot}},{key:"valueOf",value:function(e,t){if(this.nodeRef){var n=e instanceof Sn?e:this.nodeRef.slots.select(e||this.props.slot||"",t);return n&&n.slots===this.nodeRef.slots&&this.context.immutableValueOf(n)||void 0}}},{key:"immutableValueOf",value:function(e){return this.context.immutableValueOf(e||this.props.slot||"")}},{key:"variableFor",value:function(e){return this.context.variableFor(e,(function(e){return e.props.block&&e.props.block.slot}),ci)}},{key:"parseVariables",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return di(e,this.context,t,n)}}]),e}(),xi=function(){function e(t){(0,h.Z)(this,e),this.m_pBlocks={},this.m_sIdentifier=t}return(0,l.Z)(e,[{key:"identifier",get:function(){return this.m_sIdentifier}},{key:"ofType",value:function(e){return this.m_pBlocks[e]}},{key:"register",value:function(e,t,n){var i=this;if(this.m_pBlocks[t]&&this.m_pBlocks[t]!==e)throw new Error("Duplicate block '".concat(t,"' registered."));fe(n,(function(t){if(i.m_pBlocks[t]&&i.m_pBlocks[t]!==e)throw new Error("Duplicate block '".concat(t,"' registered."));Qe(i.m_pBlocks,t,e)})),Qe(e,"identifier",t),e.prototype.type=Qe(this.m_pBlocks,t,e)}},{key:"create",value:function(e,t){if(e.props.block){var n=this.ofType(e.props.block.type);if(n)return new n(e,t)}}}]),e}();function Mi(e,t){var n="",i="";return fe(e,(function(e){e!==i&&(n+=(""===n?"":t)+e,i=e)})),n}function Ti(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:" / ",r=[];return e.transducers((function(s,a,o){if(s.props.block){var u=be(s.slots.all,(function(e){return!(!("all"===t||"exportables"===t&&oe(e.exportable,!e.actionable)||"actionables"===t&&e.actionable)||n&&!Ce(n,(function(t){return e.id===t})))})),c=de(u,(function(e,t){return e+(t.alias||t.name?1:0)}),0)||0;fe(u,(function(t){var n=e.data.forSlot(t);if(n){var h,l=[t.alias||t.name||""];l[0]||(l[0]=yi(s.props.name||"")||yi(s.props.placeholder||""),l[0]&&u.length-c>1&&t.label&&l.push(t.label),!l[0]&&t.label&&(l[0]=t.label)),a.length>0&&(l=(h=be(pe(a,(function(t){if(t.props.block){var n=t.props.block;if(n.slot){var i=e.lookup.slot(n.slot);if(i instanceof Sn){var r=i.alias||i.name||"";if(r)return r}}if(n.node){var s=e.lookup.transducer(n.node);if(s instanceof bi){var a=s.props.name||s.props.placeholder;if(a)return a}}if(n.cluster){var o=e.lookup.state(n.cluster);if(o instanceof oi){var u=o.props.name;if(u)return u}}if(n.branch){var c=e.lookup.branch(n.branch);if(c instanceof ri){var h=c.props.name;if(h)return h}}}return""})),(function(e){return!!e}))).concat.apply(h,(0,f.Z)(l))),r.push({node:s,block:{type:s.props.block.type,version:s.props.block.version},slot:t,name:Mi(l,i),context:o,key:Jt("".concat(t.id,"/").concat(o)),values:n,value:n.values[o]})}}))}})),r}!function(e){function t(e){return{get fingerprint(){return e.fingerprint},get stencil(){return e.stencil},fields:d.iterateToString(e.fields,",",(function(e){return'"'.concat(d.replace(e.name,'"','""'),'"')})),record:d.iterateToString(e.fields,",",(function(e){return'"'.concat(d.replace(e.string,'"','""'),'"')}))}}function n(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:" / ",i=e instanceof Rn?e.instance:e;return{get fingerprint(){return i.fingerprint},get stencil(){return i.stencil("exportables")},fields:pe(Ti(i,"exportables",t,n),(function(e){return{name:e.name,type:e.block.type,version:e.block.version,get node(){return{id:e.node.id,key:Jt("".concat(e.node.id,"/").concat(e.context)),context:e.context,props:function(){return e.node.props}}},slot:e.slot.reference,datatype:e.slot.type,string:e.value&&e.slot.toString(e.value.value)||"",value:e.value&&e.value.value,modified:e.values.isModified(e.key),reference:e.value&&e.value.reference,time:e.value&&e.value.time,key:e.key}}))}}function i(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:" / ",r=e instanceof Rn?e.instance:e;return{get fingerprint(){return r.fingerprint},get stencil(){return r.stencil("exportables")},fields:be(n(r,t,i).fields,(function(e){return U(e.time)}))}}function r(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:" / ",r=e instanceof Rn?e.instance:e;return{get fingerprint(){return r.fingerprint},get stencil(){return r.stencil("exportables")},fields:be(n(r,t,i).fields,(function(e){return e.modified}))}}e.values=function(e,t){var n=e instanceof Rn?e.instance:e,i={};return fe(n.data.all,(function(e){var r=e.transducer,s=r.props.block;!s||t&&!Ce(t,(function(t){return e.slot.id===t}))||Qe(i,e.slot.id,{get fingerprint(){return n.fingerprint},node:{id:r.id,get name(){return yi(r.props.name||"")||yi(r.props.placeholder||"")}},block:{type:s.type,version:s.version},slot:{id:e.slot.id,reference:e.slot.reference,name:e.slot.alias||e.slot.name||"",label:e.slot.label||""},values:e.values})})),i},e.exportables=n,e.exportablesWithData=i,e.exportablesDiff=r,e.fields=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:" / ";return n(e,t,i)},e.NVPs=function(e,t){var i={};return(e instanceof Gn||e instanceof Rn?n(e):e).fields.forEach((function(e){if(e.name){for(var n=e.name,r=1;R(i[n]);)n="".concat(e.name," (").concat(++r,")");i[n]=V(t)?t(e):"strings"!==t&&(L(e.value)||K(e.value)||U(e.value))?e.value:e.string}})),i},e.CSV=function(e,i){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:" / ";return t(n(e instanceof Rn?e.instance:e,i,r))},e.CSVWithData=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:" / ";return t(i(e instanceof Rn?e.instance:e,n,r))},e.CSVDiff=function(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:" / ";return t(r(e instanceof Rn?e.instance:e,n,i))},e.actionables=function(e){var t=e instanceof Rn?e.instance:e,n={},i=!1;if(fe(Ti(t,"actionables"),(function(e){var t=Jt("".concat(e.node.id,"/").concat(e.context));(n[t]||(n[t]={key:t,type:e.block.type,version:e.block.version,get node(){return{id:e.node.id,key:t,context:e.context,props:function(){return e.node.props}}},data:[]})).data.push({key:e.key,name:e.name,slot:e.slot.reference,datatype:e.slot.type,string:e.value&&e.slot.toString(e.value.value)||"",value:e.value&&e.value.value,modified:e.values.isModified(e.key),reference:e.value&&e.value.reference,time:e.value&&e.value.time}),!i&&e.value&&e.value.time&&(i=!0)})),i)return{get fingerprint(){return t.fingerprint},get stencil(){return t.stencil("actionables")},nodes:pe(n,(function(e){return e}))}}}(Ci||(Ci={})),function(e){e.values=function(e,t,n){var i=e instanceof Rn?e.instance:e,r=!1;return fe(t,(function(e,t){var s=i.data.forSlot(t);!s||n&&!Ce(n,(function(e){return s.slot.id===e}))?r=!0:s.import(e.values)}),{keys:!0}),i.stepToHead(),!r},e.fields=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:" / ",r=Ti(e instanceof Rn?e.instance:e,"all",n,i),s=0;return fe(t,(function(e){var t=!1;fe(r,(function(n){n.key!==e.key&&n.name!==e.name||(n.values.importValue(n.context,{value:e.value,reference:e.reference,time:e.time}),t=!0)})),t||s++})),0===s},e.CSV=function(e,t,n){for(var i=Ti(e instanceof Rn?e.instance:e,"exportables",n),r=N(t),s=[],a=!0,o=!1,u="",c=0;c<r;c++){var h=t.charAt(c),l='"'===h;o?l?c+1<r&&'"'===t.charAt(c+1)?(u+='"',c++):(s.push(u||void 0),o=!1,u=""):u+=h:a&&l?(a=!1,o=!0):","===h&&(a=!0)}if(o&&s.push(u),s.length===i.length){var f=0;return fe(i,(function(e){return e.values.importValue(e.context,{value:s[f++]})})),!0}return!1}}(Si||(Si={}));var Ii=function(){function e(t,n){var i=this;(0,h.Z)(this,e),this.m_pNodes=[],this.m_nEnumerators=0,this.m_pMoment=t,fe(t.transducers,(function(e){var r=e.block(t.context);if(!(r instanceof ki)){var s=oe(e.props.nameVisible,!0);if(r||e.props.description||e.props.name&&s){var a="";i.nodes.push({id:e.id,get key(){return a||(a="_"+Jt(e.id+t.context.key))},node:e,props:e.props,block:r,context:t.context,get collectsData(){return e.slots.count>0},get hasDataCollected(){return e.slots.each((function(e){var n=t.context.mutableValueOf(e);return(null==n?void 0:n.hasValue)||!1}))},hasChanged:function(){var n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return t.context.instance.hasChanged(e.id,n)},enumerator:function(){if(r&&e.slots.count>0&&s)return i.m_nEnumerators++,++n}(),get validation(){return r?r.validation:"pass"},get isFailed(){return!!r&&r.isFailed},get isPassed(){return!r||r.isPassed},observer:"present"===t.tense&&e.await||void 0})}}}))}return(0,l.Z)(e,[{key:"cluster",get:function(){return this.m_pMoment.state}},{key:"nodes",get:function(){return this.m_pNodes}},{key:"tense",get:function(){return this.m_pMoment.tense}},{key:"isPast",get:function(){return"past"===this.tense}},{key:"isPresent",get:function(){return"present"===this.tense}},{key:"isFuture",get:function(){return"future"===this.tense}},{key:"isEvaluating",get:function(){return this.m_pMoment.state.isEvaluating}},{key:"isFailed",get:function(){return!this.isEvaluating&&"fail"===this.cluster.getValidation(this.m_pMoment.context)}},{key:"isPassed",get:function(){return!this.isEvaluating&&"pass"===this.cluster.getValidation(this.m_pMoment.context)}},{key:"count",get:function(){return this.nodes.length}},{key:"enumerators",get:function(){return this.m_nEnumerators}},{key:"restore",value:function(){this.m_pMoment.restore()}}]),e}(),Ei=function(){function e(t){(0,h.Z)(this,e),this.m_pMomentsCache={},this.m_nMoments=0,this.m_nCurrent=0,this.m_pPages=[],this.m_pOrchestrator=t}return(0,l.Z)(e,[{key:"checksum",get:function(){return this.parseMoments(),this.m_sChecksum}},{key:"immutable",get:function(){var e,t,n=this,i=this.moments,r=[],s=!1,a=!0,o=0,u=0;return fe(i,(function(n){r.push.apply(r,(0,f.Z)(n.nodes)),o+=n.count,u+=n.enumerators,!e&&n.isPresent&&(e=n,t=n.cluster),!s&&n.isEvaluating&&(s=!0),a&&n.nodes.length>0&&(a=!1)})),{moments:i,pages:this.pages,presentMoment:e,presentCluster:t,presentNodes:e&&e.nodes||[],activeNodes:r,get uniqueNodes(){var e={};return be(r,(function(t){var n=t.id+t.context.key;return!e[n]&&(e[n]=!0)}))},isEvaluating:s,isEmpty:a,isAtStart:this.isAtStart,isAtHead:this.isAtHead,isAtFinish:this.isAtFinish,isFinishable:this.isFinishable,isFinishing:this.isFinishing,isFinished:this.isFinished,isPausing:this.isPausing,isPaused:this.isPaused,hasDataCollected:this.hasDataCollected,isFailed:e&&e.isFailed||!1,isPassed:e&&e.isPassed||!1,mode:this.mode,direction:this.direction,count:o,enumerators:u,percentage:this.presentCluster&&this.presentCluster.percentageInRunner||0,map:function(e){var t=0;return pe(i,(function(n){return e(n,t++)}))},stepForward:function(){return n.stepForward()},stepBackward:function(){return n.stepBackward()},stepToStart:function(){return n.stepToStart()},stepToHead:function(){return n.stepToHead()},stepToPage:function(e){return n.stepToPage(e)},finish:function(){return n.finish()}}}},{key:"instance",get:function(){return this.m_pOrchestrator.instance}},{key:"moments",get:function(){return this.parseMoments()}},{key:"pages",get:function(){return"paginated"===this.mode?(this.parseMoments(),this.m_pPages):[]}},{key:"activePage",get:function(){if("paginated"===this.mode)return this.parseMoments(),Ce(this.m_pPages,(function(e){return e.active}))}},{key:"presentMoment",get:function(){return Se(this.moments,(function(e){return e.isPresent}))}},{key:"presentCluster",get:function(){var e=this.presentMoment;return e&&e.cluster}},{key:"presentNodes",get:function(){var e=this.presentMoment;return e&&e.nodes||[]}},{key:"activeNodes",get:function(){var e=[];return fe(this.moments,(function(t){e.push.apply(e,(0,f.Z)(t.nodes))})),e}},{key:"uniqueNodes",get:function(){var e=[],t={};return fe(this.moments,(function(n){fe(n.nodes,(function(n){var i=n.id+n.context.key;t[i]||(e.push(n),t[i]=!0)}))})),e}},{key:"isEvaluating",get:function(){for(var e=this.moments,t=e.length,n=0;n<t;n++)if(e[n].isEvaluating)return!0;return!1}},{key:"isChanged",get:function(){var e=this.checksum,t=e!==this.m_sChecksumLast;return this.m_sChecksumLast=e,t}},{key:"isEmpty",get:function(){return!Ce(this.moments,(function(e){return e.nodes.length>0}))}},{key:"isAtStart",get:function(){return!!this.instance.isAtStart||"paginated"===this.mode&&(this.parseMoments(),this.m_pPages.length>0&&this.m_pPages[0].active)}},{key:"isAtHead",get:function(){return this.instance.isAtHead}},{key:"isAtFinish",get:function(){return this.instance.isAtFinish}},{key:"isFinishable",get:function(){return this.instance.isFinishable}},{key:"isFinishing",get:function(){return this.instance.isFinishing}},{key:"isFinished",get:function(){return this.instance.isFinished}},{key:"isPausing",get:function(){return this.instance.isPausing}},{key:"isPaused",get:function(){return this.instance.isPaused}},{key:"hasDataCollected",get:function(){return this.instance.hasDataCollected}},{key:"isFailed",get:function(){var e=this.presentMoment;return e&&e.isFailed||!1}},{key:"isPassed",get:function(){var e=this.presentMoment;return e&&e.isPassed||!1}},{key:"mode",get:function(){return this.instance.isPreview?"progressive":this.m_pOrchestrator.mode}},{key:"direction",get:function(){return this.m_pOrchestrator.direction}},{key:"count",get:function(){var e=0;return fe(this.moments,(function(t){e+=t.count})),e}},{key:"enumerators",get:function(){var e=0;return fe(this.moments,(function(t){e+=t.enumerators})),e}},{key:"percentage",get:function(){return this.presentCluster&&this.presentCluster.percentageInRunner||0}},{key:"prologue",get:function(){return this.m_pOrchestrator.prologue}},{key:"epilogue",get:function(){return this.m_pOrchestrator.epilogue}},{key:"parseMoments",value:function(){var e=this,t=this.m_pOrchestrator.checksum;if(this.instance.isRunning){if(!this.m_pMoments||this.m_sChecksum!==t){var n,i=[],r=this.instance.history,s=!1,a=0,o=0;this.m_nMoments=r.length,this.m_nCurrent=0,this.m_pPages=[];for(var u=function(t){var u=r[t];if(s&&"continuous"===e.mode)return"break";var c=e.m_pMomentsCache[u.checksum]||(e.m_pMomentsCache[u.checksum]=new Ii(u,a));c.count>0&&(a+=c.enumerators,"present"!==u.tense&&"paginated"===e.mode||i.push(c),n=c),"paginated"===e.mode&&"present"===u.tense&&0===i.length&&n&&i.push(n),s=s||"present"===u.tense,"paginated"===e.mode&&c.count>0&&(s&&0===e.m_nCurrent&&(e.m_nCurrent=t+1),e.m_pPages.push({number:++o,active:e.m_nCurrent===t+1,activate:function(){return e.stepToPage(t+1)}}))},c=0;c<this.m_nMoments;c++){if("break"===u(c))break}this.m_pMoments=i,this.m_sChecksum=t}}else this.m_sChecksum=void 0,this.invalidate();return this.m_pMoments||[]}},{key:"invalidate",value:function(){this.m_pMoments=void 0,this.m_nMoments=0,this.m_nCurrent=0}},{key:"reset",value:function(){this.m_pMomentsCache={}}},{key:"map",value:function(e){var t=0;return pe(this.moments,(function(n){return e(n,t++)}))}},{key:"stepForward",value:function(){return this.instance.stepForward()}},{key:"stepBackward",value:function(){if("paginated"===this.mode){this.parseMoments();for(var e=1;e<this.m_pPages.length;e++)if(this.m_pPages[e].active)return this.m_pPages[e-1].activate(),!0}return this.instance.stepBackward()}},{key:"stepToStart",value:function(){return"paginated"===this.mode&&(this.parseMoments(),this.m_pPages.length>0)?(this.m_pPages[0].activate(),!0):this.instance.stepToStart()}},{key:"stepToHead",value:function(){return this.instance.stepToHead()}},{key:"stepToPage",value:function(e){var t=this.instance.history;return e>0&&e<=t.length&&(t[e-1].restore(),!0)}},{key:"finish",value:function(){return this.instance.finish()}},{key:"getNodeByKey",value:function(e){var t;return Ce(this.moments,(function(n){return!!(t=Ce(n.nodes,(function(t){return t.key===e})))})),t}},{key:"getKeyByNodeId",value:function(e){var t;return Ce(this.moments,(function(n){return!!(t=Ce(n.nodes,(function(t){return t.id===e})))})),t?t.key:void 0}}]),e}();function Pi(e,t){var n=window;if(void 0!==n)if(void 0!==typeof n[e])n[e]=t;else if(n[e]!==t)throw new Error("Marblecore.Loader: Another context is already registered for '".concat(e,"'!"))}var Ai={};var Fi=function(){function e(t){(0,h.Z)(this,e),this.m_pBlocks={},this.m_sIdentifier=t}return(0,l.Z)(e,[{key:"identifier",get:function(){return this.m_sIdentifier}},{key:"ofType",value:function(e){return this.m_pBlocks[e]}},{key:"register",value:function(e,t,n,i,r,s){var a=this;if(this.m_pBlocks[t]&&this.m_pBlocks[t]!==e)throw new Error("Duplicate block '".concat(t,"' registered."));fe(n,(function(t){if(a.m_pBlocks[t]&&a.m_pBlocks[t]!==e)throw new Error("Duplicate block '".concat(t,"' registered."));Qe(a.m_pBlocks,t,e)})),Qe(e,"identifier",t),Qe(e,"ref",i),Qe(e,"autoRender",r),Qe(e,"autoValidate",s),e.prototype.type=Qe(this.m_pBlocks,t,e)}},{key:"create",value:function(e,t){if(e.props.block){var n=this.ofType(e.props.block.type);if(n)return new n(e,t)}}}]),e}(),Oi=function(){function e(){(0,h.Z)(this,e)}return(0,l.Z)(e,null,[{key:"get",value:function(e){return e=e||this.m_sIdentifier,this.m_pNamespaces[e]||$e(this.m_pNamespaces,e,{identifier:e,nodeBlocks:new Fi(e),conditionBlocks:new xi(e)})}},{key:"isAvailable",value:function(e){return!!this.m_pNamespaces[e]}},{key:"mount",value:function(e){this.m_sIdentifier!==e&&(this.m_pStack.push(this.m_sIdentifier),this.m_sIdentifier=e)}},{key:"unmount",value:function(){this.m_sIdentifier=this.m_pStack.pop()||"default"}},{key:"loadUMD",value:function(e){if(e){Pi("TripettoRunner",g);try{return Function(e)(),!0}catch(e){return!1}}return!1}},{key:"loadURL",value:function(e,t){var n,i;n=e,i=t,Pi("TripettoRunner",g),function(e,t,n){if("undefined"!=typeof document){var i=!1,r=function(e){i||(i=!0,n&&n(e))};try{var s=document.createElement("script");s.onload=function(){return r(!0)},s.onerror=function(){return r(!1)},s.async=!0,s.src=function(e,t){return"undefined"!=typeof trustedTypes&&trustedTypes.createPolicy&&t?(Ai[t]||(Ai[t]=trustedTypes.createPolicy(t,{createScriptURL:function(e){return e}}))).createScriptURL(e):e}(e,t),document.body.appendChild(s)}catch(e){r(!1)}}else n&&n(!1)}(n,"tripetto#runner",i)}},{key:"unload",value:function(e){return!!this.m_pNamespaces[e]&&($e(this.m_pNamespaces,e,void 0),!0)}}]),e}();function Li(e){Oi.mount(e)}function Ri(){Oi.unmount()}Oi.m_pNamespaces={},Oi.m_pStack=[],Oi.m_sIdentifier="default";var Hi=function(e){var t;return e instanceof bi?((null===(t=e.props.block)||void 0===t?void 0:t.type)||"")+(e.props.disabled?"disabled":""):""},Bi=function(e){return!!e.props.block};function Vi(e){return new ti(oi,bi,ri,ii,e,Hi,Bi)}function Zi(e){return Vi(e).fingerprint}function Ni(e,t){if(e.redirectUrl){var n=gi(e.redirectUrl,t);if(n)return n}}var Di=function(e){(0,a.Z)(n,e);var t=m(n);function n(e){var i;return(0,h.Z)(this,n),(i=t.call(this,oi,bi,ri,ii,function(){if(!e.definition)throw new Error("The runner cannot start because no valid definition was supplied!");return e.definition}(),Hi,Bi,"progressive"===e.mode,!e.preview&&!e.test,e.preview?"compact":"disabled",e.l10n)).m_pStories={},i.m_nClusters=0,i.m_nNodes=0,i.m_bTest=!1,i.m_sMode=e.mode,i.m_bTest=e.test||!1,i.m_sNamespace=e.namespace,e.data&&i.hook("OnInstanceStart","synchronous",(function(t){e.data(t.instance)})),i.hook("OnChange","synchronous",(function(e){i.onChange&&i.onChange(e)})),i.hook("OnRestart","framed",(function(e){i.onRestart&&i.onRestart(e.instance)})),i.isLoaded&&(K(e.start)?e.start:i.isPreview||e.snapshot)&&(i.isPreview||!e.snapshot||!i.restore(e.snapshot)&&!i.prologue)&&i.start(),i}return(0,l.Z)(n,[{key:"handleChange",get:function(){var e=this;return this.m_pChange||(this.m_pChange=new lt((function(t,i,r){if("started"===i||"finished"===i||"stopped"===i||"paused"===i||"mode"===i||!t||t.isRunning){var s=e.mode;e.emitHook("OnChange",{runner:e,instance:t,change:i,get storyline(){return r&&r.immutable||n.getInitialStoryline(s)}}),t&&e.onInstanceChange(t,i,r)}}),"promise"))}},{key:"namespace",get:function(){return Oi.get(this.m_sNamespace)}},{key:"definition",get:function(){return this.ontology},set:function(e){e&&this.reload(e)}},{key:"instance",get:function(){return this.m_pInstance}},{key:"storyline",get:function(){if(this.instance){var e=this.story(this.instance);return e&&e.storyline}}},{key:"name",get:function(){return this.definition&&this.definition.name||""}},{key:"mode",get:function(){return this.m_sMode},set:function(e){if(e!==this.m_sMode){var t="progressive"===e,n=this.storyline;n&&n.reset(),this.m_sMode=e,t===this.autoPushForward?n&&n.invalidate():this.autoPushForward=t,this.change(this.instance,"mode",!1)}}},{key:"isPreview",get:function(){return"disabled"!==this.previewMode()},set:function(e){if(e!==this.isPreview){var t=this.storyline;t&&t.reset(),this.previewMode(e?"compact":"disabled"),e&&!this.isRunning?this.start():this.change(this.instance,"preview",!1)}}},{key:"isTest",get:function(){return this.m_bTest&&!this.isPreview},set:function(e){this.m_bTest=e}},{key:"status",get:function(){return this.isPreview?"preview":this.isEmpty?"empty":this.isFinishing?"finishing":this.isFinished?"finished":this.isStopped?"stopped":this.isPausing?"pausing":this.isPaused?"paused":this.isRunning?"running":"idle"}},{key:"isEmpty",get:function(){if(this.isFinished&&0===this.m_nNodes&&0===this.m_nClusters)return!0;var e=this.storyline;return e&&e.isEmpty||!1}},{key:"prologue",get:function(){var e,t;return(null===(e=this.ontology)||void 0===e?void 0:e.prologue)||(null===(t=this.ontology)||void 0===t?void 0:t.preface)}},{key:"epilogue",get:function(){var e,t=this;return this.m_pEpilogue||Object.assign(Object.assign({},null===(e=this.ontology)||void 0===e?void 0:e.epilogue),{context:this.m_pContext,getRedirect:function(){var e;return t.m_pContext&&(null===(e=t.ontology)||void 0===e?void 0:e.epilogue)&&Ni(t.ontology.epilogue,t.m_pContext)}})}},{key:"story",value:function(e){var t=this.m_pStories;if(e.isRunning){var n=this,i=t[e.id]||Qe(t,e.id,{storyline:new Ei({instance:e,get mode(){return n.mode},get checksum(){return i.checksum},get direction(){return i.direction||"forward"},get prologue(){return n.prologue},get epilogue(){return n.epilogue}})});return i.checksum=e.checksum,i}at(t,e.id)}},{key:"change",value:function(e,t,n){if(!n||e&&e.isRunning){var i=e&&this.story(e);if(i)switch(t){case"forward":case"backward":if("progressive"===this.mode||this.isPreview)return;i.direction=t;break;case"started":i.storyline.invalidate()}this.handleChange.invoke(e,t,i&&i.storyline)}}},{key:"onInstanceChange",value:function(e,t,n){}},{key:"onInstanceStart",value:function(e){this.m_pInstance=e,this.m_nClusters=0,this.m_nNodes=0,this.m_pContext=void 0,this.m_pEpilogue=void 0,this.change(e,"started",!1),(0,s.Z)((0,u.Z)(n.prototype),"onInstanceStart",this).call(this,e)}},{key:"onInstanceData",value:function(e,t){this.onData&&this.onData(e,t),(0,s.Z)((0,u.Z)(n.prototype),"onInstanceData",this).call(this,e,t)}},{key:"onInstanceProcessing",value:function(e,t){t?this.handleChange.hold():this.handleChange.release(),(0,s.Z)((0,u.Z)(n.prototype),"onInstanceProcessing",this).call(this,e,t)}},{key:"onInstanceStepForward",value:function(e,t){return!("progressive"===this.mode||!t||0!==t.transducers.count&&t.transducers.each((function(e){return e instanceof bi&&e.isVisible})))}},{key:"onInstanceUpdate",value:function(e){this.change(e,"render",!0),(0,s.Z)((0,u.Z)(n.prototype),"onInstanceUpdate",this).call(this,e)}},{key:"onInstanceFinishing",value:function(e,t){var i=this;if(this.change(e,"finishing",!1),this.onFinish){var r=this.onFinish(e),a=function(n,r){t(n,r),n||i.change(e,"finishing",!1)};return K(r)?a(r):r.then((function(e){return a(!0,e)})).catch((function(){return a(!1)})),!1}return(0,s.Z)((0,u.Z)(n.prototype),"onInstanceFinishing",this).call(this,e,t)}},{key:"onInstanceEnd",value:function(e,t){this.change(e,t,!1),(0,s.Z)((0,u.Z)(n.prototype),"onInstanceEnd",this).call(this,e,t)}},{key:"onInstanceCluster",value:function(e,t,n){this.m_pContext||(this.m_pContext=e),this.m_pEpilogue=void 0,this.m_nClusters++,this.change(e.instance,"render",!0)}},{key:"onInstanceClusterEvaluating",value:function(e,t,n){this.change(e,"evaluating",!0)}},{key:"onInstanceClusterLeave",value:function(e,t,n){}},{key:"onInstanceBranchLeave",value:function(e,t){if(t.isFinish&&t.props.epilogue&&(!this.isPreview||t.isMain)){var n=!t.isMain&&t.id||void 0;this.m_pEpilogue&&this.m_pEpilogue.branch!==n||(this.m_pEpilogue=Object.assign(Object.assign({},t.props.epilogue),{branch:n,context:e,getRedirect:function(){return e&&t.props.epilogue&&Ni(t.props.epilogue,e)}}))}}},{key:"onInstanceNode",value:function(e,t,n){this.m_nNodes++,this.change(e.instance,"render",!0)}},{key:"onInstanceProgress",value:function(e,t){this.change(e,"progress",!0)}},{key:"onInstanceStep",value:function(e,t){this.change(e,t,!0)}},{key:"onInstanceValidated",value:function(e,t,n){this.change(e,"validated",!0)}},{key:"restore",value:function(e){if(!H(e)&&this.resume(e))return this.firstItem}},{key:"reload",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=JSON.stringify(e);if(i!==(this.m_sDefinition||JSON.stringify(this.definition))){var r=(null===(t=this.instance)||void 0===t?void 0:t.isRunning)&&this.instance||void 0,s=r&&Ci.values(r);if(this.m_sDefinition=i,this.load(e),!n||s)return this.start(void 0,s&&function(e){Si.values(e.inherit(r),s)}||void 0)}if(!this.isRunning&&!n)return this.start()}},{key:"restart",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=e&&this.instance&&this.instance.isRunning&&Ci.values(this.instance);this.stop();var n=this.start();return t&&Si.values(n,t),this.emitHook("OnRestart",{runner:this,instance:n}),n}},{key:"rerender",value:function(e){this.change(e,"render",!0)}},{key:"stepForward",value:function(){var e=this.storyline;return e&&e.stepForward()||!1}},{key:"stepBackward",value:function(){var e=this.storyline;return e&&e.stepBackward()||!1}},{key:"stepToStart",value:function(){var e=this.storyline;return e&&e.stepToStart()||!1}},{key:"stepToHead",value:function(){var e=this.storyline;return e&&e.stepToHead()||!1}},{key:"finish",value:function(){var e=this.storyline;return e&&e.finish()||!1}}],[{key:"getInitialStoryline",value:function(e){return{moments:[],pages:[],presentMoment:void 0,presentCluster:void 0,presentNodes:[],activeNodes:[],uniqueNodes:[],isEvaluating:!1,isEmpty:!1,isAtStart:!1,isAtHead:!1,isAtFinish:!1,isFinishable:!1,isFinishing:!1,isFinished:!1,isPausing:!1,isPaused:!1,hasDataCollected:!1,isFailed:!1,isPassed:!1,mode:e,direction:"forward",count:0,enumerators:0,percentage:0,map:function(){return[]},stepForward:function(){return!1},stepBackward:function(){return!1},stepToStart:function(){return!1},stepToHead:function(){return!1},stepToPage:function(){return!1},finish:function(){return!1}}}}]),n}(ei);function zi(e){switch(e.type){case"node":return function(t){Oi.get(e.namespace).nodeBlocks.register(t,e.identifier,Z(e.alias)?[e.alias]:e.alias||[],e.ref,e.autoRender,e.autoValidate)};case"headless":return function(t){Oi.get(e.namespace).nodeBlocks.register(t,e.identifier,Z(e.alias)?[e.alias]:e.alias||[])};case"condition":return function(t){Oi.get(e.namespace).conditionBlocks.register(t,e.identifier,Z(e.alias)?[e.alias]:e.alias||[])}}}function Ui(e,t,n){vt("condition",e,t,n,"single")}function Gi(e,t,n){vt("validator",e,t,n,"single")}function Ki(e,t,n){vt("destroy",e,t,n)}function qi(e,t){switch(e){case"exportables":if(t instanceof Gn||t instanceof Rn||"fingerprint"in t&&"stencil"in t&&"fields"in t){var n=t instanceof Gn||t instanceof Rn?Ci.exportables(t):t,i=Jt("stencil:exportables");return fe(n.fields,(function(e){i=Vt(i+e.node.id+e.datatype+e.slot+e.node.context)})),i===n.stencil?i:Vt(i+n.stencil)}break;case"actionables":if(t instanceof Gn||t instanceof Rn||"fingerprint"in t&&"stencil"in t&&"nodes"in t){var r=t instanceof Gn||t instanceof Rn?Ci.actionables(t):t,s=Jt("stencil:actionables");return r&&(fe(r.nodes,(function(e){fe(e.data,(function(t){s=Vt(s+e.node.id+t.datatype+t.slot+e.node.context)}))})),r.stencil!==s)?Vt(s+r.stencil):s}}return Vi(t).stencil(e)}function ji(e,t){var n=e instanceof Gn||e instanceof Rn?{exportables:Ci.exportables(e),actionables:Ci.actionables(e)}:e,i=Vt(n.exportables.fingerprint+(t?n.exportables.stencil:qi("exportables",n.exportables)));return fe(n.exportables.fields,(function(e){i=Vt(i+e.key+re(e.time)+e.string.substr(0,4096)+re(e.reference).substr(0,4096))})),n.actionables&&(i=Vt(i+n.actionables.fingerprint+(t?n.actionables.stencil:qi("actionables",n.actionables))),fe(n.actionables.nodes,(function(e){i=Vt(i+e.key),fe(e.data,(function(e){i=Vt(i+e.key+re(e.time)+e.string.substr(0,4096)+re(e.reference).substr(0,4096))}))}))),i}var Wi=0,Ji=0,Yi=0;function Xi(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}function Qi(e,t,n){e[n]=t>>>24&255,e[n+1]=t>>>16&255,e[n+2]=t>>>8&255,e[n+3]=255&t}function $i(e,t){var n=new Array(e.length/2),i=n.length,r=0,s=0;if(t>=8*i)throw new Error("The difficulty is too high to solve.");for(;s<i;s++)n[s]=parseInt(e.charAt(2*s)+e.charAt(2*s+1),16);for(s=0;s<=t-8;s+=8,r++)if(r>=i||0!==n[r])return!1;return r<i&&0==(n[r]&255<<8+s-t)}function er(e,t,n){for(var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:16,r=arguments.length>4?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Date.now(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"milliseconds",o=new Array(i),u=o.length,c=ji(e,!0),h=Date.now(),l=h,f=0;f<u;f++)o[f]=0;for(;!r||l-h<r;){var m=8,d="",g=m+4*((u-m)/4|0),v=s+("milliseconds"===a?l-h:p.round((l-h)/1e3));for(Qi(o,v/4294967296>>>0,0),Qi(o,(4294967295&v)>>>0,4);m<g;m+=4)Qi(o,4294967296*Math.random()>>>0,m);for(;m<u;m++)o[m]=256*Math.random()>>>0;for(var y=0;y<u;y++)d+="0123456789abcdef".charAt(o[y]>>>4&15)+"0123456789abcdef".charAt(o[y]>>>0&15);if(Wi++,$i(Vt(c+(n||"")+d),t))return Yi=Date.now()-h,Ji+=Yi,d;l=Date.now()}throw Ji+=Yi=l-h,new Error("Nonce not solved!")}function tr(e,t,n,i,r){if(e.length<16||e.length>64||e.length%16)return!1;for(var s=new Array(e.length/2),a=s.length,o=0;o<a;o++)s[o]=parseInt(e.charAt(2*o)+e.charAt(2*o+1),16);var u=Date.now()-(4294967296*Xi(s,0)+Xi(s,4));return!(n>0&&(u<0||u>n)||!$i(Vt(ji(i,!1)+(r||"")+e),t))}function nr(){return Ji&&Wi/Ji||0}function ir(){return Ji}function rr(){return Yi}var sr=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],ar=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]];function or(e,t,n,i){for(var r=0;r<4;r++)for(var s=0;s<i;s++)e[r][s]^=t[4*n+s][r]}function ur(e,t){for(var n=0;n<4;n++)for(var i=0;i<t;i++)e[n][i]=sr[e[n][i]]}function cr(e){for(var t=0;t<4;t++)e[t]=sr[e[t]]}function hr(e){for(var t=e[0],n=0;n<3;n++)e[n]=e[n+1];return e[3]=t,e}function lr(e,t){for(var n=new Array(4),i=1;i<4;i++){for(var r=0;r<4;r++)n[r]=e[i][(r+i)%t];for(var s=0;s<4;s++)e[i][s]=n[s]}}function fr(e){for(var t=0;t<4;t++){for(var n=new Array(4),i=new Array(4),r=0;r<4;r++)n[r]=e[r][t],i[r]=128&e[r][t]?e[r][t]<<1^283:e[r][t]<<1;e[0][t]=i[0]^n[1]^i[1]^n[2]^n[3],e[1][t]=n[0]^i[1]^n[2]^i[2]^n[3],e[2][t]=n[0]^n[1]^i[2]^n[3]^i[3],e[3][t]=n[0]^i[0]^n[1]^n[2]^i[3]}}function mr(e,t){for(var n=t.length/4-1,i=[[],[],[],[]],r=0;r<16;r++)i[r%4][Math.floor(r/4)]=e[r];or(i,t,0,4);for(var s=1;s<n;s++)ur(i,4),lr(i,4),fr(i),or(i,t,s,4);ur(i,4),lr(i,4),or(i,t,n,4);for(var a=new Array(16),o=0;o<16;o++)a[o]=i[o%4][Math.floor(o/4)];return a}function pr(e){for(var t=e.length/4,n=t+6,i=new Array(4*(n+1)),r=[0,0,0,0],s=0;s<t;s++)i[s]=[e[4*s],e[4*s+1],e[4*s+2],e[4*s+3]];for(var a=t;a<4*(n+1);a++){i[a]=[0,0,0,0];for(var o=0;o<4;o++)r[o]=i[a-1][o];if(a%t==0){cr(hr(r));for(var u=0;u<4;u++)r[u]^=ar[a/t][u]}else t>6&&a%t==4&&cr(r);for(var c=0;c<4;c++)i[a][c]=i[a-t][c]^r[c]}return i}function dr(e){return e.replace(/[\u0080-\u07ff]/g,(function(e){var t=e.charCodeAt(0);return String.fromCharCode(192|t>>6,128|63&t)})).replace(/[\u0800-\uffff]/g,(function(e){var t=e.charCodeAt(0);return String.fromCharCode(224|t>>12,128|t>>6&63,128|63&t)}))}var gr=Object.freeze({__proto__:null,decrypt:function(e,t,n,i){var r=n/8,s=new Array(r);e=i(e),t=dr(t);for(var a=0;a<r;a++)s[a]=isNaN(t.charCodeAt(a))?0:t.charCodeAt(a);for(var o=mr(s,pr(s)),u=pr(o.concat(o.slice(0,r-16))),c=new Array(8),h=e.slice(0,8),l=Math.ceil((e.length-8)/16),f=new Array(l),m=0;m<8;m++)c[m]=h.charCodeAt(m);for(var p=0;p<l;p++)f[p]=e.slice(8+16*p,8+16*p+16);for(var d=new Array(f.length),g=0;g<l;g++){for(var v=0;v<4;v++)c[15-v]=g>>>8*v&255;for(var y=0;y<4;y++)c[15-y-4]=(g+1)/4294967296-1>>>8*y&255;for(var _=mr(c,u),k=new Array(f[g].length),b=0;b<f[g].length;b++)k[b]=String.fromCharCode(_[b]^f[g].charCodeAt(b));d[g]=k.join("")}return d.join("").replace(/[\u00e0-\u00ef][\u0080-\u00bf][\u0080-\u00bf]/g,(function(e){return String.fromCharCode((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2))})).replace(/[\u00c0-\u00df][\u0080-\u00bf]/g,(function(e){return String.fromCharCode((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}))},encrypt:function(e,t,n,i){var r=n/8,s=new Array(r);e=dr(e),t=dr(t);for(var a=0;a<r;a++)s[a]=isNaN(t.charCodeAt(a))?0:t.charCodeAt(a);for(var o=mr(s,pr(s)),u=pr(o.concat(o.slice(0,r-16))),c=Math.ceil(e.length/16),h=new Array(16),l=new Array(c),f=(new Date).getTime(),m=f%1e3,p=Math.floor(f/1e3),d=Math.floor(65535*Math.random()),g=0;g<2;g++)h[g]=m>>>8*g&255;for(var v=0;v<2;v++)h[v+2]=d>>>8*v&255;for(var y=0;y<4;y++)h[y+4]=p>>>8*y&255;for(var _="",k=0;k<8;k++)_+=String.fromCharCode(h[k]);for(var b=0;b<c;b++){for(var C=0;C<4;C++)h[15-C]=b>>>8*C&255;for(var S=0;S<4;S++)h[15-S-4]=b/4294967296>>>8*S;for(var w=b<c-1?16:(e.length-1)%16+1,x=mr(h,u),M=new Array(w),T=0;T<w;T++)M[T]=String.fromCharCode(x[T]^e.charCodeAt(16*b+T));l[b]=M.join("")}return i(_+l.join(""))}}),vr="tripetto-runner-foundation",yr="6.2.5"}}]);
//# sourceMappingURL=36f40348-a3b8ebbd81ebdde08070.js.map