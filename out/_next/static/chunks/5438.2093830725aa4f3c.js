"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5438],{7297:function(e,n,r){r.d(n,{d:function(){return i},e:function(){return c},loadImage:function(){return t}});var a=r(2060);const o=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d.]+%?\))|currentcolor/gi;async function t(e){return new Promise((n=>{e.loading=!0;const r=new Image;e.element=r,r.addEventListener("load",(()=>{e.loading=!1,n()})),r.addEventListener("error",(()=>{e.element=void 0,e.error=!0,e.loading=!1,(0,a.jl)().error(`${a.gK} loading image: ${e.source}`),n()})),r.src=e.source}))}async function i(e){if("svg"!==e.type)return void(await t(e));e.loading=!0;const n=await fetch(e.source);n.ok?e.svgData=await n.text():((0,a.jl)().error(`${a.gK} Image not found`),e.error=!0),e.loading=!1}function c(e,n,r,i){const c=function(e,n,r){const{svgData:t}=e;if(!t)return"";const i=(0,a.vz)(n,r);if(t.includes("fill"))return t.replace(o,(()=>i));const c=t.indexOf(">");return`${t.substring(0,c)} fill="${i}"${t.substring(c)}`}(e,r,i.opacity?.value??1),s={color:r,gif:n.gif,data:{...e,svgData:c},loaded:!1,ratio:n.width/n.height,replaceColor:n.replaceColor,source:n.src};return new Promise((n=>{const r=new Blob([c],{type:"image/svg+xml"}),a=URL||window.URL||window.webkitURL||window,o=a.createObjectURL(r),i=new Image;i.addEventListener("load",(()=>{s.loaded=!0,s.element=i,n(s),a.revokeObjectURL(o)}));i.addEventListener("error",(()=>{(async()=>{a.revokeObjectURL(o);const r={...e,error:!1,loading:!0};await t(r),s.loaded=!0,s.element=r.element,n(s)})()})),i.src=o}))}},5438:function(e,n,r){r.d(n,{loadImageShape:function(){return t}});var a=r(7297),o=r(2060);async function t(e,n=!0){!function(e){e.loadImage||(e.loadImage=async n=>{if(!n.name&&!n.src)throw new Error(`${o.gK} no image source provided`);if(e.images||(e.images=[]),!e.images.find((e=>e.name===n.name||e.source===n.src)))try{const o={gif:n.gif??!1,name:n.name??n.src,source:n.src,type:n.src.substring(n.src.length-3),error:!1,loading:!0,replaceColor:n.replaceColor,ratio:n.width&&n.height?n.width/n.height:void 0};let t;if(e.images.push(o),n.gif){const{loadGifImage:e}=await r.e(9406).then(r.bind(r,9406));t=e}else t=n.replaceColor?a.d:a.loadImage;await t(o)}catch{throw new Error(`${o.gK} ${n.name??n.src} not found`)}})}(e);const{ImagePreloaderPlugin:t}=await r.e(6065).then(r.bind(r,6065)),{ImageDrawer:i}=await r.e(3895).then(r.bind(r,4144)),c=new t(e);await e.addPlugin(c,n),await e.addShape(["image","images"],new i(e),n)}}}]);