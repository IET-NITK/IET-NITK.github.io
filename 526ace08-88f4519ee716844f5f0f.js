(self.webpackChunkietnitk=self.webpackChunkietnitk||[]).push([[690],{1537:function(e,t,n){n(5674),n(8702),function(){"use strict";var t={3e3:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.decrypt=t.encrypt=void 0;var r=n(937);Object.defineProperty(t,"encrypt",{enumerable:!0,get:function(){return r.encrypt}}),Object.defineProperty(t,"decrypt",{enumerable:!0,get:function(){return r.decrypt}})},937:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.decrypt=t.encrypt=t.decodeUTF8=t.encodeUTF8=t.keyExpansion=t.cipher=void 0;var n=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],r=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]];function i(e,t,n,r){for(var i=0;i<4;i++)for(var o=0;o<r;o++)e[i][o]^=t[4*n+o][i]}function o(e,t){for(var r=0;r<4;r++)for(var i=0;i<t;i++)e[r][i]=n[e[r][i]]}function a(e){for(var t=0;t<4;t++)e[t]=n[e[t]]}function s(e){for(var t=e[0],n=0;n<3;n++)e[n]=e[n+1];return e[3]=t,e}function u(e,t){for(var n=new Array(4),r=1;r<4;r++){for(var i=0;i<4;i++)n[i]=e[r][(i+r)%t];for(i=0;i<4;i++)e[r][i]=n[i]}}function c(e){for(var t=0;t<4;t++){for(var n=new Array(4),r=new Array(4),i=0;i<4;i++)n[i]=e[i][t],r[i]=128&e[i][t]?e[i][t]<<1^283:e[i][t]<<1;e[0][t]=r[0]^n[1]^r[1]^n[2]^n[3],e[1][t]=n[0]^r[1]^n[2]^r[2]^n[3],e[2][t]=n[0]^n[1]^r[2]^n[3]^r[3],e[3][t]=n[0]^r[0]^n[1]^n[2]^r[3]}}function l(e,t){for(var n=t.length/4-1,r=[[],[],[],[]],a=0;a<16;a++)r[a%4][Math.floor(a/4)]=e[a];i(r,t,0,4);for(var s=1;s<n;s++)o(r,4),u(r,4),c(r),i(r,t,s,4);o(r,4),u(r,4),i(r,t,n,4);for(var l=new Array(16),p=0;p<16;p++)l[p]=r[p%4][Math.floor(p/4)];return l}function p(e){for(var t=e.length/4,n=t+6,i=new Array(4*(n+1)),o=[0,0,0,0],u=0;u<t;u++)i[u]=[e[4*u],e[4*u+1],e[4*u+2],e[4*u+3]];for(var c=t;c<4*(n+1);c++){i[c]=[0,0,0,0];for(var l=0;l<4;l++)o[l]=i[c-1][l];if(c%t==0)for(a(s(o)),l=0;l<4;l++)o[l]^=r[c/t][l];else t>6&&c%t==4&&a(o);for(l=0;l<4;l++)i[c][l]=i[c-t][l]^o[l]}return i}function h(e){return e.replace(/[\u0080-\u07ff]/g,(function(e){var t=e.charCodeAt(0);return String.fromCharCode(192|t>>6,128|63&t)})).replace(/[\u0800-\uffff]/g,(function(e){var t=e.charCodeAt(0);return String.fromCharCode(224|t>>12,128|t>>6&63,128|63&t)}))}function f(e){return e.replace(/[\u00e0-\u00ef][\u0080-\u00bf][\u0080-\u00bf]/g,(function(e){return String.fromCharCode((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2))})).replace(/[\u00c0-\u00df][\u0080-\u00bf]/g,(function(e){return String.fromCharCode((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}))}t.cipher=l,t.keyExpansion=p,t.encodeUTF8=h,t.decodeUTF8=f,t.encrypt=function(e,t,n,r){var i=n/8,o=new Array(i);e=h(e),t=h(t);for(var a=0;a<i;a++)o[a]=isNaN(t.charCodeAt(a))?0:t.charCodeAt(a);var s=l(o,p(o)),u=p(s.concat(s.slice(0,i-16))),c=Math.ceil(e.length/16),f=new Array(16),d=new Array(c),m=(new Date).getTime(),g=m%1e3,b=Math.floor(m/1e3),y=Math.floor(65535*Math.random());for(a=0;a<2;a++)f[a]=g>>>8*a&255;for(a=0;a<2;a++)f[a+2]=y>>>8*a&255;for(a=0;a<4;a++)f[a+4]=b>>>8*a&255;var _="";for(a=0;a<8;a++)_+=String.fromCharCode(f[a]);for(var v=0;v<c;v++){for(var S=0;S<4;S++)f[15-S]=v>>>8*S&255;for(S=0;S<4;S++)f[15-S-4]=v/4294967296>>>8*S;var P=v<c-1?16:(e.length-1)%16+1,O=l(f,u),C=new Array(P);for(a=0;a<P;a++)C[a]=String.fromCharCode(O[a]^e.charCodeAt(16*v+a));d[v]=C.join("")}return r(_+d.join(""))},t.decrypt=function(e,t,n,r){var i=n/8,o=new Array(i);e=r(e),t=h(t);for(var a=0;a<i;a++)o[a]=isNaN(t.charCodeAt(a))?0:t.charCodeAt(a);var s=l(o,p(o)),u=p(s.concat(s.slice(0,i-16))),c=new Array(8),d=e.slice(0,8),m=Math.ceil((e.length-8)/16),g=new Array(m);for(a=0;a<8;a++)c[a]=d.charCodeAt(a);for(var b=0;b<m;b++)g[b]=e.slice(8+16*b,8+16*b+16);var y=new Array(g.length);for(b=0;b<m;b++){for(var _=0;_<4;_++)c[15-_]=b>>>8*_&255;for(_=0;_<4;_++)c[15-_-4]=(b+1)/4294967296-1>>>8*_&255;var v=l(c,u),S=new Array(g[b].length);for(a=0;a<g[b].length;a++)S[a]=String.fromCharCode(v[a]^g[b].charCodeAt(a));y[b]=S.join("")}return f(y.join(""))}},6148:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Callback=t.Await=void 0;var r=n(5053);Object.defineProperty(t,"Await",{enumerable:!0,get:function(){return r.Await}});var i=n(6439);Object.defineProperty(t,"Callback",{enumerable:!0,get:function(){return i.Callback}})},5053:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Await=void 0;var r=n(655),i=function(e){function t(t){return e.call(this,{await:t.await,promise:t.promise,conditional:t.conditional,continuous:t.continuous})||this}return r.__extends(t,e),t.for=function(e){return new t(e)},t.prototype.done=function(){return this.terminate()},t}(n(6439).Callback);t.Await=i},6439:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Callback=void 0;var r=n(4389),i=function(){function e(e){var t;this.m_nPromises=0,this.m_bAsynchronous=!1,this.m_bCanceled=!1,this.m_fnPromise=e.promise,this.m_bContinuous=r.castToBoolean(e.continuous),(t=e.await(this))!==this&&0===this.m_nPromises&&this.return(t),this.m_bAsynchronous=!0,this.m_bCondition=r.castToBoolean(this.m_bCondition,!r.castToBoolean(e.conditional))}return e.of=function(t){return new e(t)},Object.defineProperty(e.prototype,"condition",{get:function(){return r.castToBoolean(this.m_bCondition,!0)},set:function(e){this.m_bCondition=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isAlive",{get:function(){return r.isFunction(this.m_fnPromise)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"promiseCount",{get:function(){return this.m_nPromises},enumerable:!1,configurable:!0}),e.prototype.terminate=function(){return this.return(void 0),this.condition},e.prototype.cancel=function(){return this.m_bCanceled=!0,this.m_bCondition=!0,this.terminate()},e.prototype.return=function(e){return this.m_fnPromise&&this.condition&&(this.m_nPromises++,this.m_fnPromise({isAsynchronous:this.m_bAsynchronous,isCanceled:this.m_bCanceled,payload:e}),this.m_bContinuous||(this.m_fnPromise=void 0)),e},e}();t.Callback=i},2907:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.observable=t.invokeMarker=t.defineMarker=void 0;var r=n(4009);Object.defineProperty(t,"defineMarker",{enumerable:!0,get:function(){return r.defineMarker}}),Object.defineProperty(t,"invokeMarker",{enumerable:!0,get:function(){return r.invokeMarker}});var i=n(8906);Object.defineProperty(t,"observable",{enumerable:!0,get:function(){return i.observable}})},4009:function(e,t,n){var r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.invokeMarker=t.defineMarker=void 0;var i=n(4389);t.defineMarker=function(e,t,n,r,o){if(void 0===o&&(o="multiple"),!r||!i.isFunction(r.value))throw new Error("The '@"+e+"' decorator can only be applied to a method but '"+n+"' seems to be a property.");var a="@marker @"+e,s="@marker @"+e+" #"+n,u=Object.getOwnPropertyDescriptor(t,a);if(Object.getOwnPropertyDescriptor(t,s))throw new Error("Decorator '@"+e+"' is already applied to the method '"+n+"'.");if("single"===o&&u)throw new Error("Decorator '@"+e+"' is already used in this class, but can only be applied once.");Object.defineProperty(t,s,{value:!0,writable:!1,enumerable:!1,configurable:!1}),u?u.value.push(r.value):Object.defineProperty(t,a,{value:[r.value],writable:!1,enumerable:!1,configurable:!1})},t.invokeMarker=function(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];var a=i.getAny(t,"@marker @"+e);if(a){var s=a.length;if(1===s)return i.callBind.apply(void 0,r([a[0],t],n));for(var u=0;u<s;u++)i.callBind.apply(void 0,r([a[u],t],n))}}},8906:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.observable=void 0;var r=n(4389);function i(e,t,n,i,o){var a={target:t,property:n,oldValue:i,newValue:o};r.each(r.getAny(t,e),(function(e){r.callBind(e,t,a)}))}t.observable=function(e,t,n,o,a){var s="@observers #"+n,u=Object.getOwnPropertyDescriptor(t,s),c="@observers @"+e+" #"+n;if(Object.getOwnPropertyDescriptor(t,c))throw new Error("Decorator '@"+e+"' is already applied to the property '"+n+"'.");if(Object.defineProperty(t,c,{value:!0,writable:!1,enumerable:!1,configurable:!1}),u&&r.isArray(u.value))u.value.push(a);else{if(o){if(o.configurable=!1,!o.set)throw new Error("Decorator '@"+e+"' can only be used on writable properties, but '"+n+"' seems to be a readonly property or a method.");var l=o.set;o.set=function(e){var t=r.getAny(this,n);t!==e&&(l.call(this,e),i(s,this,n,t,e))}}else{var p="@observable #"+n;Object.defineProperty(t,n,{get:function(){return r.getAny(this,p)},set:function(e){var t=r.getAny(this,p);t!==e&&(r.setAny(this,p,e),i(s,this,n,t,e))},enumerable:!0,configurable:!1})}Object.defineProperty(t,s,{value:[a],writable:!1,enumerable:!1,configurable:!1})}}},4389:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.disableDebugging=t.enableDebugging=t.DEBUG=t.Stack=t.Debounce=t.Throttle=t.Limiter=t.Enumerator=t.Flags=t.DateTime=t.Str=t.Num=t.Environment=t.Console=void 0,n(655).__exportStar(n(9226),t);var r=n(2862);Object.defineProperty(t,"Console",{enumerable:!0,get:function(){return r.Console}});var i=n(3206);Object.defineProperty(t,"Environment",{enumerable:!0,get:function(){return i.Environment}});var o=n(1984);Object.defineProperty(t,"Num",{enumerable:!0,get:function(){return o.Num}});var a=n(9930);Object.defineProperty(t,"Str",{enumerable:!0,get:function(){return a.Str}});var s=n(7729);Object.defineProperty(t,"DateTime",{enumerable:!0,get:function(){return s.DateTime}});var u=n(4957);Object.defineProperty(t,"Flags",{enumerable:!0,get:function(){return u.Flags}});var c=n(7269);Object.defineProperty(t,"Enumerator",{enumerable:!0,get:function(){return c.Enumerator}});var l=n(4569);Object.defineProperty(t,"Limiter",{enumerable:!0,get:function(){return l.Limiter}}),Object.defineProperty(t,"Throttle",{enumerable:!0,get:function(){return l.Throttle}}),Object.defineProperty(t,"Debounce",{enumerable:!0,get:function(){return l.Debounce}});var p=n(9439);Object.defineProperty(t,"Stack",{enumerable:!0,get:function(){return p.Stack}}),t.DEBUG=!1,t.enableDebugging=function(){t.DEBUG=!0},t.disableDebugging=function(){t.DEBUG=!1}},2862:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Console=void 0;var r=n(9930),i=n(7729);!function(e){function t(){return r.Str.padRight(i.DateTime.logTime," ",16,!0)}function n(e){return r.Str.padRight(e," ",23,!0)}e.time=t,e.module=n,e.log=function(e,r){return t()+n(e)+r}}(t.Console||(t.Console={}))},7551:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ENUMERATOR=t.UI=t.PROMISES=t.FRAMES=t.TICKS=t.IS_WEBWORKER=t.IS_NODE=t.IS_BROWSER=t.FUNCTION_PRECISE=t.FUNCTION_INTERVAL=t.FUNCTION_TIMEOUT=void 0;var r=n(1019),i=n(7269),o="undefined"!=typeof process&&process&&process.nextTick?function(e){process.nextTick(e)}:"undefined"!=typeof Promise&&Promise?function(e){Promise.resolve().then(e)}:function(e){setTimeout(e,0)},a="undefined"!=typeof Promise&&Promise?function(e){Promise.resolve().then(e)}:"undefined"!=typeof process&&process&&process.nextTick?function(e){process.nextTick(e)}:function(e){setTimeout(e,0)},s="undefined"!=typeof requestAnimationFrame?function(e){return requestAnimationFrame(e)||0}:function(e){return setTimeout(e,1e3/60)||0};t.FUNCTION_TIMEOUT=function(e,t){return void 0===t&&(t=0),setTimeout(e,t)||0},t.FUNCTION_INTERVAL=function(e,t){return void 0===t&&(t=0),setInterval(e,t)||0},t.FUNCTION_PRECISE=function(){return"undefined"!=typeof performance&&performance.now?performance.now():Date.now()},t.IS_BROWSER="undefined"!=typeof window,t.IS_NODE="undefined"==typeof window&&"undefined"!=typeof process,t.IS_WEBWORKER="undefined"!=typeof self&&"function"==typeof postMessage,t.TICKS=new r.Scheduler(o),t.FRAMES=new r.Scheduler(s),t.PROMISES=new r.Scheduler(a),t.UI={},t.ENUMERATOR=new i.Enumerator},7729:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.DateTime=void 0;var r=n(9226),i=n(1984),o=n(9930),a=n(7551),s=function(){function e(t){void 0===t&&(t=new Date),t instanceof e?this.m_pDate=new Date(t.time):r.isDate(t)?this.m_pDate=new Date(t.getTime()):this.m_pDate=new Date(t)}return Object.defineProperty(e,"now",{get:function(){return Date.now()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"precise",{get:function(){return a.FUNCTION_PRECISE()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"UTC",{get:function(){return this.now-60*(new Date).getTimezoneOffset()*1e3},enumerable:!1,configurable:!0}),Object.defineProperty(e,"today",{get:function(){var e=new Date;return e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e.getTime()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"UTCToday",{get:function(){var e=new Date,t=new Date;return t.setUTCFullYear(e.getFullYear()),t.setUTCMonth(e.getMonth()),t.setUTCDate(e.getDate()),t.setUTCHours(0),t.setUTCMinutes(0),t.setUTCSeconds(0),t.setUTCMilliseconds(0),t.getTime()},enumerable:!1,configurable:!0}),e.isFuture=function(e){return this.now<e},e.isPast=function(e){return this.now>=e},e.elapsed=function(e,t){return void 0===t&&(t=!1),(r.castToBoolean(t)?this.precise:this.now)-e},e.timerReset=function(){var e=this.m_nStamp;return this.m_nStamp=this.precise,e},Object.defineProperty(e,"timerElapsed",{get:function(){return this.precise-this.timerReset()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"timerStamp",{get:function(){return this.formatElapsed()},enumerable:!1,configurable:!0}),e.format=function(e,t,n,i){void 0===e&&(e="dd-MM-yyyy HH:mm:ss.SSS"),void 0===t&&(t=this.now),void 0===n&&(n=!1);var a=new Date(t);return o.Str.sanitize(e.replace(/('[^']+')|('')|(HH)|(H)|(hh)|(h)|(mm)|(m)|(ss)|(s)|(SSS)|(S)|(zzzz)|(z)|(dd)|(d)|(MMMMM)|(MMMM)|(MMM)|(MM)|(M)|(LLLLL)|(LLLL)|(LLL)|(EEEEE)|(EEEE)|(EEE)|(EE)|(E)|(ccccc)|(cccc)|(ccc)|(cc)|(yyyy)|(yy)|(y)|(a)/g,(function(e){switch(e){case"HH":return o.Str.padLeft(r.castToString(n?a.getUTCHours():a.getHours()),"0",2);case"H":return r.castToString(n?a.getUTCHours():a.getHours());case"hh":return o.Str.padLeft(r.castToString(((n?a.getUTCHours():a.getHours())+11)%12+1),"0",2);case"h":return r.castToString(((n?a.getUTCHours():a.getHours())+11)%12+1);case"a":return i?r.castToString((n?a.getUTCHours():a.getHours())>=12?i.PM:i.AM):"";case"mm":return o.Str.padLeft(r.castToString(n?a.getUTCMinutes():a.getMinutes()),"0",2);case"m":return r.castToString(n?a.getUTCMinutes():a.getMinutes());case"ss":return o.Str.padLeft(r.castToString(n?a.getUTCSeconds():a.getSeconds()),"0",2);case"s":return r.castToString(n?a.getUTCSeconds():a.getSeconds());case"SSS":return o.Str.padLeft(r.castToString(n?a.getUTCMilliseconds():a.getMilliseconds()),"0",3);case"S":return r.castToString(n?a.getUTCMilliseconds():a.getMilliseconds());case"z":case"zzzz":return"";case"dd":return o.Str.padLeft(r.castToString(n?a.getUTCDate():a.getDate()),"0",2);case"d":return r.castToString(n?a.getUTCDate():a.getDate());case"yyyy":case"y":return r.castToString(n?a.getUTCFullYear():a.getFullYear());case"yy":return o.Str.padLeft(r.castToString(n?a.getUTCFullYear():a.getFullYear()),"0",2,!0);case"MMMMM":return r.castToString(r.arrayItem(i?i.monthsFormattedNarrow:void 0,n?a.getUTCMonth():a.getMonth(),"?"));case"MMMM":return r.castToString(r.arrayItem(i?i.monthsFormattedWide:void 0,n?a.getUTCMonth():a.getMonth(),"?"));case"MMM":return r.castToString(r.arrayItem(i?i.monthsFormattedAbbreviated:void 0,n?a.getUTCMonth():a.getMonth(),"?"));case"MM":return o.Str.padLeft(r.castToString((n?a.getUTCMonth():a.getMonth())+1),"0",2);case"M":return r.castToString((n?a.getUTCMonth():a.getMonth())+1);case"LLLLL":return r.castToString(r.arrayItem(i?i.monthsNominativeNarrow:void 0,n?a.getUTCMonth():a.getMonth(),"?"));case"LLLL":return r.castToString(r.arrayItem(i?i.monthsNominativeWide:void 0,n?a.getUTCMonth():a.getMonth(),"?"));case"LLL":return r.castToString(r.arrayItem(i?i.monthsNominativeAbbreviated:void 0,n?a.getUTCMonth():a.getMonth(),"?"));case"EEEEE":return r.castToString(r.arrayItem(i?i.weekdaysFormattedNarrow:void 0,n?a.getUTCDay():a.getDay(),"?"));case"EEEE":return r.castToString(r.arrayItem(i?i.weekdaysFormattedWide:void 0,n?a.getUTCDay():a.getDay(),"?"));case"EEE":return r.castToString(r.arrayItem(i?i.weekdaysFormattedAbbreviated:void 0,n?a.getUTCDay():a.getDay(),"?"));case"EE":return r.castToString(r.arrayItem(i?i.weekdaysFormattedShort:void 0,n?a.getUTCDay():a.getDay(),"?"));case"E":return r.castToString(n?a.getUTCDay():a.getDay());case"ccccc":return r.castToString(r.arrayItem(i?i.weekdaysNominativeNarrow:void 0,n?a.getUTCDay():a.getDay(),"?"));case"cccc":return r.castToString(r.arrayItem(i?i.weekdaysNominativeWide:void 0,n?a.getUTCDay():a.getDay(),"?"));case"ccc":return r.castToString(r.arrayItem(i?i.weekdaysNominativeAbbreviated:void 0,n?a.getUTCDay():a.getDay(),"?"));case"cc":return r.castToString(r.arrayItem(i?i.weekdaysNominativeShort:void 0,n?a.getUTCDay():a.getDay(),"?"));case"''":return"'"}return e.replace(/'/g,"")})))},e.formatElapsed=function(e,t,n,a){var s,u,c,l,p,h;return void 0===e&&(e="H'h':mm'm':ss's'.SSS'ms'.uuu'µs'"),t=i.Num.conform(r.castToFloat(t,this.timerElapsed),3),s=Math.floor(t/36e5),u=Math.floor(t%36e5/6e4),c=Math.floor(t%36e5%6e4/1e3),h=r.castToString(i.Num.conform(t%36e5%6e4%1e3,3)).split("."),l=h[0],p=r.arraySize(h)>=2?h[1]:"0",o.Str.sanitize(e.replace(/('[^']+')|('')|(HH)|(H)|(hh)|(h)|(mm)|(m)|(ss)|(s)|(SSS)|(S)|(uuu)|(u)|(zzzz)|(z)|(dd)|(d)|(MMMMM)|(MMMM)|(MMM)|(MM)|(M)|(LLLLL)|(LLLL)|(LLL)|(EEEEE)|(EEEE)|(EEE)|(EE)|(E)|(ccccc)|(cccc)|(ccc)|(cc)|(yyyy)|(yy)|(y)|(a)/g,(function(e){switch(e){case"HH":return o.Str.padLeft(r.castToString(s),"0",2);case"H":return r.castToString(s);case"hh":return o.Str.padLeft(r.castToString((s+11)%12+1),"0",2);case"h":return r.castToString((s+11)%12+1);case"a":return r.castToString(s>=12?a:n);case"mm":return o.Str.padLeft(r.castToString(u),"0",2);case"m":return r.castToString(u);case"ss":return o.Str.padLeft(r.castToString(c),"0",2);case"s":return r.castToString(c);case"SSS":return o.Str.padLeft(l,"0",3);case"S":return l;case"uuu":return o.Str.padLeft(p,"0",3);case"u":return p;case"z":case"zzzz":return"";case"''":return"'"}return e.replace(/'/g,"")})))},Object.defineProperty(e,"log",{get:function(){return this.format("dd-MM-yyyy HH:mm:ss.SSS")},enumerable:!1,configurable:!0}),Object.defineProperty(e,"logTime",{get:function(){return this.format("HH:mm:ss.SSS")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"date",{get:function(){return this.m_pDate},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"time",{get:function(){return this.date.getTime()},set:function(e){this.m_pDate=new Date(e)},enumerable:!1,configurable:!0}),e.m_nStamp=0,e}();t.DateTime=s},7269:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Enumerator=void 0;var n=function(){function e(){this.m_nEnumerator=0}return Object.defineProperty(e,"n",{get:function(){return this.m_nEnumerator===Number.MAX_VALUE&&(this.m_nEnumerator=0),++this.m_nEnumerator},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"n",{get:function(){return this.m_nEnumerator===Number.MAX_VALUE&&(this.m_nEnumerator=0),++this.m_nEnumerator},set:function(e){e>this.m_nEnumerator&&e<=Number.MAX_VALUE&&(this.m_nEnumerator=e)},enumerable:!1,configurable:!0}),e.recycle=function(){this.m_nEnumerator=Number.MAX_VALUE},e.prototype.recycle=function(){this.m_nEnumerator=Number.MAX_VALUE},e.m_nEnumerator=0,e}();t.Enumerator=n},3206:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Environment=void 0;var r=n(7551);!function(e){e.isBrowser=r.IS_BROWSER,e.isNode=r.IS_NODE,e.isWebWorker=r.IS_WEBWORKER}(t.Environment||(t.Environment={}))},4957:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Flags=void 0;var r=n(9226),i=function(){function e(){this.m_nFlag=1}return Object.defineProperty(e.prototype,"flag",{get:function(){var e=this.m_nFlag;return this.m_nFlag=this.m_nFlag<<1,e},enumerable:!1,configurable:!0}),e.convert=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=1;return r.reduce(e,(function(e,t){return e|=t?n:0,n*=2,e}),0)||0},e.has=function(e,t){var n=1;if(t>0)for(;--t;)n*=2;return r.castToBoolean(e&n)},e}();t.Flags=i},9226:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.callEx=t.callPromise=t.callAsync=t.call=t.find=t.findLast=t.findFirst=t.filter=t.forEach=t.count=t.hasOneOrMore=t.hasOnly=t.has=t.reduce=t.map=t.eachReverse=t.each=t.compare=t.extendImmutable=t.extend=t.clone=t.castToBoolean=t.castToFloat=t.castToNumber=t.castToString=t.cast=t.assert=t.isError=t.isRegEx=t.isDate=t.lastArrayItem=t.firstArrayItem=t.arrayItem=t.arraySize=t.isArrayOrCollection=t.isCollection=t.isArray=t.isBoolean=t.isFloat=t.isNumberFinite=t.isNumber=t.isFilledString=t.stringLength=t.isString=t.isFunction=t.isObject=t.isNull=t.isDefined=t.isUndefined=t.noop=void 0,t.createInstanceOf=t.destroy=t.getFloat=t.getNumber=t.getString=t.getBoolean=t.getAny=t.get=t.setAny=t.set=t.scheduleAction=t.scheduleEvent=t.scheduleAnimation=t.scheduleNumberOfFrames=t.cancelUIInterval=t.scheduleUIInterval=t.cancelInterval=t.scheduleInterval=t.cancelUITimeout=t.scheduleUITimeout=t.cancelTimeout=t.scheduleTimeout=t.cancelFrame=t.scheduleAndCancelFrame=t.scheduleFrame=t.cancelPromise=t.scheduleAndCancelPromise=t.schedulePromise=t.cancelTick=t.scheduleAndCancelTick=t.scheduleTick=t.callFunction=t.callBind=void 0;var r=n(655),i=n(7729),o=n(7551);function a(e){return void 0===e}function s(e){return!a(e)}function u(e){return a(e)||"object"==typeof e&&null===e}function c(e){return"object"==typeof e&&null!==e&&!g(e)}function l(e){return"function"==typeof e}function p(e){return"string"==typeof e}function h(e){return p(e)?e.length:0}function f(e){return h(e)>0}function d(e,t,n){return"number"==typeof e&&isFinite(e)&&("number"!=typeof t||e>=t)&&("number"!=typeof n||e<=n)}function m(e){return"boolean"==typeof e}function g(e){return Array.isArray(e)}function b(e){return(c(e)||g(e)||l(e))&&"number"==typeof e.length&&"function"==typeof e.item}function y(e){return g(e)||b(e)?e.length:c(e)?y(Object.keys(e)):0}function _(e,t){return p(e)?e:s(e)&&!u(e)&&l(e.toString)?e.toString():p(t)?t:""}function v(e,t){if(d(e))return Math.round(e);if(m(e))return e?1:0;if(s(e)&&!u(e)&&l(e.toString)){var n=parseFloat(e.toString().replace(/[^-e\d.]/g,""));if(d(n))return Math.round(n)}return d(t)?Math.round(t):0}function S(e,t){if(d(e))return parseFloat(""+e);if(m(e))return e?1:0;if(s(e)&&!u(e)&&l(e.toString)){var n=parseFloat(e.toString().replace(/[^-e\d.]/g,""));if(d(n))return n}return d(t)?t:0}function P(e,t){if(m(e))return e;if(d(e))return!!e;if(s(e)&&!u(e)&&l(e.toString)){var n=e.toString();return!("0"===n||"false"===n.toLowerCase())}return!!t}function O(e,t,n){if(e&&t){var i,o=n&&n.arguments?n.arguments:void 0,a=!(!n||!n.replace);if(i=n&&n.keys?o?function(e,n){return t.apply(void 0,r.__spreadArray([e,n],o))}:function(e,n){return t(e,n)}:o?function(e){return t.apply(void 0,r.__spreadArray([e],o))}:function(e){return t(e)},g(e))e.forEach((function(t,n){var r=i(t,n);a&&(e[n]=r)}));else if(b(e))for(var s=e,u=s.length,c=0;c<u;c++)i(s.item(c),c);else Object.keys(e).forEach((function(t){var n=i(e[t],t);a&&(e[t]=n)}))}return e}function C(e,t,n){if(void 0===n&&(n=!1),e){var r=void 0,i=void 0;b(e)?r=e:g(e)||(i=Object.keys(e));for(var o=(i||r||e).length,a=0;a<o;a++)if(n===P(x(t,i?e[i[a]]:r?r.item(a):e[a])))return n;return!n}return!1}function k(e,t,n){var i,o,a,s=!(!n||"first"!==n.return),u=!(!n||"last"!==n.return);if(n&&n.return&&"matches"!==n.return||(i=[]),e){var c,h=void 0;b(e)?c=e:g(e)||(h=Object.keys(e));for(var f=(h||c||e).length,d=u?f-1:0;u&&d>=0||!u&&d<f;u?d--:d++)if(P(x(t,h?e[h[d]]:c?c.item(d):e[d]))){if(n&&l(n.do)){var m=x.apply(void 0,r.__spreadArray([n.do],(o=h?h[d]:d,a=n&&n.arguments?n.arguments.slice(0):[],p(o)?a.unshift(e[o]):c?a.unshift(c.item(o)):a.unshift(e[o]),a)));n&&n.replace&&!c&&(h?e[h[d]]=m:e[d]=m)}if(s||u)return h?e[h[d]]:c?c.item(d):e[d];i&&(h?i.push(e[h[d]]):c?i.push(c.item(d)):i.push(e[d]))}}return i}function x(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(e)return e.apply(void 0,t)}function T(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];o.TICKS.schedule.apply(o.TICKS,r.__spreadArray([e],t))}function M(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return o.TICKS.schedule.apply(o.TICKS,r.__spreadArray([e],t))}function w(e){return o.TICKS.cancel(e),0}function I(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return o.PROMISES.schedule.apply(o.PROMISES,r.__spreadArray([e],t))}function E(e){return o.PROMISES.cancel(e),0}function j(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return o.FRAMES.schedule.apply(o.FRAMES,r.__spreadArray([e],t))}function A(e){return o.FRAMES.cancel(e),0}function F(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];e&&(t>0?j((function(){return F.apply(void 0,r.__spreadArray([e,--t],n))})):e.apply(void 0,n))}function N(e,t){if(e&&f(t))return e[t]}function R(e,t){return!!(e&&f(t)&&s(e[t]))&&delete e[t]}t.noop=function(){},t.isUndefined=a,t.isDefined=s,t.isNull=u,t.isObject=c,t.isFunction=l,t.isString=p,t.stringLength=h,t.isFilledString=f,t.isNumber=function(e){return"number"==typeof e&&!isNaN(e)},t.isNumberFinite=d,t.isFloat=function(e,t,n){return"number"==typeof e&&isFinite(e)&&e%1!=0&&("number"!=typeof t||e>=t)&&("number"!=typeof n||e<=n)},t.isBoolean=m,t.isArray=g,t.isCollection=b,t.isArrayOrCollection=function(e){return g(e)||b(e)},t.arraySize=y,t.arrayItem=function(e,t,n){if(t=v(t),e)if(g(e)){if(t>=0&&t<y(e))return e[t]}else if(b(e)){if(t>=0&&t<y(e))return e.item(t)}else if(c(e)){var r=Object.keys(e);if(t>=0&&t<y(r))return e[r[t]]}return s(n)?n:void 0},t.firstArrayItem=function(e,t){if(e)if(g(e)){if(y(e)>0)return e[0]}else if(b(e)){if(y(e)>0)return e.item(0)}else if(c(e)){var n=Object.keys(e);if(y(n)>0)return e[n[0]]}return s(t)?t:void 0},t.lastArrayItem=function(e,t){if(e)if(g(e)){if((n=y(e))>0)return e[n-1]}else if(b(e)){if((n=y(e))>0)return e.item(n-1)}else if(c(e)){var n,r=Object.keys(e);if((n=y(r))>0)return e[r[n-1]]}return s(t)?t:void 0},t.isDate=function(e){return c(e)&&"[object Date]"===Object.prototype.toString.call(e)},t.isRegEx=function(e){return c(e)&&"[object RegExp]"===Object.prototype.toString.call(e)},t.isError=function(e){return e instanceof Error},t.assert=function(e,t){if(u(e))throw new Error(t||"Assert failed!");return e},t.cast=function(e){return e},t.castToString=_,t.castToNumber=v,t.castToFloat=S,t.castToBoolean=P,t.clone=function(e){return Object.create(e)},t.extend=function e(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=t;return O(n,(function(t){O(t,(function(t,n){c(t)&&c(i[n])?e(i[n],t):i[n]=t}),{keys:!0})})),i},t.extendImmutable=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r={};return O(t,(function(t){O(t,(function(t,n){c(t)&&c(r[n])?r[n]=e(r[n],t):r[n]=t}),{keys:!0})})),r},t.compare=function e(t,n,r){if(c(t)||g(t)){var i=void 0,o=void 0,a=!1,s=!1;if(c(t)!==c(n)||g(t)!==g(n))return!1;if(b(t)?a=!0:g(t)||(i=Object.keys(t)),b(n)?s=!0:g(n)||(o=Object.keys(n)),a!==s||g(i)!==g(o)||(i||t).length!==(o||n).length)return!1;for(var l=(i||t).length,p=0;p<l;p++){var h=i?i[p]:p,f=o?o[p]:p;if(h!==f||!e(a?t.item(h):t[h],s?n.item(f):n[f],r))return!1}return!0}return!(typeof t!=typeof n||u(t)!==u(n)||r&&t!==n)},t.each=O,t.eachReverse=function(e,t,n){if(e){var i,o=void 0;b(e)?i=e:g(e)||(o=Object.keys(e));for(var a=(o||i||e).length-1;a>=0;a--){var s=x.apply(void 0,r.__spreadArray([t],(u=o?o[a]:a,c=n&&n.arguments?n.arguments.slice(0):[],n&&n.keys&&c.unshift(u),p(u)?c.unshift(e[u]):i?c.unshift(i.item(u)):c.unshift(e[u]),c)));n&&n.replace&&!i&&(o?e[o[a]]=s:e[a]=s)}}var u,c;return e},t.map=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var o,a,s=[];if(e){var u,c=void 0;b(e)?u=e:g(e)||(c=Object.keys(e));for(var l=(c||u||e).length,h=0;h<l;h++)s.push(x.apply(void 0,r.__spreadArray([t],(o=c?c[h]:h,a=n.slice(0),p(o)?a.unshift(e[o]):u?a.unshift(u.item(o)):a.unshift(e[o]),a))))}return s},t.reduce=function(e,t,n){for(var i,o,a=[],s=3;s<arguments.length;s++)a[s-3]=arguments[s];if(e){var u,c=void 0;b(e)?u=e:g(e)||(c=Object.keys(e));for(var l=(c||u||e).length,h=0;h<l;h++)n=x.apply(void 0,r.__spreadArray([t],(i=c?c[h]:h,o=a.slice(0),p(i)?o.unshift(e[i]):u?o.unshift(u.item(i)):o.unshift(e[i]),o.unshift(n),o)))}return n},t.has=C,t.hasOnly=function(e,t){return C(e,t,!1)},t.hasOneOrMore=function(e,t){return C(e,t,!0)},t.count=function(e,t){var n=0;if(e){var r=void 0,i=void 0;b(e)?r=e:g(e)||(i=Object.keys(e));for(var o=(i||r||e).length,a=0;a<o;a++){var s=!0;l(t)&&(s=P(x(t,i?e[i[a]]:r?r.item(a):e[a]))),s&&n++}}return n},t.forEach=k,t.filter=function(e,t){return k(e,t)},t.findFirst=function(e,t){return k(e,t,{return:"first"})},t.findLast=function(e,t){return k(e,t,{return:"last"})},t.find=function(e,t){if(e){var n=void 0,r=void 0;b(e)?n=e:g(e)||(r=Object.keys(e));for(var i=(r||n||e).length,o=0;o<i;o++)if(P(x(t,r?e[r[o]]:n?n.item(o):e[o])))return r?r[o]:o}},t.call=x,t.callAsync=T,t.callPromise=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];o.PROMISES.schedule.apply(o.PROMISES,r.__spreadArray([e],t))},t.callEx=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];t?x.apply(void 0,r.__spreadArray([e],n)):T.apply(void 0,r.__spreadArray([e],n))},t.callBind=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(e&&t)return e.bind(t).apply(void 0,n)},t.callFunction=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(l(e))return e.apply(void 0,t)},t.scheduleTick=M,t.scheduleAndCancelTick=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];return w(t),M.apply(void 0,r.__spreadArray([e],n))},t.cancelTick=w,t.schedulePromise=I,t.scheduleAndCancelPromise=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];return E(t),I.apply(void 0,r.__spreadArray([e],n))},t.cancelPromise=E,t.scheduleFrame=j,t.scheduleAndCancelFrame=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];return A(t),j.apply(void 0,r.__spreadArray([e],n))},t.cancelFrame=A,t.scheduleTimeout=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return o.FUNCTION_TIMEOUT((function(){return e.apply(void 0,n)}),t)},t.cancelTimeout=function(e){return 0!==e&&clearTimeout(e),0},t.scheduleUITimeout=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var a=o.ENUMERATOR.n+1,s=_(a),u=i.DateTime.precise,c=function e(){o.UI[s]&&(i.DateTime.elapsed(u,!0)>=t?(o.UI[s].apply(o.UI,n),R(o.UI,s)):j(e))};return o.UI[s]=e,j(c),a},t.cancelUITimeout=function(e){return 0!==e&&R(o.UI,_(e)),0},t.scheduleInterval=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return o.FUNCTION_INTERVAL((function(){return e.apply(void 0,n)}),t)},t.cancelInterval=function(e){return 0!==e&&clearInterval(e),0},t.scheduleUIInterval=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var a=o.ENUMERATOR.n+1,s=_(a),u=i.DateTime.precise,c=function e(){o.UI[s]&&(i.DateTime.elapsed(u,!0)>=t&&(o.UI[s].apply(o.UI,n),u=i.DateTime.precise),j(e))};return o.UI[s]=e,j(c),a},t.cancelUIInterval=function(e){return 0!==e&&R(o.UI,_(e)),0},t.scheduleNumberOfFrames=F,t.scheduleAnimation=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];F.apply(void 0,r.__spreadArray([e,2],t))},t.scheduleEvent=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];F.apply(void 0,r.__spreadArray([e,2],t))},t.scheduleAction=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];F.apply(void 0,r.__spreadArray([e,5],t))},t.set=function(e,t,n){return e[t]=n},t.setAny=function(e,t,n){return(c(e)||l(e))&&f(t)?e[t]=n:n},t.get=function(e,t){return e[t]},t.getAny=N,t.getBoolean=function(e,t,n){return void 0===n&&(n=!1),P(N(e,t),n)},t.getString=function(e,t,n){return void 0===n&&(n=""),_(N(e,t),n)},t.getNumber=function(e,t,n){return void 0===n&&(n=0),v(N(e,t),n)},t.getFloat=function(e,t,n){return void 0===n&&(n=0),S(N(e,t),n)},t.destroy=R,t.createInstanceOf=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new(e.bind.apply(e,r.__spreadArray([void 0],t)))}},4569:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Debounce=t.Throttle=t.Limiter=void 0;var r=n(655),i=n(9226),o=n(7729),a=function(){function e(e,t,n){this.m_pArguments=[],this.m_nTime=0,this.m_nHandle=0,this.m_bPromise=!1,this.m_bFrame=!1,this.m_bDoubleFrame=!1,this.m_sHold=!1,this.m_bThrottle="debounce"!==e,this.m_bDelay="throttle-delay"===e,this.m_fnCallback=t,this.m_nTimeout="tick"!==n&&"promise"!==n&&"frame"!==n&&"double-frame"!==n&&n||0,this.m_bPromise="promise"===n,this.m_bFrame="frame"===n||"double-frame"===n,this.m_bDoubleFrame="double-frame"===n}return e.prototype.call=function(){this.m_nHandle=0,this.m_fnCallback.apply(this,this.m_pArguments)},e.prototype.invoke=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(!this.m_sHold&&this.m_bThrottle&&this.m_nTimeout>0){if(!this.m_bDelay)return void(o.DateTime.elapsed(this.m_nTime,!0)>=this.m_nTimeout&&(this.m_pArguments=t,this.m_nTime=o.DateTime.precise,this.call()));0!==this.m_nHandle&&o.DateTime.elapsed(this.m_nTime,!0)>=this.m_nTimeout&&(this.cancel(),this.call())}this.m_pArguments=t,this.m_bThrottle||this.cancel(),this.m_sHold?this.m_sHold="hold":0===this.m_nHandle&&(this.m_nTime=o.DateTime.precise,this.m_nTimeout>0?this.m_nHandle=i.scheduleTimeout((function(){return e.call()}),this.m_nTimeout):this.m_bPromise?this.m_nHandle=i.schedulePromise((function(){return e.call()})):this.m_bFrame?this.m_nHandle=i.scheduleFrame((function(){e.m_bDoubleFrame?e.m_nHandle=i.scheduleFrame((function(){return e.call()})):e.call()})):this.m_nHandle=i.scheduleTick((function(){return e.call()})))},e.prototype.cancel=function(){var e=this.m_nTimeout>0?i.cancelTimeout:this.m_bPromise?i.cancelPromise:this.m_bFrame?i.cancelFrame:i.cancelTick;this.m_nHandle=e(this.m_nHandle)},e.prototype.flush=function(){this.m_sHold=!1,0!==this.m_nHandle&&(this.cancel(),this.call())},e.prototype.hold=function(){this.m_sHold=this.m_sHold||(0===this.m_nHandle?"catch":"hold"),this.cancel()},e.prototype.release=function(e){if(void 0===e&&(e=!1),this.m_sHold){var t="hold"===this.m_sHold;this.m_sHold=!1,t&&(e?this.call():this.invoke.apply(this,this.m_pArguments))}},e}();t.Limiter=a;var s=function(e){function t(t,n,r){return void 0===n&&(n="frame"),void 0===r&&(r=!0),e.call(this,r?"throttle-delay":"throttle",t,n)||this}return r.__extends(t,e),t}(a);t.Throttle=s;var u=function(e){function t(t,n){return void 0===n&&(n="frame"),e.call(this,"debounce",t,n)||this}return r.__extends(t,e),t}(a);t.Debounce=u},1984:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Num=void 0;var r=n(9226);!function(e){function t(e,t){var n=Math.pow(10,t||0);return r.isNumberFinite(e)?Math.round(r.castToNumber((e*n).toFixed(1)))/n:0}e.round=function(e){return r.isNumberFinite(e)?Math.round(e):0},e.floor=function(e){return r.isNumberFinite(e)?Math.floor(e):0},e.ceil=function(e){return r.isNumberFinite(e)?Math.ceil(e):0},e.conform=t,e.positive=function(e){return r.isNumberFinite(e)&&e>0?e:0},e.negative=function(e){return r.isNumberFinite(e)&&e<0?e:0},e.max=function(e,t){return r.isNumberFinite(e)&&r.isNumberFinite(t)?Math.max(e,t):r.isNumberFinite(e)?e:r.isNumberFinite(t)?t:0},e.maxL=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=r.arraySize(e),i=NaN;if(n>0)for(var o=0;o<n;o++){var a=e[o];r.isNumberFinite(a)&&(!r.isNumberFinite(i)||a>i)&&(i=a)}return r.isNumberFinite(i)?i:0},e.min=function(e,t){return r.isNumberFinite(e)&&r.isNumberFinite(t)?Math.min(e,t):r.isNumberFinite(e)?e:r.isNumberFinite(t)?t:0},e.minL=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=r.arraySize(e),i=NaN;if(n>0)for(var o=0;o<n;o++){var a=e[o];r.isNumberFinite(a)&&(!r.isNumberFinite(i)||a<i)&&(i=a)}return r.isNumberFinite(i)?i:0},e.range=function(e,t,n){return r.isNumberFinite(e)?(r.isNumberFinite(n)&&t>n&&(t=n),r.isNumberFinite(t)&&e<t?t:r.isNumberFinite(n)&&e>n?n:e):r.isNumberFinite(t)?t:r.isNumberFinite(n)?n:0},e.inRange=function(e,t,n,i,o){return void 0===i&&(i=!0),void 0===o&&(o=!1),r.isNumberFinite(e)&&(i?e>=t:e>t)&&(o?e<=n:e<n)},e.format=function(e,n,i,o,a){var s,u,c;void 0===n&&(n=0),void 0===i&&(i=","),void 0===o&&(o="."),void 0===a&&(a="-");var l="";if(-1!==(""+(e="auto"===n?r.castToFloat(e):t(r.castToFloat(e),n))).indexOf("e"))if(-1!==(""+e).indexOf("e-"))for(var p=e,h=20;h>=0&&(e=p.toFixed(h).replace(/(0*$)/g,"")||"0",parseFloat(e)!==p);h--);else e=e<0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER;if(u=(s=r.castToString(e).replace("-",a).split("."))[0],c=r.arraySize(s)>=2?s[1]:"",r.isFilledString(i))for(var f=r.stringLength(u)-1,d=0;f>=0;f--)l=u.charAt(f)+(3===d&&u.charAt(f)!==a?i:"")+l,3===d&&(d=0),d++;else l=u;if(("auto"===n||n>0)&&((c||"auto"!==n)&&(l+=o+c),"auto"!==n))for(n-=r.stringLength(c);n>0;)l+="0",n--;return l}}(t.Num||(t.Num={}))},1019:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Scheduler=void 0;var n=function(){function e(e){this.m_fnScheduler=e,this.m_pStack=[],this.m_nCall=0,this.m_nOffset=0}return e.prototype.call=function(){for(var e=this,t=this.m_pStack.length,n=0;n<t;n++){var r=this.m_pStack[n];r&&r.callee&&r.callee.apply(r,r.arguments)}this.m_pStack.splice(0,t),this.m_pStack.length>0?(this.m_nOffset=this.m_nCall-this.m_pStack.length+1,this.m_fnScheduler((function(){return e.call()}))):this.m_nOffset=0},e.prototype.schedule=function(e){for(var t=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return e?(this.m_nCall++,this.m_pStack.push({callee:e,arguments:n}),0===this.m_nOffset&&(this.m_nOffset=this.m_nCall,this.m_fnScheduler((function(){return t.call()}))),this.m_nCall):0},e.prototype.cancel=function(e){this.m_nOffset>0&&e>=this.m_nOffset&&e<=this.m_nCall&&(this.m_pStack[e-this.m_nOffset]=void 0)},e}();t.Scheduler=n},9439:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Stack=void 0;var n=function(){function e(){this.m_pStack=[]}return e.prototype.add=function(e){this.m_pStack.push(e)},e.prototype.flush=function(){for(var e=this.m_pStack.length,t=0;t<e;t++)this.m_pStack[t]()},e.prototype.clear=function(){this.m_pStack=[]},e.prototype.flushAndClear=function(){this.flush(),this.clear()},e}();t.Stack=n},9930:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Str=void 0;var r=n(655),i=n(9226);!function(e){function t(e){return i.isFilledString(e)?e.toLowerCase():""}function n(e){return i.isFilledString(e)?e.replace(/(^\s*)|(\s*$)/g,""):""}function o(e){return i.isFilledString(e)?e.replace(/(\s*$)/g,""):""}function a(e){return i.isFilledString(e)?e.replace(/[^\S\r\n\.]{2,}/g," ").replace(/\n[^\S\r\n\.]/g,"\n"):""}function s(e){return a(n(e))}function u(e,t,n){return void 0===n&&(n=""),e=i.castToString(e),i.isNumberFinite(t)&&t>0&&t<i.stringLength(e)?i.isFilledString(n)?o(e.substr(0,t))+n:e.substr(0,t):e}function c(e,n,r,o){void 0===r&&(r=""),void 0===o&&(o=!1);var a="",s=0;return e=i.castToString(e),n=i.castToString(n),i.each(o?t(e).split(t(n)):e.split(n),(function(t){var o=i.stringLength(t);a+=(s>0?r:"")+e.substr(s,o),s+=o+i.stringLength(n)})),a}function l(e,t,n){void 0===t&&(t="");for(var o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];var s,u,c="";if(e){var l,p=void 0;i.isCollection(e)?l=e:i.isArray(e)||(p=Object.keys(e));for(var h=(p||l||e).length,f=0;f<h;f++)c+=(""===c?"":t)+i.castToString(n?i.call.apply(void 0,r.__spreadArray([n],(s=p?p[f]:f,u=o.slice(0),i.isString(s)?u.unshift(e[s]):l?u.unshift(l.item(s)):u.unshift(e[s]),u))):p?e[p[f]]:l?l.item(f):e[f])}return c}e.lowercase=t,e.uppercase=function(e){return i.isFilledString(e)?e.toUpperCase():""},e.capitalize=function(e,n,r){if(void 0===n&&(n="first-character"),void 0===r&&(r=!1),r&&(e=t(e)),i.isFilledString(e)){var o="each-sentence"===n?e.split("."):[e];return i.each(o,(function(e){var t="";if("each-word"!==n){for(var r=e.toString(),o=0;o<i.stringLength(r);){var a=r.charAt(o);if(" "!==a&&"\t"!==a&&"\r"!==a&&"\n"!==a&&"."!==a){r=r.substr(0,o)+r.substr(o,1).toUpperCase()+r.substr(o+1);break}o++}t+=(0===o?" ":"")+r}else t=e.replace(/(^|[\s`~!@#$%^&+\-*=_()[\]{};:'"\\|,<.>\/?])[^\s`~!@#$%^&+\-*=_()[\]{};:'"\\|,<.>\/?]/g,(function(e){return e.toUpperCase()}));return t}),{replace:!0}),s(l(o,"."))}return""},e.trim=n,e.trimLeft=function(e){return i.isFilledString(e)?e.replace(/(^\s*)/g,""):""},e.trimRight=o,e.trimMultiple=a,e.sanitize=s,e.removeWhitespaces=function(e){return i.isFilledString(e)?e.replace(/\s/g,""):""},e.limit=u,e.replace=c,e.replaceMultiple=function(e,t,n,r){return e=i.castToString(e),i.each(t,(function(t){e=c(e,t,n,r)})),e},e.makeHTMLSafe=function(e){return i.castToString(e).replace(/[<>]/g,(function(e){return"<"===e?"&lt;":"&gt;"}))},e.CRLFToHTML=function(e){return i.castToString(e).replace(/(\r\n|[\r\n])/g,"<br />")},e.iterateToString=l,e.extract=function(e,n){var r=i.castToString(n.left);if(e=i.castToString(e),i.isFilledString(r)){var o=(n.ignoreCase?t(e):e).indexOf(n.ignoreCase?t(r):r);if(-1!==o&&""!==(e=e.substr(o+i.stringLength(r)))){var a=i.isFilledString(n.right)?n.fromEnd?(n.ignoreCase?t(e):e).lastIndexOf(n.ignoreCase?t(n.right):n.right):(n.ignoreCase?t(e):e).indexOf(n.ignoreCase?t(n.right):n.right):i.stringLength(e);if(-1!==a)return e.substr(0,a)}}return""},e.fill=function(e,t){var n="";for(e=i.castToString(e),t=i.castToNumber(t);t>0;)n+=e,t--;return n},e.padLeft=function(e,t,n,r,o){var a=i.castToString(o||i.isNumberFinite(e)?i.castToNumber(e):e);if(i.isString(t)&&i.isNumberFinite(n)&&i.stringLength(t)>=1){var s,u="";if(s=(o||i.isNumberFinite(e))&&"-"===a.charAt(0),r&&i.stringLength(a)>n)return a.substr(i.stringLength(a)-n);if(i.stringLength(a)>=n)return a;s&&(a=a.substr(1));do{u+=t}while(i.stringLength(u)<n);return(s?"-":"")+(u+a).substr(i.stringLength(u+a)+(s?1:0)-n)}return a},e.padRight=function(e,t,n,r){var o=i.castToString(e);if(i.isString(t)&&i.isNumberFinite(n)&&i.stringLength(t)>=1){if(o=i.castToString(o),r&&i.stringLength(o)>n)return u(o,n);if(i.stringLength(o)>=n)return o;for(;i.stringLength(o)<n;)o=u(o+t,n)}return o},e.djb2Hash=function(e,t){void 0===t&&(t="");for(var n=i.stringLength(e),r=0,o=5381;r<n;)o=33*o^e.charCodeAt(r),r++;return t+(o>>>0).toString(36)}}(t.Str||(t.Str={}))},9165:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.hookup=t.Hooks=void 0;var r=n(5995);Object.defineProperty(t,"Hooks",{enumerable:!0,get:function(){return r.Hooks}});var i=n(1835);Object.defineProperty(t,"hookup",{enumerable:!0,get:function(){return i.hookup}})},1835:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.hookup=void 0;var r=n(2907);t.hookup=function(e){return function(t,n,i){r.observable("hookup",t,n,i,(function(t){t.target.emitHook(e,{property:t.property,value:t.newValue})}))}}},5995:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Hooks=void 0;var r=n(4389),i=function(){function e(){this.m_pHooks={},this.m_nHookTimeout=0,this.m_nHookFrame=0,this.m_nHookBuffer=0}return Object.defineProperty(e.prototype,"isHookBufferEnabled",{get:function(){return this.m_nHookBuffer>0},enumerable:!1,configurable:!0}),e.prototype.getHooks=function(e){var t=this.m_pHooks[e];if(t)return r.cast(t)},e.prototype.prepareHookPayload=function(e,t,n){return e.hook={name:t,type:n},e},e.prototype.scheduleHook=function(e){var t=this;"framed"===e?this.m_nHookFrame=r.scheduleAndCancelFrame((function(){return t.invokeHook(e)}),this.m_nHookFrame):this.m_nHookTimeout=r.scheduleAndCancelTick((function(){return t.invokeHook(e)}),this.m_nHookTimeout)},e.prototype.invokeHook=function(e){var t=this,n=new r.Stack;r.each(this.m_pHooks,(function(i,o){r.each(i,(function(i){i.type===e&&r.each(i.payloads.splice(0,i.payloads.length),(function(e){n.add((function(){return i.hook(t.prepareHookPayload(e,o,i.type))}))}))}))}),{keys:!0}),n.flush()},e.prototype.attachHook=function(e,t,n,r,i){(this.getHooks(e)||(this.m_pHooks[e]=[])).push({hook:n,payloads:[],type:t,group:r,context:i})},e.prototype.hook=function(e,t,n,r){return this.attachHook(e,t,n,!1,r),this},e.prototype.groupedHook=function(e,t,n,r){return this.attachHook(e,t,n,!0,r),this},e.prototype.emitHook=function(e,t,n){var i=this;void 0===n&&(n="fifo");var o=this.getHooks(e);if(o){var a=new r.Stack;return r.each(o,(function(r){"synchronous"!==r.type||i.isHookBufferEnabled?(r.group&&r.payloads.length>0?r.payloads[0]=t:"lifo"===n?r.payloads.splice(0,0,t):r.payloads.push(t),"synchronous"===r.type||i.isHookBufferEnabled||i.scheduleHook(r.type)):a.add((function(){return r.hook(i.prepareHookPayload(t,e,"synchronous"))}))})),a.flush(),!0}return!1},e.prototype.bufferHooks=function(){this.m_nHookTimeout=r.cancelTick(this.m_nHookTimeout),this.m_nHookFrame=r.cancelFrame(this.m_nHookFrame),this.m_nHookBuffer++},e.prototype.flushHooks=function(){var e=this;if(this.m_nHookBuffer>0&&(this.m_nHookBuffer--,0===this.m_nHookBuffer)){var t=new r.Stack;r.each(this.m_pHooks,(function(n,i){r.each(n,(function(n){"synchronous"===n.type?r.each(n.payloads.splice(0,n.payloads.length),(function(r){t.add((function(){return n.hook(e.prepareHookPayload(r,i,n.type))}))})):e.scheduleHook(n.type)}))}),{keys:!0}),t.flush()}},e.prototype.unhook=function(e,t){var n=this.getHooks(e);if(n){var i=!1;if(t)for(var o=n.length;o--;){var a=n[o];a.context!==t&&a.hook!==t||(n.splice(o,1),i=!0)}return t&&0!==n.length?i:(r.destroy(this.m_pHooks,e),!0)}return!1},e.prototype.unhookContext=function(e){var t=this,n=!1;return r.each(this.m_pHooks,(function(i,o){for(var a=i.length;a--;)i[a].context===e&&(i.splice(a,1),n=!0);0===i.length&&r.destroy(t.m_pHooks,o)}),{keys:!0}),n},e.prototype.destroy=function(){var e=this,t=new r.Stack;this.m_nHookTimeout=r.cancelTick(this.m_nHookTimeout),this.m_nHookFrame=r.cancelFrame(this.m_nHookFrame),this.m_nHookBuffer=0,r.each(this.m_pHooks,(function(n,i){r.each(n,(function(n){r.each(n.payloads.splice(0,n.payloads.length),(function(r){t.add((function(){return n.hook(e.prepareHookPayload(r,i,n.type))}))}))}))}),{keys:!0}),this.m_pHooks={},t.flush()},e}();t.Hooks=i},4600:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.DOMAINS=void 0,t.DOMAINS={af:["Afrikaans","Afrikaans"],"af-NA":["Afrikaans (Namibia)","Afrikaans (Namibië)"],agq:["Aghem","Aghem"],ak:["Akan","Akan"],am:["Amharic","አማርኛ"],ar:["Arabic","العربية"],"ar-AE":["Arabic (United Arab Emirates)","العربية (الإمارات العربية المتحدة)"],"ar-BH":["Arabic (Bahrain)","العربية (البحرين)"],"ar-DJ":["Arabic (Djibouti)","العربية (جيبوتي)"],"ar-DZ":["Arabic (Algeria)","العربية (الجزائر)"],"ar-EG":["Arabic (Egypt)","العربية (مصر)"],"ar-EH":["Arabic (Western Sahara)","العربية (الصحراء الغربية)"],"ar-ER":["Arabic (Eritrea)","العربية (إريتريا)"],"ar-IL":["Arabic (Israel)","العربية (إسرائيل)"],"ar-IQ":["Arabic (Iraq)","العربية (العراق)"],"ar-JO":["Arabic (Jordan)","العربية (الأردن)"],"ar-KM":["Arabic (Comoros)","العربية (جزر القمر)"],"ar-KW":["Arabic (Kuwait)","العربية (الكويت)"],"ar-LB":["Arabic (Lebanon)","العربية (لبنان)"],"ar-LY":["Arabic (Libya)","العربية (ليبيا)"],"ar-MA":["Arabic (Morocco)","العربية (المغرب)"],"ar-MR":["Arabic (Mauritania)","العربية (موريتانيا)"],"ar-OM":["Arabic (Oman)","العربية (عُمان)"],"ar-PS":["Arabic (Palestinian Territories)","العربية (الأراضي الفلسطينية)"],"ar-QA":["Arabic (Qatar)","العربية (قطر)"],"ar-SA":["Arabic (Saudi Arabia)","العربية (المملكة العربية السعودية)"],"ar-SD":["Arabic (Sudan)","العربية (السودان)"],"ar-SO":["Arabic (Somalia)","العربية (الصومال)"],"ar-SS":["Arabic (South Sudan)","العربية (جنوب السودان)"],"ar-SY":["Arabic (Syria)","العربية (سوريا)"],"ar-TD":["Arabic (Chad)","العربية (تشاد)"],"ar-TN":["Arabic (Tunisia)","العربية (تونس)"],"ar-YE":["Arabic (Yemen)","العربية (اليمن)"],as:["Assamese","অসমীয়া"],asa:["Asu","Kipare"],ast:["Asturian","asturianu"],az:["Azerbaijani","azərbaycan"],"az-Cyrl":["Azerbaijani (Cyrillic)","азәрбајҹан (Кирил)"],"az-Latn":["Azerbaijani (Latin)","azərbaycan (latın)"],bas:["Basaa","Ɓàsàa"],be:["Belarusian","беларуская"],bem:["Bemba","Ichibemba"],bez:["Bena","Hibena"],bg:["Bulgarian","български"],bm:["Bambara","bamanakan"],bn:["Bangla","বাংলা"],"bn-IN":["Bangla (India)","বাংলা (ভারত)"],bo:["Tibetan","བོད་སྐད་"],"bo-IN":["Tibetan (India)","བོད་སྐད་ (རྒྱ་གར་)"],br:["Breton","brezhoneg"],brx:["Bodo","बड़ो"],bs:["Bosnian","bosanski"],"bs-Cyrl":["Bosnian (Cyrillic)","босански (ћирилица)"],"bs-Latn":["Bosnian (Latin)","bosanski (latinica)"],ca:["Catalan","català"],"ca-AD":["Catalan (Andorra)","català (Andorra)"],"ca-ES-VALENCIA":["Catalan (Spain, Valencian)","català (Espanya, valencià)"],"ca-FR":["Catalan (France)","català (França)"],"ca-IT":["Catalan (Italy)","català (Itàlia)"],ccp:["Chakma","𑄌𑄋𑄴𑄟𑄳𑄦"],"ccp-IN":["Chakma (India)","𑄌𑄋𑄴𑄟𑄳𑄦 (𑄞𑄢𑄧𑄖𑄴)"],ce:["Chechen","нохчийн"],ceb:["Cebuano","Binisaya"],cgg:["Chiga","Rukiga"],chr:["Cherokee","ᏣᎳᎩ"],ckb:["Central Kurdish","کوردیی ناوەندی"],"ckb-IR":["Central Kurdish (Iran)","کوردیی ناوەندی (ئێران)"],cs:["Czech","čeština"],cy:["Welsh","Cymraeg"],da:["Danish","dansk"],"da-GL":["Danish (Greenland)","dansk (Grønland)"],dav:["Taita","Kitaita"],de:["German","Deutsch"],"de-AT":["German (Austria)","Deutsch (Österreich)"],"de-BE":["German (Belgium)","Deutsch (Belgien)"],"de-CH":["German (Switzerland)","Deutsch (Schweiz)"],"de-IT":["German (Italy)","Deutsch (Italien)"],"de-LI":["German (Liechtenstein)","Deutsch (Liechtenstein)"],"de-LU":["German (Luxembourg)","Deutsch (Luxemburg)"],dje:["Zarma","Zarmaciine"],doi:["Dogri","डोगरी"],dsb:["Lower Sorbian","dolnoserbšćina"],dua:["Duala","duálá"],dyo:["Jola-Fonyi","joola"],dz:["Dzongkha","རྫོང་ཁ"],ebu:["Embu","Kĩembu"],ee:["Ewe","Eʋegbe"],"ee-TG":["Ewe (Togo)","Eʋegbe (Togo nutome)"],el:["Greek","Ελληνικά"],"el-CY":["Greek (Cyprus)","Ελληνικά (Κύπρος)"],en:["English","English"],"en-001":["English (world)","English (world)"],"en-150":["English (Europe)","English (Europe)"],"en-AE":["English (United Arab Emirates)","English (United Arab Emirates)"],"en-AG":["English (Antigua & Barbuda)","English (Antigua & Barbuda)"],"en-AI":["English (Anguilla)","English (Anguilla)"],"en-AS":["English (American Samoa)","English (American Samoa)"],"en-AT":["English (Austria)","English (Austria)"],"en-AU":["English (Australia)","English (Australia)"],"en-BB":["English (Barbados)","English (Barbados)"],"en-BE":["English (Belgium)","English (Belgium)"],"en-BI":["English (Burundi)","English (Burundi)"],"en-BM":["English (Bermuda)","English (Bermuda)"],"en-BS":["English (Bahamas)","English (Bahamas)"],"en-BW":["English (Botswana)","English (Botswana)"],"en-BZ":["English (Belize)","English (Belize)"],"en-CA":["English (Canada)","English (Canada)"],"en-CC":["English (Cocos (Keeling) Islands)","English (Cocos (Keeling) Islands)"],"en-CH":["English (Switzerland)","English (Switzerland)"],"en-CK":["English (Cook Islands)","English (Cook Islands)"],"en-CM":["English (Cameroon)","English (Cameroon)"],"en-CX":["English (Christmas Island)","English (Christmas Island)"],"en-CY":["English (Cyprus)","English (Cyprus)"],"en-DE":["English (Germany)","English (Germany)"],"en-DG":["English (Diego Garcia)","English (Diego Garcia)"],"en-DK":["English (Denmark)","English (Denmark)"],"en-DM":["English (Dominica)","English (Dominica)"],"en-ER":["English (Eritrea)","English (Eritrea)"],"en-FI":["English (Finland)","English (Finland)"],"en-FJ":["English (Fiji)","English (Fiji)"],"en-FK":["English (Falkland Islands)","English (Falkland Islands)"],"en-FM":["English (Micronesia)","English (Micronesia)"],"en-GB":["English (United Kingdom)","English (United Kingdom)"],"en-GD":["English (Grenada)","English (Grenada)"],"en-GG":["English (Guernsey)","English (Guernsey)"],"en-GH":["English (Ghana)","English (Ghana)"],"en-GI":["English (Gibraltar)","English (Gibraltar)"],"en-GM":["English (Gambia)","English (Gambia)"],"en-GU":["English (Guam)","English (Guam)"],"en-GY":["English (Guyana)","English (Guyana)"],"en-HK":["English (Hong Kong SAR China)","English (Hong Kong SAR China)"],"en-IE":["English (Ireland)","English (Ireland)"],"en-IL":["English (Israel)","English (Israel)"],"en-IM":["English (Isle of Man)","English (Isle of Man)"],"en-IN":["English (India)","English (India)"],"en-IO":["English (British Indian Ocean Territory)","English (British Indian Ocean Territory)"],"en-JE":["English (Jersey)","English (Jersey)"],"en-JM":["English (Jamaica)","English (Jamaica)"],"en-KE":["English (Kenya)","English (Kenya)"],"en-KI":["English (Kiribati)","English (Kiribati)"],"en-KN":["English (St. Kitts & Nevis)","English (St. Kitts & Nevis)"],"en-KY":["English (Cayman Islands)","English (Cayman Islands)"],"en-LC":["English (St. Lucia)","English (St. Lucia)"],"en-LR":["English (Liberia)","English (Liberia)"],"en-LS":["English (Lesotho)","English (Lesotho)"],"en-MG":["English (Madagascar)","English (Madagascar)"],"en-MH":["English (Marshall Islands)","English (Marshall Islands)"],"en-MO":["English (Macao SAR China)","English (Macao SAR China)"],"en-MP":["English (Northern Mariana Islands)","English (Northern Mariana Islands)"],"en-MS":["English (Montserrat)","English (Montserrat)"],"en-MT":["English (Malta)","English (Malta)"],"en-MU":["English (Mauritius)","English (Mauritius)"],"en-MW":["English (Malawi)","English (Malawi)"],"en-MY":["English (Malaysia)","English (Malaysia)"],"en-NA":["English (Namibia)","English (Namibia)"],"en-NF":["English (Norfolk Island)","English (Norfolk Island)"],"en-NG":["English (Nigeria)","English (Nigeria)"],"en-NL":["English (Netherlands)","English (Netherlands)"],"en-NR":["English (Nauru)","English (Nauru)"],"en-NU":["English (Niue)","English (Niue)"],"en-NZ":["English (New Zealand)","English (New Zealand)"],"en-PG":["English (Papua New Guinea)","English (Papua New Guinea)"],"en-PH":["English (Philippines)","English (Philippines)"],"en-PK":["English (Pakistan)","English (Pakistan)"],"en-PN":["English (Pitcairn Islands)","English (Pitcairn Islands)"],"en-PR":["English (Puerto Rico)","English (Puerto Rico)"],"en-PW":["English (Palau)","English (Palau)"],"en-RW":["English (Rwanda)","English (Rwanda)"],"en-SB":["English (Solomon Islands)","English (Solomon Islands)"],"en-SC":["English (Seychelles)","English (Seychelles)"],"en-SD":["English (Sudan)","English (Sudan)"],"en-SE":["English (Sweden)","English (Sweden)"],"en-SG":["English (Singapore)","English (Singapore)"],"en-SH":["English (St. Helena)","English (St. Helena)"],"en-SI":["English (Slovenia)","English (Slovenia)"],"en-SL":["English (Sierra Leone)","English (Sierra Leone)"],"en-SS":["English (South Sudan)","English (South Sudan)"],"en-SX":["English (Sint Maarten)","English (Sint Maarten)"],"en-SZ":["English (Eswatini)","English (Eswatini)"],"en-TC":["English (Turks & Caicos Islands)","English (Turks & Caicos Islands)"],"en-TK":["English (Tokelau)","English (Tokelau)"],"en-TO":["English (Tonga)","English (Tonga)"],"en-TT":["English (Trinidad & Tobago)","English (Trinidad & Tobago)"],"en-TV":["English (Tuvalu)","English (Tuvalu)"],"en-TZ":["English (Tanzania)","English (Tanzania)"],"en-UG":["English (Uganda)","English (Uganda)"],"en-UM":["English (U.S. Outlying Islands)","English (U.S. Outlying Islands)"],"en-US-POSIX":["English (United States, Computer)","English (United States, Computer)"],"en-VC":["English (St. Vincent & Grenadines)","English (St. Vincent & Grenadines)"],"en-VG":["English (British Virgin Islands)","English (British Virgin Islands)"],"en-VI":["English (U.S. Virgin Islands)","English (U.S. Virgin Islands)"],"en-VU":["English (Vanuatu)","English (Vanuatu)"],"en-WS":["English (Samoa)","English (Samoa)"],"en-ZA":["English (South Africa)","English (South Africa)"],"en-ZM":["English (Zambia)","English (Zambia)"],"en-ZW":["English (Zimbabwe)","English (Zimbabwe)"],eo:["Esperanto","esperanto"],es:["Spanish","español"],"es-419":["Spanish (Latin America)","español (Latinoamérica)"],"es-AR":["Spanish (Argentina)","español (Argentina)"],"es-BO":["Spanish (Bolivia)","español (Bolivia)"],"es-BR":["Spanish (Brazil)","español (Brasil)"],"es-BZ":["Spanish (Belize)","español (Belice)"],"es-CL":["Spanish (Chile)","español (Chile)"],"es-CO":["Spanish (Colombia)","español (Colombia)"],"es-CR":["Spanish (Costa Rica)","español (Costa Rica)"],"es-CU":["Spanish (Cuba)","español (Cuba)"],"es-DO":["Spanish (Dominican Republic)","español (República Dominicana)"],"es-EA":["Spanish (Ceuta & Melilla)","español (Ceuta y Melilla)"],"es-EC":["Spanish (Ecuador)","español (Ecuador)"],"es-GQ":["Spanish (Equatorial Guinea)","español (Guinea Ecuatorial)"],"es-GT":["Spanish (Guatemala)","español (Guatemala)"],"es-HN":["Spanish (Honduras)","español (Honduras)"],"es-IC":["Spanish (Canary Islands)","español (Canarias)"],"es-MX":["Spanish (Mexico)","español (México)"],"es-NI":["Spanish (Nicaragua)","español (Nicaragua)"],"es-PA":["Spanish (Panama)","español (Panamá)"],"es-PE":["Spanish (Peru)","español (Perú)"],"es-PH":["Spanish (Philippines)","español (Filipinas)"],"es-PR":["Spanish (Puerto Rico)","español (Puerto Rico)"],"es-PY":["Spanish (Paraguay)","español (Paraguay)"],"es-SV":["Spanish (El Salvador)","español (El Salvador)"],"es-US":["Spanish (United States)","español (Estados Unidos)"],"es-UY":["Spanish (Uruguay)","español (Uruguay)"],"es-VE":["Spanish (Venezuela)","español (Venezuela)"],et:["Estonian","eesti"],eu:["Basque","euskara"],ewo:["Ewondo","ewondo"],fa:["Persian","فارسی"],"fa-AF":["Persian (Afghanistan)","فارسی (افغانستان)"],ff:["Fulah","Pulaar"],"ff-Adlm":["Fulah (Adlam)","𞤆𞤵𞤤𞤢𞤪 (𞤀𞤁𞤂𞤢𞤃)"],"ff-Adlm-BF":["Fulah (Adlam, Burkina Faso)","𞤆𞤵𞤤𞤢𞤪 (𞤀𞤁𞤂𞤢𞤃⹁ 𞤄𞤵𞤪𞤳𞤭𞤲𞤢 𞤊𞤢𞤧𞤮𞥅)"],"ff-Adlm-CM":["Fulah (Adlam, Cameroon)","𞤆𞤵𞤤𞤢𞤪 (𞤀𞤁𞤂𞤢𞤃⹁ 𞤑𞤢𞤥𞤢𞤪𞤵𞥅𞤲)"],"ff-Adlm-GH":["Fulah (Adlam, Ghana)","𞤆𞤵𞤤𞤢𞤪 (𞤀𞤁𞤂𞤢𞤃⹁ 𞤘𞤢𞤲𞤢)"],"ff-Adlm-GM":["Fulah (Adlam, Gambia)","𞤆𞤵𞤤𞤢𞤪 (𞤀𞤁𞤂𞤢𞤃⹁ 𞤘𞤢𞤥𞤦𞤭𞤴𞤢)"],"ff-Adlm-GW":["Fulah (Adlam, Guinea-Bissau)","𞤆𞤵𞤤𞤢𞤪 (𞤀𞤁𞤂𞤢𞤃⹁ 𞤘𞤭𞤲𞤫-𞤄𞤭𞤧𞤢𞤱𞤮𞥅)"],"ff-Adlm-LR":["Fulah (Adlam, Liberia)","𞤆𞤵𞤤𞤢𞤪 (𞤀𞤁𞤂𞤢𞤃⹁ 𞤂𞤢𞤦𞤭𞤪𞤭𞤴𞤢𞥄)"],"ff-Adlm-MR":["Fulah (Adlam, Mauritania)","𞤆𞤵𞤤𞤢𞤪 (𞤀𞤁𞤂𞤢𞤃⹁ 𞤃𞤮𞤪𞤼𞤢𞤲𞤭𞥅)"],"ff-Adlm-NE":["Fulah (Adlam, Niger)","𞤆𞤵𞤤𞤢𞤪 (𞤀𞤁𞤂𞤢𞤃⹁ 𞤐𞤭𞥅𞤶𞤫𞤪)"],"ff-Adlm-NG":["Fulah (Adlam, Nigeria)","𞤆𞤵𞤤𞤢𞤪 (𞤀𞤁𞤂𞤢𞤃⹁ 𞤐𞤢𞤶𞤫𞤪𞤭𞤴𞤢𞥄)"],"ff-Adlm-SL":["Fulah (Adlam, Sierra Leone)","𞤆𞤵𞤤𞤢𞤪 (𞤀𞤁𞤂𞤢𞤃⹁ 𞤅𞤢𞤪𞤢𞤤𞤮𞤲)"],"ff-Adlm-SN":["Fulah (Adlam, Senegal)","𞤆𞤵𞤤𞤢𞤪 (𞤀𞤁𞤂𞤢𞤃⹁ 𞤅𞤫𞤲𞤫𞤺𞤢𞥄𞤤)"],"ff-Latn":["Fulah (Latin)","Pulaar (Latn)"],"ff-Latn-BF":["Fulah (Latin, Burkina Faso)","Pulaar (Latn, Burkibaa Faaso)"],"ff-Latn-CM":["Fulah (Latin, Cameroon)","Pulaar (Latn, Kameruun)"],"ff-Latn-GH":["Fulah (Latin, Ghana)","Pulaar (Latn, Ganaa)"],"ff-Latn-GM":["Fulah (Latin, Gambia)","Pulaar (Latn, Gammbi)"],"ff-Latn-GN":["Fulah (Latin, Guinea)","Pulaar (Latn, Gine)"],"ff-Latn-GW":["Fulah (Latin, Guinea-Bissau)","Pulaar (Latn, Gine-Bisaawo)"],"ff-Latn-LR":["Fulah (Latin, Liberia)","Pulaar (Latn, Liberiyaa)"],"ff-Latn-MR":["Fulah (Latin, Mauritania)","Pulaar (Latn, Muritani)"],"ff-Latn-NE":["Fulah (Latin, Niger)","Pulaar (Latn, Nijeer)"],"ff-Latn-NG":["Fulah (Latin, Nigeria)","Pulaar (Latn, Nijeriyaa)"],"ff-Latn-SL":["Fulah (Latin, Sierra Leone)","Pulaar (Latn, Seraa liyon)"],fi:["Finnish","suomi"],fil:["Filipino","Filipino"],fo:["Faroese","føroyskt"],"fo-DK":["Faroese (Denmark)","føroyskt (Danmark)"],fr:["French","français"],"fr-BE":["French (Belgium)","français (Belgique)"],"fr-BF":["French (Burkina Faso)","français (Burkina Faso)"],"fr-BI":["French (Burundi)","français (Burundi)"],"fr-BJ":["French (Benin)","français (Bénin)"],"fr-BL":["French (St. Barthélemy)","français (Saint-Barthélemy)"],"fr-CA":["French (Canada)","français (Canada)"],"fr-CD":["French (Congo - Kinshasa)","français (Congo-Kinshasa)"],"fr-CF":["French (Central African Republic)","français (République centrafricaine)"],"fr-CG":["French (Congo - Brazzaville)","français (Congo-Brazzaville)"],"fr-CH":["French (Switzerland)","français (Suisse)"],"fr-CI":["French (Côte d’Ivoire)","français (Côte d’Ivoire)"],"fr-CM":["French (Cameroon)","français (Cameroun)"],"fr-DJ":["French (Djibouti)","français (Djibouti)"],"fr-DZ":["French (Algeria)","français (Algérie)"],"fr-GA":["French (Gabon)","français (Gabon)"],"fr-GF":["French (French Guiana)","français (Guyane française)"],"fr-GN":["French (Guinea)","français (Guinée)"],"fr-GP":["French (Guadeloupe)","français (Guadeloupe)"],"fr-GQ":["French (Equatorial Guinea)","français (Guinée équatoriale)"],"fr-HT":["French (Haiti)","français (Haïti)"],"fr-KM":["French (Comoros)","français (Comores)"],"fr-LU":["French (Luxembourg)","français (Luxembourg)"],"fr-MA":["French (Morocco)","français (Maroc)"],"fr-MC":["French (Monaco)","français (Monaco)"],"fr-MF":["French (St. Martin)","français (Saint-Martin)"],"fr-MG":["French (Madagascar)","français (Madagascar)"],"fr-ML":["French (Mali)","français (Mali)"],"fr-MQ":["French (Martinique)","français (Martinique)"],"fr-MR":["French (Mauritania)","français (Mauritanie)"],"fr-MU":["French (Mauritius)","français (Maurice)"],"fr-NC":["French (New Caledonia)","français (Nouvelle-Calédonie)"],"fr-NE":["French (Niger)","français (Niger)"],"fr-PF":["French (French Polynesia)","français (Polynésie française)"],"fr-PM":["French (St. Pierre & Miquelon)","français (Saint-Pierre-et-Miquelon)"],"fr-RE":["French (Réunion)","français (La Réunion)"],"fr-RW":["French (Rwanda)","français (Rwanda)"],"fr-SC":["French (Seychelles)","français (Seychelles)"],"fr-SN":["French (Senegal)","français (Sénégal)"],"fr-SY":["French (Syria)","français (Syrie)"],"fr-TD":["French (Chad)","français (Tchad)"],"fr-TG":["French (Togo)","français (Togo)"],"fr-TN":["French (Tunisia)","français (Tunisie)"],"fr-VU":["French (Vanuatu)","français (Vanuatu)"],"fr-WF":["French (Wallis & Futuna)","français (Wallis-et-Futuna)"],"fr-YT":["French (Mayotte)","français (Mayotte)"],fur:["Friulian","furlan"],fy:["Western Frisian","Frysk"],ga:["Irish","Gaeilge"],"ga-GB":["Irish (United Kingdom)","Gaeilge (an Ríocht Aontaithe)"],gd:["Scottish Gaelic","Gàidhlig"],gl:["Galician","galego"],gsw:["Swiss German","Schwiizertüütsch"],"gsw-FR":["Swiss German (France)","Schwiizertüütsch (Frankriich)"],"gsw-LI":["Swiss German (Liechtenstein)","Schwiizertüütsch (Liächteschtäi)"],gu:["Gujarati","ગુજરાતી"],guz:["Gusii","Ekegusii"],gv:["Manx","Gaelg"],ha:["Hausa","Hausa"],"ha-GH":["Hausa (Ghana)","Hausa (Gana)"],"ha-NE":["Hausa (Niger)","Hausa (Nijar)"],haw:["Hawaiian","ʻŌlelo Hawaiʻi"],he:["Hebrew","עברית"],hi:["Hindi","हिन्दी"],hr:["Croatian","hrvatski"],"hr-BA":["Croatian (Bosnia & Herzegovina)","hrvatski (Bosna i Hercegovina)"],hsb:["Upper Sorbian","hornjoserbšćina"],hu:["Hungarian","magyar"],hy:["Armenian","հայերեն"],ia:["Interlingua","interlingua"],id:["Indonesian","Indonesia"],ig:["Igbo","Igbo"],ii:["Sichuan Yi","ꆈꌠꉙ"],is:["Icelandic","íslenska"],it:["Italian","italiano"],"it-CH":["Italian (Switzerland)","italiano (Svizzera)"],"it-SM":["Italian (San Marino)","italiano (San Marino)"],"it-VA":["Italian (Vatican City)","italiano (Città del Vaticano)"],ja:["Japanese","日本語"],jgo:["Ngomba","Ndaꞌa"],jmc:["Machame","Kimachame"],jv:["Javanese","Jawa"],ka:["Georgian","ქართული"],kab:["Kabyle","Taqbaylit"],kam:["Kamba","Kikamba"],kde:["Makonde","Chimakonde"],kea:["Kabuverdianu","kabuverdianu"],khq:["Koyra Chiini","Koyra ciini"],ki:["Kikuyu","Gikuyu"],kk:["Kazakh","қазақ тілі"],kkj:["Kako","kakɔ"],kl:["Kalaallisut","kalaallisut"],kln:["Kalenjin","Kalenjin"],km:["Khmer","ខ្មែរ"],kn:["Kannada","ಕನ್ನಡ"],ko:["Korean","한국어"],"ko-KP":["Korean (North Korea)","한국어(조선민주주의인민공화국)"],kok:["Konkani","कोंकणी"],ks:["Kashmiri","کٲشُر"],"ks-Arab":["Kashmiri (Arabic)","کٲشُر (اَربی)"],ksb:["Shambala","Kishambaa"],ksf:["Bafia","rikpa"],ksh:["Colognian","Kölsch"],ku:["Kurdish","kurdî"],kw:["Cornish","kernewek"],ky:["Kyrgyz","кыргызча"],lag:["Langi","Kɨlaangi"],lb:["Luxembourgish","Lëtzebuergesch"],lg:["Ganda","Luganda"],lkt:["Lakota","Lakȟólʼiyapi"],ln:["Lingala","lingála"],"ln-AO":["Lingala (Angola)","lingála (Angóla)"],"ln-CF":["Lingala (Central African Republic)","lingála (Repibiki ya Afríka ya Káti)"],"ln-CG":["Lingala (Congo - Brazzaville)","lingála (Kongo)"],lo:["Lao","ລາວ"],lrc:["Northern Luri","لۊری شومالی"],"lrc-IQ":["Northern Luri (Iraq)","لۊری شومالی (IQ)"],lt:["Lithuanian","lietuvių"],lu:["Luba-Katanga","Tshiluba"],luo:["Luo","Dholuo"],luy:["Luyia","Luluhia"],lv:["Latvian","latviešu"],mai:["Maithili","मैथिली"],mas:["Masai","Maa"],"mas-TZ":["Masai (Tanzania)","Maa (Tansania)"],mer:["Meru","Kĩmĩrũ"],mfe:["Morisyen","kreol morisien"],mg:["Malagasy","Malagasy"],mgh:["Makhuwa-Meetto","Makua"],mgo:["Metaʼ","metaʼ"],mi:["Maori","te reo Māori"],mk:["Macedonian","македонски"],ml:["Malayalam","മലയാളം"],mn:["Mongolian","монгол"],mni:["Manipuri","মৈতৈলোন্"],"mni-Beng":["Manipuri (Bangla)","মৈতৈলোন্ (বাংলা)"],mr:["Marathi","मराठी"],ms:["Malay","Melayu"],"ms-BN":["Malay (Brunei)","Melayu (Brunei)"],"ms-ID":["Malay (Indonesia)","Melayu (Indonesia)"],"ms-SG":["Malay (Singapore)","Melayu (Singapura)"],mt:["Maltese","Malti"],mua:["Mundang","MUNDAŊ"],my:["Burmese","မြန်မာ"],mzn:["Mazanderani","مازرونی"],naq:["Nama","Khoekhoegowab"],nb:["Norwegian Bokmål","norsk bokmål"],"nb-SJ":["Norwegian Bokmål (Svalbard & Jan Mayen)","norsk bokmål (Svalbard og Jan Mayen)"],nd:["North Ndebele","isiNdebele"],nds:["Low German","nds"],"nds-NL":["Low German (Netherlands)","nds (NL)"],ne:["Nepali","नेपाली"],"ne-IN":["Nepali (India)","नेपाली (भारत)"],nl:["Dutch","Nederlands"],"nl-AW":["Dutch (Aruba)","Nederlands (Aruba)"],"nl-BE":["Dutch (Belgium)","Nederlands (België)"],"nl-BQ":["Dutch (Caribbean Netherlands)","Nederlands (Caribisch Nederland)"],"nl-CW":["Dutch (Curaçao)","Nederlands (Curaçao)"],"nl-SR":["Dutch (Suriname)","Nederlands (Suriname)"],"nl-SX":["Dutch (Sint Maarten)","Nederlands (Sint-Maarten)"],nmg:["Kwasio","nmg"],nn:["Norwegian Nynorsk","norsk nynorsk"],nnh:["Ngiemboon","Shwóŋò ngiembɔɔn"],no:["Norwegian","norsk"],nus:["Nuer","Thok Nath"],nyn:["Nyankole","Runyankore"],om:["Oromo","Oromoo"],"om-KE":["Oromo (Kenya)","Oromoo (Keeniyaa)"],or:["Odia","ଓଡ଼ିଆ"],os:["Ossetic","ирон"],"os-RU":["Ossetic (Russia)","ирон (Уӕрӕсе)"],pa:["Punjabi","ਪੰਜਾਬੀ"],"pa-Arab":["Punjabi (Arabic)","پنجابی (عربی)"],"pa-Guru":["Punjabi (Gurmukhi)","ਪੰਜਾਬੀ (ਗੁਰਮੁਖੀ)"],pcm:["Nigerian Pidgin","Naijíriá Píjin"],pl:["Polish","polski"],ps:["Pashto","پښتو"],"ps-PK":["Pashto (Pakistan)","پښتو (پاکستان)"],pt:["Portuguese","português"],"pt-AO":["Portuguese (Angola)","português (Angola)"],"pt-CH":["Portuguese (Switzerland)","português (Suíça)"],"pt-CV":["Portuguese (Cape Verde)","português (Cabo Verde)"],"pt-GQ":["Portuguese (Equatorial Guinea)","português (Guiné Equatorial)"],"pt-GW":["Portuguese (Guinea-Bissau)","português (Guiné-Bissau)"],"pt-LU":["Portuguese (Luxembourg)","português (Luxemburgo)"],"pt-MO":["Portuguese (Macao SAR China)","português (Macau, RAE da China)"],"pt-MZ":["Portuguese (Mozambique)","português (Moçambique)"],"pt-PT":["Portuguese (Portugal)","português (Portugal)"],"pt-ST":["Portuguese (São Tomé & Príncipe)","português (São Tomé e Príncipe)"],"pt-TL":["Portuguese (Timor-Leste)","português (Timor-Leste)"],qu:["Quechua","Runasimi"],"qu-BO":["Quechua (Bolivia)","Runasimi (Bolivia)"],"qu-EC":["Quechua (Ecuador)","Runasimi (Ecuador)"],rm:["Romansh","rumantsch"],rn:["Rundi","Ikirundi"],ro:["Romanian","română"],"ro-MD":["Romanian (Moldova)","română (Republica Moldova)"],rof:["Rombo","Kihorombo"],ru:["Russian","русский"],"ru-BY":["Russian (Belarus)","русский (Беларусь)"],"ru-KG":["Russian (Kyrgyzstan)","русский (Киргизия)"],"ru-KZ":["Russian (Kazakhstan)","русский (Казахстан)"],"ru-MD":["Russian (Moldova)","русский (Молдова)"],"ru-UA":["Russian (Ukraine)","русский (Украина)"],rw:["Kinyarwanda","Kinyarwanda"],rwk:["Rwa","Kiruwa"],sa:["Sanskrit","संस्कृत भाषा"],sah:["Sakha","саха тыла"],saq:["Samburu","Kisampur"],sat:["Santali","ᱥᱟᱱᱛᱟᱲᱤ"],"sat-Olck":["Santali (Ol Chiki)","ᱥᱟᱱᱛᱟᱲᱤ (ᱚᱞ ᱪᱤᱠᱤ)"],sbp:["Sangu","Ishisangu"],sd:["Sindhi","سنڌي"],"sd-Arab":["Sindhi (Arabic)","سنڌي (عربي)"],"sd-Deva":["Sindhi (Devanagari)","सिन्धी (देवनागिरी)"],se:["Northern Sami","davvisámegiella"],"se-FI":["Northern Sami (Finland)","davvisámegiella (Suopma)"],"se-SE":["Northern Sami (Sweden)","davvisámegiella (Ruoŧŧa)"],seh:["Sena","sena"],ses:["Koyraboro Senni","Koyraboro senni"],sg:["Sango","Sängö"],shi:["Tachelhit","ⵜⴰⵛⵍⵃⵉⵜ"],"shi-Latn":["Tachelhit (Latin)","Tashelḥiyt (Latn)"],"shi-Tfng":["Tachelhit (Tifinagh)","ⵜⴰⵛⵍⵃⵉⵜ (Tfng)"],si:["Sinhala","සිංහල"],sk:["Slovak","slovenčina"],sl:["Slovenian","slovenščina"],smn:["Inari Sami","anarâškielâ"],sn:["Shona","chiShona"],so:["Somali","Soomaali"],"so-DJ":["Somali (Djibouti)","Soomaali (Jabuuti)"],"so-ET":["Somali (Ethiopia)","Soomaali (Itoobiya)"],"so-KE":["Somali (Kenya)","Soomaali (Kenya)"],sq:["Albanian","shqip"],"sq-MK":["Albanian (North Macedonia)","shqip (Maqedonia e Veriut)"],"sq-XK":["Albanian (Kosovo)","shqip (Kosovë)"],sr:["Serbian","српски"],"sr-Cyrl":["Serbian (Cyrillic)","српски (ћирилица)"],"sr-Cyrl-BA":["Serbian (Cyrillic, Bosnia & Herzegovina)","српски (ћирилица, Босна и Херцеговина)"],"sr-Cyrl-ME":["Serbian (Cyrillic, Montenegro)","српски (ћирилица, Црна Гора)"],"sr-Cyrl-XK":["Serbian (Cyrillic, Kosovo)","српски (ћирилица, Косово)"],"sr-Latn":["Serbian (Latin)","srpski (latinica)"],"sr-Latn-BA":["Serbian (Latin, Bosnia & Herzegovina)","srpski (latinica, Bosna i Hercegovina)"],"sr-Latn-ME":["Serbian (Latin, Montenegro)","srpski (latinica, Crna Gora)"],"sr-Latn-XK":["Serbian (Latin, Kosovo)","srpski (latinica, Kosovo)"],su:["Sundanese","Basa Sunda"],"su-Latn":["Sundanese (Latin)","Basa Sunda (Latin)"],sv:["Swedish","svenska"],"sv-AX":["Swedish (Åland Islands)","svenska (Åland)"],"sv-FI":["Swedish (Finland)","svenska (Finland)"],sw:["Swahili","Kiswahili"],"sw-CD":["Swahili (Congo - Kinshasa)","Kiswahili (Jamhuri ya Kidemokrasia ya Kongo)"],"sw-KE":["Swahili (Kenya)","Kiswahili (Kenya)"],"sw-UG":["Swahili (Uganda)","Kiswahili (Uganda)"],ta:["Tamil","தமிழ்"],"ta-LK":["Tamil (Sri Lanka)","தமிழ் (இலங்கை)"],"ta-MY":["Tamil (Malaysia)","தமிழ் (மலேசியா)"],"ta-SG":["Tamil (Singapore)","தமிழ் (சிங்கப்பூர்)"],te:["Telugu","తెలుగు"],teo:["Teso","Kiteso"],"teo-KE":["Teso (Kenya)","Kiteso (Kenia)"],tg:["Tajik","тоҷикӣ"],th:["Thai","ไทย"],ti:["Tigrinya","ትግር"],"ti-ER":["Tigrinya (Eritrea)","ትግር (ኤርትራ)"],tk:["Turkmen","türkmen dili"],to:["Tongan","lea fakatonga"],tr:["Turkish","Türkçe"],"tr-CY":["Turkish (Cyprus)","Türkçe (Kıbrıs)"],tt:["Tatar","татар"],twq:["Tasawaq","Tasawaq senni"],tzm:["Central Atlas Tamazight","Tamaziɣt n laṭlaṣ"],ug:["Uyghur","ئۇيغۇرچە"],uk:["Ukrainian","українська"],ur:["Urdu","اردو"],"ur-IN":["Urdu (India)","اردو (بھارت)"],uz:["Uzbek","o‘zbek"],"uz-Arab":["Uzbek (Arabic)","اوزبیک (عربی)"],"uz-Cyrl":["Uzbek (Cyrillic)","ўзбекча (Кирил)"],"uz-Latn":["Uzbek (Latin)","o‘zbek (lotin)"],vai:["Vai","ꕙꔤ"],"vai-Latn":["Vai (Latin)","Vai (Latn)"],"vai-Vaii":["Vai (Vai)","ꕙꔤ (Vaii)"],vi:["Vietnamese","Tiếng Việt"],vun:["Vunjo","Kyivunjo"],wae:["Walser","Walser"],wo:["Wolof","Wolof"],xh:["Xhosa","isiXhosa"],xog:["Soga","Olusoga"],yav:["Yangben","nuasue"],yi:["Yiddish","ייִדיש"],yo:["Yoruba","Èdè Yorùbá"],"yo-BJ":["Yoruba (Benin)","Èdè Yorùbá (Bɛ̀nɛ̀)"],yue:["Cantonese","粵語"],"yue-Hans":["Cantonese (Simplified)","粤语 (简体)"],"yue-Hant":["Cantonese (Traditional)","粵語 (繁體)"],zgh:["Standard Moroccan Tamazight","ⵜⴰⵎⴰⵣⵉⵖⵜ"],zh:["Chinese","中文"],"zh-Hans":["Chinese (Simplified)","中文（简体）"],"zh-Hans-HK":["Chinese (Simplified, Hong Kong SAR China)","中文（简体，中国香港特别行政区）"],"zh-Hans-MO":["Chinese (Simplified, Macao SAR China)","中文（简体，中国澳门特别行政区）"],"zh-Hans-SG":["Chinese (Simplified, Singapore)","中文（简体，新加坡）"],"zh-Hant":["Chinese (Traditional)","中文（繁體）"],"zh-Hant-HK":["Chinese (Traditional, Hong Kong SAR China)","中文（繁體字，中國香港特別行政區）"],"zh-Hant-MO":["Chinese (Traditional, Macao SAR China)","中文（繁體字，中國澳門特別行政區）"],zu:["Zulu","isiZulu"]}},5466:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Namespace=t.Plurals=t._n=t._=t.dnpgettext=t.npgettext=t.dpgettext=t.pgettext=t.dngettext=t.ngettext=t.dgettext=t.gettext=t.Locales=t.LOCALE_DEFAULTS=t.CONTEXT_SEPARATOR=t.Domain=t.Translations=t.Translation=void 0;var r=n(9091);Object.defineProperty(t,"Translation",{enumerable:!0,get:function(){return r.Translation}});var i=n(4060);Object.defineProperty(t,"Translations",{enumerable:!0,get:function(){return i.Translations}}),Object.defineProperty(t,"Domain",{enumerable:!0,get:function(){return i.Translations}}),Object.defineProperty(t,"CONTEXT_SEPARATOR",{enumerable:!0,get:function(){return i.CONTEXT_SEPARATOR}});var o=n(6333);Object.defineProperty(t,"LOCALE_DEFAULTS",{enumerable:!0,get:function(){return o.DEFAULTS}}),Object.defineProperty(t,"Locales",{enumerable:!0,get:function(){return o.Locales}});var a=n(4083);Object.defineProperty(t,"gettext",{enumerable:!0,get:function(){return a.gettext}}),Object.defineProperty(t,"dgettext",{enumerable:!0,get:function(){return a.dgettext}}),Object.defineProperty(t,"ngettext",{enumerable:!0,get:function(){return a.ngettext}}),Object.defineProperty(t,"dngettext",{enumerable:!0,get:function(){return a.dngettext}}),Object.defineProperty(t,"pgettext",{enumerable:!0,get:function(){return a.pgettext}}),Object.defineProperty(t,"dpgettext",{enumerable:!0,get:function(){return a.dpgettext}}),Object.defineProperty(t,"npgettext",{enumerable:!0,get:function(){return a.npgettext}}),Object.defineProperty(t,"dnpgettext",{enumerable:!0,get:function(){return a.dnpgettext}}),Object.defineProperty(t,"_",{enumerable:!0,get:function(){return a._}}),Object.defineProperty(t,"_n",{enumerable:!0,get:function(){return a._n}});var s=n(9903);Object.defineProperty(t,"Plurals",{enumerable:!0,get:function(){return s.Plurals}});var u=n(5051);Object.defineProperty(t,"Namespace",{enumerable:!0,get:function(){return u.Namespace}})},4083:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t._n=t._=t.dnpgettext=t.npgettext=t.dpgettext=t.pgettext=t.dngettext=t.ngettext=t.dgettext=t.gettext=void 0;var r=n(655),i=n(4060),o=n(6333);t.gettext=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return i.Translations.translate.apply(i.Translations,r.__spreadArray([i.Translations.current,"",e,!1,"",0],t))},t.dgettext=function(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];return i.Translations.translate.apply(i.Translations,r.__spreadArray([e,"",t,!1,"",0],n))},t.ngettext=function(e,t,n){for(var a=[],s=3;s<arguments.length;s++)a[s-3]=arguments[s];return i.Translations.translate.apply(i.Translations,r.__spreadArray([i.Translations.current,"",e,!0,t,n,o.Locales.number(n)],a))},t.dngettext=function(e,t,n,a){for(var s=[],u=4;u<arguments.length;u++)s[u-4]=arguments[u];return i.Translations.translate.apply(i.Translations,r.__spreadArray([e,"",t,!0,n,a,o.Locales.number(a,0,!0,e)],s))},t.pgettext=function(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];return i.Translations.translate.apply(i.Translations,r.__spreadArray([i.Translations.current,e,t,!1,"",0],n))},t.dpgettext=function(e,t,n){for(var o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return i.Translations.translate.apply(i.Translations,r.__spreadArray([e,t,n,!1,"",0],o))},t.npgettext=function(e,t,n,a){for(var s=[],u=4;u<arguments.length;u++)s[u-4]=arguments[u];return i.Translations.translate.apply(i.Translations,r.__spreadArray([i.Translations.current,e,t,!0,n,a,o.Locales.number(a)],s))},t.dnpgettext=function(e,t,n,a,s){for(var u=[],c=5;c<arguments.length;c++)u[c-5]=arguments[c];return i.Translations.translate.apply(i.Translations,r.__spreadArray([e,t,n,!0,a,s,o.Locales.number(s,0,!0,e)],u))},t._=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return i.Translations.translate.apply(i.Translations,r.__spreadArray([i.Translations.current,"",e,!1,"",0],t))},t._n=function(e,t,n){for(var a=[],s=3;s<arguments.length;s++)a[s-3]=arguments[s];return i.Translations.translate.apply(i.Translations,r.__spreadArray([i.Translations.current,"",e,!0,t,n,o.Locales.number(n)],a))}},6333:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Locales=t.DEFAULTS=void 0;var r=n(4389),i=n(4600);t.DEFAULTS={locale:"en",domain:"en",direction:"ltr",countryCode:"",country:"",countryNative:"",language:"English",languageNative:"English",translations:{months:{formatted:{abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},nominative:{abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]}},days:{formatted:{abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},nominative:{abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},time:{AM:"AM",PM:"PM"}},formats:{date:{full:"EEEE, MMMM d, y",long:"MMMM d, y",medium:"MMM d, y",short:"M/d/yy"},time:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTime:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}"},numbers:{decimals:".",grouping:",",minus:"-"}}};var o=function(){function e(){}return Object.defineProperty(e,"locale",{get:function(){return this.m_pLocale||t.DEFAULTS},enumerable:!1,configurable:!0}),Object.defineProperty(e,"identifier",{get:function(){return this.locale.locale},enumerable:!1,configurable:!0}),Object.defineProperty(e,"domain",{get:function(){return this.locale.domain},enumerable:!1,configurable:!0}),Object.defineProperty(e,"countryCode",{get:function(){return this.locale.countryCode},enumerable:!1,configurable:!0}),Object.defineProperty(e,"country",{get:function(){return this.locale.country},enumerable:!1,configurable:!0}),Object.defineProperty(e,"countryNative",{get:function(){return this.locale.countryNative},enumerable:!1,configurable:!0}),Object.defineProperty(e,"language",{get:function(){return this.locale.language},enumerable:!1,configurable:!0}),Object.defineProperty(e,"languageNative",{get:function(){return this.locale.languageNative},enumerable:!1,configurable:!0}),Object.defineProperty(e,"locales",{get:function(){var e=[];return r.each(i.DOMAINS,(function(t,n){e.push(n)}),{keys:!0}),e},enumerable:!1,configurable:!0}),Object.defineProperty(e,"domains",{get:function(){var e=[];return r.each(i.DOMAINS,(function(t,n){e.push({locale:n,language:t[0],native:t[1]})}),{keys:!0}),e},enumerable:!1,configurable:!0}),e.isLoaded=function(e){return r.isFilledString(e)&&r.isObject(this.m_pLocales[e.toLowerCase()])},e.load=function(e,n){var i=this;void 0===n&&(n=!0);var o=!1;return r.each(r.isArray(e)?e:[e],(function(e){r.compare(e,t.DEFAULTS,!1)&&(i.isLoaded(e.locale)||(i.m_pLocales[e.locale.toLowerCase()]=r.extendImmutable(e)),o=!0)})),o&&n&&!r.isArray(e)&&this.set(e.locale),o},e.get=function(e){return(r.isFilledString(e)?this.m_pLocales[e.toLowerCase()]:void 0)||this.locale},e.set=function(e){return r.isObject(this.m_pLocale=this.isLoaded(e)&&this.m_pLocales[e.toLowerCase()].locale===e?this.m_pLocales[e.toLowerCase()]:void 0)},e.findDomain=function(e){var t=this;if(!e||i.DOMAINS[e])return e||"";e=r.Str.replace(e.toLowerCase(),"_","-"),this.m_pDomains||(this.m_pDomains={},r.each(i.DOMAINS,(function(e,n){t.m_pDomains[n.toLowerCase()]=n}),{keys:!0}));for(var n=this.m_pDomains[e];!n&&-1!==e.lastIndexOf("-");)e=e.substr(0,e.lastIndexOf("-")),n=this.m_pDomains[e];return n||""},e.getDomain=function(e){e=this.findDomain(e)||this.locale.domain;var t=i.DOMAINS[e];return{locale:e,language:t[0],native:t[1]}},e.number=function(e,t,n,i){void 0===t&&(t=0),void 0===n&&(n=!0);var o=this.get(i);return r.Num.format(e,t,n?o.formats.numbers.grouping:"",o.formats.numbers.decimals,o.formats.numbers.minus)},e.dateTime=function(e,t,n,i){void 0===t&&(t=r.DateTime.now),void 0===n&&(n=!1);var o=this.get(i);return r.DateTime.format(e,t,n,{monthsFormattedAbbreviated:o.translations.months.formatted.abbreviated,monthsFormattedNarrow:o.translations.months.formatted.narrow,monthsFormattedWide:o.translations.months.formatted.wide,monthsNominativeAbbreviated:o.translations.months.nominative.abbreviated,monthsNominativeNarrow:o.translations.months.nominative.narrow,monthsNominativeWide:o.translations.months.nominative.wide,weekdaysFormattedAbbreviated:o.translations.days.formatted.abbreviated,weekdaysFormattedNarrow:o.translations.days.formatted.narrow,weekdaysFormattedShort:o.translations.days.formatted.short,weekdaysFormattedWide:o.translations.days.formatted.wide,weekdaysNominativeAbbreviated:o.translations.days.nominative.abbreviated,weekdaysNominativeNarrow:o.translations.days.nominative.narrow,weekdaysNominativeShort:o.translations.days.nominative.short,weekdaysNominativeWide:o.translations.days.nominative.wide,AM:o.translations.time.AM,PM:o.translations.time.PM})},e.dateFull=function(e,t,n){return void 0===e&&(e=r.DateTime.now),void 0===t&&(t=!1),this.dateTime(this.get(n).formats.date.full,e,t,n)},e.dateLong=function(e,t,n){return void 0===e&&(e=r.DateTime.now),void 0===t&&(t=!1),this.dateTime(this.get(n).formats.date.long,e,t,n)},e.dateMedium=function(e,t,n){return void 0===e&&(e=r.DateTime.now),void 0===t&&(t=!1),this.dateTime(this.get(n).formats.date.medium,e,t,n)},e.dateShort=function(e,t,n){return void 0===e&&(e=r.DateTime.now),void 0===t&&(t=!1),this.dateTime(this.get(n).formats.date.short,e,t,n)},e.timeFull=function(e,t,n){return void 0===e&&(e=r.DateTime.now),void 0===t&&(t=!1),this.dateTime(this.get(n).formats.time.full,e,t,n)},e.timeLong=function(e,t,n){return void 0===e&&(e=r.DateTime.now),void 0===t&&(t=!1),this.dateTime(this.get(n).formats.time.long,e,t,n)},e.timeMedium=function(e,t,n){return void 0===e&&(e=r.DateTime.now),void 0===t&&(t=!1),this.dateTime(this.get(n).formats.time.medium,e,t,n)},e.timeShort=function(e,t,n){return void 0===e&&(e=r.DateTime.now),void 0===t&&(t=!1),this.dateTime(this.get(n).formats.time.short,e,t,n)},e.dateTimeFull=function(e,t,n){void 0===e&&(e=r.DateTime.now),void 0===t&&(t=!1);var i=this.get(n);return this.dateTime(r.Str.replace(r.Str.replace(i.formats.dateTime.full,"{0}",i.formats.time.full),"{1}",i.formats.date.full),e,t,n)},e.dateTimeLong=function(e,t,n){void 0===e&&(e=r.DateTime.now),void 0===t&&(t=!1);var i=this.get(n);return this.dateTime(r.Str.replace(r.Str.replace(i.formats.dateTime.long,"{0}",i.formats.time.long),"{1}",i.formats.date.long),e,t,n)},e.dateTimeMedium=function(e,t,n){void 0===e&&(e=r.DateTime.now),void 0===t&&(t=!1);var i=this.get(n);return this.dateTime(r.Str.replace(r.Str.replace(i.formats.dateTime.medium,"{0}",i.formats.time.medium),"{1}",i.formats.date.medium),e,t,n)},e.dateTimeShort=function(e,t,n){void 0===e&&(e=r.DateTime.now),void 0===t&&(t=!1);var i=this.get(n);return this.dateTime(r.Str.replace(r.Str.replace(i.formats.dateTime.short,"{0}",i.formats.time.short),"{1}",i.formats.date.short),e,t,n)},Object.defineProperty(e.prototype,"locale",{get:function(){return this.m_pLocale||e.locale},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"identifier",{get:function(){return this.locale.locale},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"domain",{get:function(){return this.locale.domain},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"countryCode",{get:function(){return this.locale.countryCode},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"country",{get:function(){return this.locale.country},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"countryNative",{get:function(){return this.locale.countryNative},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"language",{get:function(){return this.locale.language},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageNative",{get:function(){return this.locale.languageNative},enumerable:!1,configurable:!0}),e.prototype.load=function(t){var n=e.load(t,!1);return this.set(t.locale),n},e.prototype.set=function(t){return r.isObject(this.m_pLocale=e.isLoaded(t)&&e.m_pLocales[t.toLowerCase()].locale===t?e.m_pLocales[t.toLowerCase()]:void 0)},e.prototype.number=function(t,n,r){return void 0===n&&(n=0),void 0===r&&(r=!0),e.number(t,n,r,this.identifier)},e.prototype.dateTime=function(t,n,i){return void 0===n&&(n=r.DateTime.now),void 0===i&&(i=!1),e.dateTime(t,n,i,this.identifier)},e.prototype.dateFull=function(t,n){return void 0===t&&(t=r.DateTime.now),void 0===n&&(n=!1),e.dateFull(t,n,this.identifier)},e.prototype.dateLong=function(t,n){return void 0===t&&(t=r.DateTime.now),void 0===n&&(n=!1),e.dateLong(t,n,this.identifier)},e.prototype.dateMedium=function(t,n){return void 0===t&&(t=r.DateTime.now),void 0===n&&(n=!1),e.dateMedium(t,n,this.identifier)},e.prototype.dateShort=function(t,n){return void 0===t&&(t=r.DateTime.now),void 0===n&&(n=!1),e.dateShort(t,n,this.identifier)},e.prototype.timeFull=function(t,n){return void 0===t&&(t=r.DateTime.now),void 0===n&&(n=!1),e.timeFull(t,n,this.identifier)},e.prototype.timeLong=function(t,n){return void 0===t&&(t=r.DateTime.now),void 0===n&&(n=!1),e.timeLong(t,n,this.identifier)},e.prototype.timeMedium=function(t,n){return void 0===t&&(t=r.DateTime.now),void 0===n&&(n=!1),e.timeMedium(t,n,this.identifier)},e.prototype.timeShort=function(t,n){return void 0===t&&(t=r.DateTime.now),void 0===n&&(n=!1),e.timeShort(t,n,this.identifier)},e.prototype.dateTimeFull=function(t,n){return void 0===t&&(t=r.DateTime.now),void 0===n&&(n=!1),e.dateTimeFull(t,n,this.identifier)},e.prototype.dateTimeLong=function(t,n){return void 0===t&&(t=r.DateTime.now),void 0===n&&(n=!1),e.dateTimeLong(t,n,this.identifier)},e.prototype.dateTimeMedium=function(t,n){return void 0===t&&(t=r.DateTime.now),void 0===n&&(n=!1),e.dateTimeMedium(t,n,this.identifier)},e.prototype.dateTimeShort=function(t,n){return void 0===t&&(t=r.DateTime.now),void 0===n&&(n=!1),e.dateTimeShort(t,n,this.identifier)},e.m_pLocales={},e}();t.Locales=o},5051:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Namespace=void 0;var r=n(655),i=n(4060),o=n(6333),a=function(){function e(e,t){this.m_pLocale=t?o.Locales:new o.Locales,this.m_pTranslations=e?i.Translations:new i.Translations}return Object.defineProperty(e,"global",{get:function(){return this.m_pNamespaces[""]||(this.m_pNamespaces[""]=new e(!0,!0))},enumerable:!1,configurable:!0}),e.create=function(t){return this.m_pNamespaces[t]||(this.m_pNamespaces[t]=new e(!1,!1))},e.translation=function(t){return this.m_pNamespaces[t]||(this.m_pNamespaces[t]=new e(!1,!0))},Object.defineProperty(e.prototype,"locale",{get:function(){return this.m_pLocale},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"default",{get:function(){return this.m_pTranslations.default},set:function(e){this.m_pTranslations.default=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"current",{get:function(){return this.m_pTranslations.current},set:function(e){this.m_pTranslations.current=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"domains",{get:function(){return this.m_pTranslations.domains},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"load",{get:function(){var e=this;return function(t,n,r){return void 0===n&&(n=!0),void 0===r&&(r="enrich"),e.m_pTranslations.load(t,n,r)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"unload",{get:function(){var e=this;return function(t){return e.m_pTranslations.unload(t)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isLoaded",{get:function(){var e=this;return function(t){return e.m_pTranslations.isLoaded(t)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"reset",{get:function(){var e=this;return function(t){return e.m_pTranslations.reset(t)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gettext",{get:function(){var e=this;return function(t){for(var n,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];return(n=e.m_pTranslations).translate.apply(n,r.__spreadArray([e.m_pTranslations.current,"",t,!1,"",0],i))}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dgettext",{get:function(){var e=this;return function(t,n){for(var i,o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];return(i=e.m_pTranslations).translate.apply(i,r.__spreadArray([t,"",n,!1,"",0],o))}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ngettext",{get:function(){var e=this;return function(t,n,i){for(var o,a=[],s=3;s<arguments.length;s++)a[s-3]=arguments[s];return(o=e.m_pTranslations).translate.apply(o,r.__spreadArray([e.m_pTranslations.current,"",t,!0,n,i,e.m_pLocale.number(i)],a))}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dngettext",{get:function(){var e=this;return function(t,n,i,a){for(var s,u=[],c=4;c<arguments.length;c++)u[c-4]=arguments[c];return(s=e.m_pTranslations).translate.apply(s,r.__spreadArray([t,"",n,!0,i,a,o.Locales.number(a,0,!0,t)],u))}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pgettext",{get:function(){var e=this;return function(t,n){for(var i,o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];return(i=e.m_pTranslations).translate.apply(i,r.__spreadArray([e.m_pTranslations.current,t,n,!1,"",0],o))}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dpgettext",{get:function(){var e=this;return function(t,n,i){for(var o,a=[],s=3;s<arguments.length;s++)a[s-3]=arguments[s];return(o=e.m_pTranslations).translate.apply(o,r.__spreadArray([t,n,i,!1,"",0],a))}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"npgettext",{get:function(){var e=this;return function(t,n,i,o){for(var a,s=[],u=4;u<arguments.length;u++)s[u-4]=arguments[u];return(a=e.m_pTranslations).translate.apply(a,r.__spreadArray([e.m_pTranslations.current,t,n,!0,i,o,e.m_pLocale.number(o)],s))}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dnpgettext",{get:function(){var e=this;return function(t,n,i,a,s){for(var u,c=[],l=5;l<arguments.length;l++)c[l-5]=arguments[l];return(u=e.m_pTranslations).translate.apply(u,r.__spreadArray([t,n,i,!0,a,s,o.Locales.number(s,0,!0,t)],c))}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_",{get:function(){var e=this;return function(t){for(var n,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];return(n=e.m_pTranslations).translate.apply(n,r.__spreadArray([e.m_pTranslations.current,"",t,!1,"",0],i))}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_n",{get:function(){var e=this;return function(t,n,i){for(var o,a=[],s=3;s<arguments.length;s++)a[s-3]=arguments[s];return(o=e.m_pTranslations).translate.apply(o,r.__spreadArray([e.m_pTranslations.current,"",t,!0,n,i,e.m_pLocale.number(i)],a))}},enumerable:!1,configurable:!0}),e.m_pNamespaces={},e}();t.Namespace=a},9903:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Plurals=void 0;var r=n(4389),i=n(6333),o={"Asian (Chinese, Japanese, Korean)":{rules:["Everything"],expression:"nplurals=1; plural=0;",locales:["zh","ja","ko"],fn:function(e){return 0}},Persian:{rules:["Everything"],expression:"nplurals=1; plural=0;",locales:["fa"],fn:function(e){return 0}},"Turkic/Altaic (Turkish)":{rules:["Everything"],expression:"nplurals=1; plural=0;",locales:["tr"],fn:function(e){return 0}},Thai:{rules:["Everything"],expression:"nplurals=1; plural=0;",locales:["th"],fn:function(e){return 0}},Lao:{rules:["Everything"],expression:"nplurals=1; plural=0;",locales:["lo"],fn:function(e){return 0}},"Germanic (Danish, Dutch, English, Faroese, Frisian, German, Norwegian, Swedish)":{rules:["Is 1","Everything else"],expression:"nplurals=2; plural=(n != 1);",locales:["da","nl","en","fo","fy","de","nn","sv"],fn:function(e){return 1!==e?1:0}},"Finno-Ugric (Estonian, Finnish, Hungarian)":{rules:["Is 1","Everything else"],expression:"nplurals=2; plural=(n != 1);",locales:["et","fi","hu"],fn:function(e){return 1!==e?1:0}},"Language isolate (Basque)":{rules:["Is 1","Everything else"],expression:"nplurals=2; plural=(n != 1);",locales:["eu"],fn:function(e){return 1!==e?1:0}},"Latin/Greek (Greek)":{rules:["Is 1","Everything else"],expression:"nplurals=2; plural=(n != 1);",locales:["el"],fn:function(e){return 1!==e?1:0}},"Semitic (Hebrew)":{rules:["Is 1","Everything else"],expression:"nplurals=2; plural=(n != 1);",locales:["he"],fn:function(e){return 1!==e?1:0}},"Romanic (Italian, Portuguese, Spanish, Catalan)":{rules:["Is 1","Everything else"],expression:"nplurals=2; plural=(n != 1);",locales:["it","pt","es","ca"],fn:function(e){return 1!==e?1:0}},Vietnamese:{rules:["Is 1","Everything else"],expression:"nplurals=2; plural=(n != 1);",locales:["vi"],fn:function(e){return 1!==e?1:0}},"Romanic (French, Brazilian Portuguese)":{rules:["Is 0 or 1","Everything else"],expression:"nplurals=2; plural=(n > 1);",locales:["fr","pt_BR"],fn:function(e){return e>1?1:0}},Lingala:{rules:["Is 0 or 1","Everything else"],expression:"nplurals=2; plural=(n > 1);",locales:["ln"],fn:function(e){return e>1?1:0}},"Baltic (Latvian, Latgalian)":{rules:["Ends in 0","Ends in 1, excluding 11","Everything else"],expression:"nplurals=3; plural=(n%10==0 || (n%100>=11 && n%100<=19) ? 0 : n%10==1 && n%100!=11 ? 1 : 2);",locales:["lv"],fn:function(e){return e%10==0||e%100>=11&&e%100<=19?0:e%10==1&&e%100!=11?1:2}},"Celtic (Scottish Gaelic)":{rules:["Is 1 or 11","Is 2 or 12","Is 3-10 or 13-19","Everything else"],expression:"nplurals=4; plural=(n==1 || n==11 ? 0 : n==2 || n==12 ? 1 : (n>=3 && n<=10) || (n>=13 && n<=19) ? 2 : 3);",locales:["gd"],fn:function(e){return 1===e||11===e?0:2===e||12===e?1:e>=3&&e<=10||e>=13&&e<=19?2:3}},"Romanic (Romanian)":{rules:["Is 1","Is 0 or ends in 01-19, excluding 1","Everything else"],expression:"nplurals=3; plural=(n==1 ? 0 : n==0 || (n!=1 && n%100>=1 && n%100<=19) ? 1 : 2);",locales:["ro"],fn:function(e){return 1===e?0:0===e||1!==e&&e%100>=1&&e%100<=19?1:2}},"Baltic (Lithuanian)":{rules:["Ends in 1, excluding 11","Ends in 0 or ends in 11-19","Everything else"],expression:"nplurals=3; plural=(n%10==1 && (n%100<11 || n%100>19) ? 0 : n%10>=2 && n%10<=9 && (n%100<11 || n%100>19) ? 1 : 2);",locales:["lt"],fn:function(e){return e%10==1&&(e%100<11||e%100>19)?0:e%10>=2&&e%10<=9&&(e%100<11||e%100>19)?1:2}},Belarusian:{rules:["Ends in 1, excluding 11","Ends in 2-4, excluding 12-14","Everything else"],expression:"nplurals=3; plural=(n%10==1 && n%100!=11 ? 0 : n%10>=2 && n%10<=4 && (n%100<12 || n%100>14) ? 1 : 2);",locales:["be"],fn:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<12||e%100>14)?1:2}},Russian:{rules:["Ends in 1, excluding 11","Ends in 2-4, excluding 12-14","Everything else"],expression:"nplurals=3; plural=(n%10==1 && n%100!=11 ? 0 : n%10>=2 && n%10<=4 && (n%100<12 || n%100>14) ? 1 : 2);",locales:["ru"],fn:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<12||e%100>14)?1:2}},Ukrainian:{rules:["Ends in 1, excluding 11","Ends in 2-4, excluding 12-14","Everything else"],expression:"nplurals=3; plural=(n%10==1 && n%100!=11 ? 0 : n%10>=2 && n%10<=4 && (n%100<12 || n%100>14) ? 1 : 2);",locales:["uk"],fn:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<12||e%100>14)?1:2}},"Slavic (Slovak, Czech)":{rules:["Is 1","Is 2-4","Everything else"],expression:"nplurals=3; plural=(n==1 ? 0 : n>=2 && n<=4 ? 1 : 2);",locales:["sk","cs"],fn:function(e){return 1===e?0:e>=2&&e<=4?1:2}},"Slavic (Polish)":{rules:["Is 1","Ends in 2-4, excluding 12-14","Everything else"],expression:"nplurals=3; plural=(n==1 ? 0 : n%10>=2 && n%10<=4 && (n%100<12 || n%100>14) ? 1 : 2);",locales:["pl"],fn:function(e){return 1===e?0:e%10>=2&&e%10<=4&&(e%100<12||e%100>14)?1:2}},"Slavic (Slovenian, Sorbian)":{rules:["Ends in 01","Ends in 02","Ends in 03-04","Everything else"],expression:"nplurals=4; plural=(n%100==1 ? 0 : n%100==2 ? 1 : n%100>=3 && n%100<=4 ? 2 : 3);",locales:["sl","dsb","hsb"],fn:function(e){return e%100==1?0:e%100==2?1:e%100>=3&&e%100<=4?2:3}},"Celtic (Irish Gaelic)":{rules:["Is 1","Is 2","Is 3-6","Is 7-10","Everything else"],expression:"nplurals=5; plural=(n==1 ? 0 : n==2 ? 1 : n>=3 && n<=6 ? 2 : n>=7 && n<=10 ? 3 : 4);",locales:["ga"],fn:function(e){return 1===e?0:2===e?1:e>=3&&e<=6?2:e>=7&&e<=10?3:4}},"Semitic (Arabic)":{rules:["Is 0","Is 1","Is 2","Ends in 03-10","Everything else but is 0 and ends in 00-02, excluding 0-2","Ends in 00-02, excluding 0-2"],expression:"nplurals=6; plural=(n==0 ? 0 : n==1 ? 1 : n==2 ? 2 : n%100>=3 && n%100<=10 ? 3 : n%100>=11 && n%100<=99 ? 4 : 5);",locales:["ar"],fn:function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11&&e%100<=99?4:5}},"Semitic (Maltese)":{rules:["Is 1","Is 0 or ends in 01-10, excluding 1","Ends in 11-19","Everything else"],expression:"nplurals=4; plural=(n==1 ? 0 : n==0 || (n%100>=2 && n%100<=10) ? 1 : n%100>=11 && n%100<=19 ? 2 : 3);",locales:["mt"],fn:function(e){return 1===e?0:0===e||e%100>=2&&e%100<=10?1:e%100>=11&&e%100<=19?2:3}},Icelandic:{rules:["Ends in 1, excluding 11","Everything else"],expression:"nplurals=2; plural=(n%10==1 && n%100!=11 ? 0 : 1);",locales:["is"],fn:function(e){return e%10==1&&e%100!=11?0:1}},Macedonian:{rules:["Ends in 1, excluding 11","Everything else"],expression:"nplurals=2; plural=(n%10==1 && n%100!=11 ? 0 : 1);",locales:["mk"],fn:function(e){return e%10==1&&e%100!=11?0:1}},"Celtic (Breton)":{rules:["Ends in 1, excluding 11, 71, 91","Ends in 2, excluding 12, 72, 92","Ends in 3, 4 or 9 excluding 13, 14, 19, 73, 74, 79, 93, 94, 99","Ends in 000000","Everything else"],expression:"nplurals=5; plural=(n%10==1 && n%100!=11 && n%100!=71 && n%100!=91 ? 0 : n%10==2 && n%100!=12 && n%100!=72 && n%100!=92 ? 1 : ((n%10>=3 && n%10<=4) || n%10==9) && (n%100<10 || n%100>19) && (n%100<70 || n%100>79) && (n%100<90 || n%100>99) ? 2 : n!=0 && n%1000000==0 ? 3 : 4);",locales:["br"],fn:function(e){return e%10==1&&e%100!=11&&e%100!=71&&e%100!=91?0:e%10==2&&e%100!=12&&e%100!=72&&e%100!=92?1:(e%10>=3&&e%10<=4||e%10==9)&&(e%100<10||e%100>19)&&(e%100<70||e%100>79)&&(e%100<90||e%100>99)?2:0!==e&&e%1e6==0?3:4}},"Ecuador indigenous languages (Shuar)":{rules:["Is 0","Everything else"],expression:"nplurals=2; plural=(n != 0);",locales:[],fn:function(e){return 0!==e?1:0}},Welsh:{rules:["Is 0","Is 1","Is 2","Is 3","Is 6","Everything else"],expression:"nplurals=6; plural=(n==0 ? 0 : n==1 ? 1 : n==2 ? 2 : n==3 ? 3 : n==6 ? 4 : 5);",locales:["cy"],fn:function(e){return 0===e?0:1===e?1:2===e?2:3===e?3:6===e?4:5}},"Slavic (Bosnian, Croatian, Serbian)":{rules:["Ends in 1, excluding 11","Ends in 2-4, excluding 12-14","Everything else"],expression:"nplurals=3; plural=(n%10==1 && n%100!=11 ? 0 : n%10>=2 && n%10<=4 && (n%100<12 || n%100>14) ? 1 : 2);",locales:["bs","hr","sr"],fn:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<12||e%100>14)?1:2}}},a=function(){function e(){}return Object.defineProperty(e,"rules",{get:function(){var e=[];return r.each(o,(function(t,n){e.push({family:n,rules:t.rules,expression:t.expression,locales:t.locales,fn:t.fn})}),{keys:!0}),e.sort((function(e,t){return e.family.localeCompare(t.family,i.Locales.domain,{sensitivity:"base"})}))},enumerable:!1,configurable:!0}),Object.defineProperty(e,"locales",{get:function(){var e={};return r.each(o,(function(t,n){r.each(t.locales,(function(r){e[r]={family:n,rules:t.rules,expression:t.expression,locales:t.locales,fn:t.fn}}))}),{keys:!0}),e},enumerable:!1,configurable:!0}),e.getForLocale=function(e){return this.locales[e||i.Locales.domain]},e.getForFamily=function(e){return r.findFirst(this.rules,(function(t){return t.family===e}))},e.getForExpression=function(e){return r.findFirst(this.rules,(function(t){return t.expression===e}))||r.findFirst(this.rules,(function(t){return r.Str.removeWhitespaces(t.expression)===r.Str.removeWhitespaces(e)}))},e}();t.Plurals=a},9091:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Translation=void 0;var r=n(4389),i=n(9903),o=function(){function e(e){this.m_nPlurals=1;var t=(this.m_pTranslation=r.extendImmutable(e))[""];if(r.isObject(t)){var n=r.castToString(t["plural-forms"]);if(r.isFilledString(n)){var o=i.Plurals.getForExpression(n);if(o&&o.rules.length>0)this.m_nPlurals=o.rules.length,this.m_fnPlural=o.fn;else{var a,s=/nplurals\=(\d+);/;if(n=n.replace(/^\s\s*/,"").replace(/\s\s*$/,""),/;\s*$/.test(n)||(n=n.concat(";")),(a=r.castToNumber(r.arrayItem(n.match(s),1)))>1&&(n=n.replace(s,""),n=r.castToString(r.arrayItem(n.match(/plural\=(.*);/),1)),r.isFilledString(n)&&/^[0-9n\u002b\u002d\u002a\u002f\u0025\u003e\u003c\u003d\u0021\u007e\u007c\u0026\u005e\u0028\u0029\u003a\u003b\u003f\s]+$/.test(n))){var u=new Function("n","return "+n);this.m_nPlurals=a,this.m_fnPlural=function(e){return r.castToNumber(u(e))}}}}}}return Object.defineProperty(e.prototype,"plurals",{get:function(){return this.m_nPlurals},enumerable:!1,configurable:!0}),e.prototype.enrich=function(e,t){var n=this;r.each(e,(function(e,r){!r||n.m_pTranslation[r]&&!t||(n.m_pTranslation[r]=e)}),{keys:!0})},e.prototype.plural=function(e){return r.Num.range(this.m_fnPlural?this.m_fnPlural(e):1!==e?1:0,0,this.plurals-1)},e.prototype.translation=function(e){return this.m_pTranslation[e]},e}();t.Translation=o},4060:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Translations=t.ARGUMENTS_SEPARATOR=t.DOMAIN_SEPARATOR=t.CONTEXT_SEPARATOR=void 0;var r=n(655),i=n(4389),o=n(9091),a=n(6333);t.CONTEXT_SEPARATOR="",t.DOMAIN_SEPARATOR="",t.ARGUMENTS_SEPARATOR="";var s=function(){function e(){this.m_pTranslations={},this.m_pCache={},this.m_sDefault=a.Locales.domain,this.m_sCurrent=""}return e.assert=function(){return this.m_pTranslations||(this.m_pTranslations=new e)},Object.defineProperty(e,"domains",{get:function(){return this.assert().domains},enumerable:!1,configurable:!0}),Object.defineProperty(e,"default",{get:function(){return this.assert().default},set:function(e){this.assert().default=e},enumerable:!1,configurable:!0}),Object.defineProperty(e,"current",{get:function(){return this.assert().current},set:function(e){this.assert().current=e},enumerable:!1,configurable:!0}),e.load=function(e,t,n){return void 0===t&&(t=!0),void 0===n&&(n="enrich"),this.assert().load(e,t,n)},e.unload=function(e){this.assert().unload(e)},e.isLoaded=function(e){return this.assert().isLoaded(e)},e.reset=function(e){void 0===e&&(e=""),this.assert().reset(e)},e.translate=function(e,t,n,i,o,a){var s;void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=0);for(var u=[],c=6;c<arguments.length;c++)u[c-6]=arguments[c];return(s=this.assert()).translate.apply(s,r.__spreadArray([e,t,n,i,o,a],u))},e.prototype.message=function(e,n,r,i,o){if(e){var a=e.translation((n?n+t.CONTEXT_SEPARATOR:"")+r);if(a){var s=1+(i?e.plural(o):0);if(s<a.length){var u=a[s];if("string"==typeof u)return u;if(Array.isArray(u)&&1===u.length){var c=u[0];if("string"==typeof c)return c}return""}}}return""},e.prototype.find=function(n,r,i,o,a){if(!n)return"";var s=n+t.DOMAIN_SEPARATOR+r+i+t.ARGUMENTS_SEPARATOR+(o?"P":"S")+a,u=this.m_pCache[s]||(this.m_pCache[s]=this.message(this.m_pTranslations[n],r,i,o,a));if(u)return u;var c=e.m_pAlternatives[n];if(c)return this.find(c.alternative,r,i,o,a);var l=n.lastIndexOf("-"),p=-1!==l?n.substr(0,l):void 0;return e.m_pAlternatives[n]={alternative:p},this.find(p,r,i,o,a)},e.prototype.invalidate=function(e){var n=this;if(e){var r=e+t.DOMAIN_SEPARATOR;i.each(this.m_pCache,(function(e,t){0===t.indexOf(r)&&i.destroy(n.m_pCache,t)}),{keys:!0})}},Object.defineProperty(e.prototype,"domains",{get:function(){var e=[];return i.each(this.m_pTranslations,(function(t,n){e.push(n)}),{keys:!0}),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"default",{get:function(){return this.m_sDefault},set:function(e){(e=a.Locales.findDomain(e))&&(this.m_sDefault=e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"current",{get:function(){return this.m_sCurrent||this.default},set:function(e){this.m_sCurrent=a.Locales.findDomain(e)},enumerable:!1,configurable:!0}),e.prototype.load=function(e,t,n){var r=this,s=!1,u="";return i.each(i.isArray(e)?e:[e],(function(e){if(i.isObject(e)){var t=e[""];if(i.isObject(t)){i.setAny(t,"language",a.Locales.findDomain(t.language)||r.current),r.invalidate(t.language);var c="replace"!==n?r.m_pTranslations[t.language]:void 0;c?c.enrich(e,"overwrite"===n):r.m_pTranslations[t.language]=new o.Translation(e),u||(u=t.language),s=!0}}})),!1===t||!u||!0!==t&&this.m_sCurrent||(this.current=u),s},e.prototype.unload=function(e){var t=this;e?(e=a.Locales.findDomain(e),this.invalidate(e),i.destroy(this.m_pTranslations,e)):i.each(this.m_pTranslations,(function(e,n){t.invalidate(n),i.destroy(t.m_pTranslations,n)}),{keys:!0})},e.prototype.isLoaded=function(e){return this.default===e||this.m_pTranslations[a.Locales.findDomain(e)]instanceof o.Translation},e.prototype.reset=function(e){void 0===e&&(e=""),this.unload(),this.current=e},e.prototype.translate=function(e,t,n,r,o,a){for(var s=[],u=6;u<arguments.length;u++)s[u-6]=arguments[u];var c=this.find(e,t,n,r,a)||e!==this.default&&this.find(this.default,t,n,r,a)||(r&&1!==a?o:n);return s.length>0?c.replace(/%(\d+)/g,(function(e,t){return i.castToString(i.arrayItem(s,i.castToNumber(t)-1,e))})):c},e.m_pAlternatives={},e}();t.Translations=s},1192:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.loadScriptWithContext=t.loadScript=t.defineContext=void 0;var r=n(1095);Object.defineProperty(t,"defineContext",{enumerable:!0,get:function(){return r.defineContext}});var i=n(5046);Object.defineProperty(t,"loadScript",{enumerable:!0,get:function(){return i.loadScript}}),Object.defineProperty(t,"loadScriptWithContext",{enumerable:!0,get:function(){return i.loadScriptWithContext}})},1095:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.defineContext=void 0,t.defineContext=function(e,t){var n=window;if(void 0!==n)if(void 0!==typeof n[e])n[e]=t;else if(n[e]!==t)throw new Error("Marblecore.Loader: Another context is already registered for '"+e+"'!")}},5046:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.loadScriptWithContext=t.loadScript=void 0;var r=n(1095),i=n(5098);function o(e,t,n){if("undefined"!=typeof document){var r=!1,o=function(e){r||(r=!0,n&&n(e))};try{var a=document.createElement("script");a.onload=function(){return o(!0)},a.onerror=function(){return o(!1)},a.async=!0,a.src=i.getScriptSrcWithPolicy(e,t),document.body.appendChild(a)}catch(e){o(!1)}}else n&&n(!1)}t.loadScript=o,t.loadScriptWithContext=function(e,t,n,i,a){r.defineContext(e,n),o(t,i,a)}},5098:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getScriptSrcWithPolicy=void 0;var n={};t.getScriptSrcWithPolicy=function(e,t){return"undefined"!=typeof trustedTypes&&trustedTypes.createPolicy&&t?(n[t]||(n[t]=trustedTypes.createPolicy(t,{createScriptURL:function(e){return e}}))).createScriptURL(e):e}},4689:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.MarkdownFeatures=t.MarkdownParser=void 0;var r=n(2916);Object.defineProperty(t,"MarkdownParser",{enumerable:!0,get:function(){return r.MarkdownParser}});var i=n(9690);Object.defineProperty(t,"MarkdownFeatures",{enumerable:!0,get:function(){return i.MarkdownFeatures}})},9690:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MarkdownFeatures=void 0,function(e){e[e.None=0]="None",e[e.Formatting=1]="Formatting",e[e.Paragraphs=2]="Paragraphs",e[e.Breaks=4]="Breaks",e[e.Hyperlinks=8]="Hyperlinks",e[e.Headings=16]="Headings",e[e.Blockquotes=32]="Blockquotes",e[e.Code=64]="Code",e[e.InlineCode=128]="InlineCode",e[e.Images=256]="Images",e[e.All=511]="All"}(t.MarkdownFeatures||(t.MarkdownFeatures={}))},2916:function(e,t,n){var r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.MarkdownParser=void 0;var i,o=n(9690);!function(e){e[e.Text=1]="Text",e[e.Content=2]="Content",e[e.Newline=4]="Newline",e[e.Space=8]="Space",e[e.Heading=16]="Heading",e[e.Quote=32]="Quote",e[e.Code=64]="Code",e[e.InlineCode=128]="InlineCode"}(i||(i={}));var a=function(){function e(e,t){if(this.m_nFeatures=o.MarkdownFeatures.All,this.m_bMentions=!1,this.m_bReferences=!1,this.m_pBlocks=[],this.m_nOpcode=i.Newline,this.m_nIndex=0,this.m_sBuffer="",this.m_pTags=[],this.m_nStopIndex=-1,this.m_sMarkdown=e.replace(/(\r\n|[\r\n])/,"\n"),this.m_nLength=this.m_sMarkdown.length,/[\n\\\*_~`#>\[!@]/g.test(this.m_sMarkdown))t&&("number"==typeof t.features&&(this.m_nFeatures=t.features),this.m_pMentions=t.mentions,this.m_pReferences=t.references,this.m_sStopWord=t.stopWord,this.m_sStopWord&&(this.m_sStopChar=this.m_sStopWord.charAt(0))),this.parse();else{if(t&&t.stopWord){var n=this.m_sMarkdown.indexOf(t.stopWord);-1!==n&&(this.m_sMarkdown=this.m_sMarkdown.substr(0,n),this.m_nStopIndex=n)}this.m_pBlocks.push({content:this.m_sMarkdown.replace(/\s\s+/g," ")})}}return e.parse=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"features",{get:function(){return this.m_nFeatures},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"abstractSyntaxTree",{get:function(){var e=this.m_pBlocks.length;if(1===e){var t={content:this.m_pBlocks[0].content,value:this.m_pBlocks[0].value};return"paragraph"!==this.m_pBlocks[0].type&&(t.type=this.m_pBlocks[0].type),t}return{content:0===e?"":this.m_pBlocks}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){var e="";return this.map((function(t,n){switch(t){case"break":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":case"quote":case"codeline":return void(e+=(""===e?"":"\n")+n);case"paragraph":return void(e+=(""===e?"":"\n\n")+n);case"codeblock":case"image":return;default:return void(e+=n)}})),e.replace(/(^\s*)|(\s*$)/g,"").replace(/[^\S\r\n\.]{2,}/g," ").replace(/\n[^\S\r\n\.]/g,"\n")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasMentions",{get:function(){return this.m_bMentions},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasReferences",{get:function(){return this.m_bReferences},enumerable:!1,configurable:!0}),e.prototype.parse=function(){for(var e=this;this.m_nIndex<this.m_nLength;this.m_nIndex++){if(this.m_sBuffer=this.m_sMarkdown.charAt(this.m_nIndex),this.m_nOpcode&i.Code){if("\n"===this.m_sBuffer){this.m_nOpcode&i.Newline&&this.m_pTag&&"codeblock"===this.m_pTag.type&&"string"!=typeof this.m_pTag.content&&(!Array.isArray(this.m_pTag.content)||this.m_pTag.content.length>0)&&(this.m_pTag.content=r(r([],Array.isArray(this.m_pTag.content)?this.m_pTag.content:[this.m_pTag.content]),[{parent:this.m_pTag,type:"codeline",content:""}])),this.m_nOpcode|=i.Newline,this.m_pText=void 0;continue}}else{if("\n"===this.m_sBuffer){this.features&o.MarkdownFeatures.Paragraphs?this.m_nOpcode&i.Newline&&this.m_pText&&(this.m_nOpcode&=~i.Quote,this.block("paragraph")):this.features&o.MarkdownFeatures.Breaks&&this.m_nOpcode&i.Text&&(this.m_nOpcode&=~i.Content,this.m_pTags.push("break")),this.m_nOpcode|=i.Newline,this.m_nOpcode&i.Heading&&(this.m_nOpcode&=~i.Heading,this.block("paragraph"));continue}if(this.parseLinebreak())continue;if(this.m_nIndex>0&&(this.m_nOpcode&i.Newline||this.m_nOpcode&i.Space)&&" "===this.m_sBuffer)continue;if(this.m_nIndex>0&&(this.m_nOpcode&i.Newline||this.m_nOpcode&i.Space)&&"\t"===this.m_sBuffer)continue}this.parseStopWord()||(!(this.parseEscapeCharacters()||this.parseCodeBlock()||this.parseBuffer("mention",this.m_pMentions,"@",(function(){return e.m_bMentions=!0}))||this.parseBuffer("reference",this.m_pReferences,"#",(function(){return e.m_bReferences=!0}))||this.parseCode())&&(this.parseHeading()||this.parseBlockquotes()||this.parseImage()||this.parseHyperlinks()||this.features&o.MarkdownFeatures.Formatting&&(this.parseTag("bold+italic","*","triple")||this.parseTag("bold","*","double")||this.parseTag("italic","*","single")||this.parseTag("underline","_","single-or-double")||this.parseTag("strikethrough","~","single-or-double")))||this.flush(),0===this.m_pTags.length&&(this.m_nOpcode&=~i.Newline," "!==this.m_sBuffer&&"\t"!==this.m_sBuffer||(this.m_nOpcode|=i.Space)))}},e.prototype.pushBlock=function(e,t){var n={parent:void 0,type:e,content:"",value:t};return this.m_pBlocks.push(n),this.m_nOpcode&=~i.Content,n},e.prototype.block=function(e,t){this.m_pBlock={type:e,value:t},this.m_pTags=[],this.m_nOpcode&=~i.InlineCode},e.prototype.pushTag=function(e){this.m_pTags.push(e)},e.prototype.popTag=function(e){var t=this.m_pTags.length,n=this.m_pTag;if(t>0)for(var r=t-1;r>=0;r--)if(this.m_pTags[r]===e)return this.m_pTags.splice(r,this.m_pTags.length-r),!0;for(;n;){if(n.type===e)return this.m_pTag=this.m_pText=n.parent,!0;n=n.parent}return!1},e.prototype.isTagActive=function(e){var t=this.m_pTags.length,n=this.m_pTag;if(t>0)for(var r=t-1;r>=0;r--)if(this.m_pTags[r]===e)return!0;for(;n;){if(n.type===e)return!0;n=n.parent}return!1},e.prototype.tag=function(e){return!this.popTag(e)&&(this.pushTag(e),!0)},e.prototype.flush=function(e){if(void 0===e&&(e=!1),!this.m_sBuffer&&!e)return{content:""};this.m_pBlock?(this.m_pTag=this.m_pText=this.pushBlock(this.m_pBlock.type,this.m_pBlock.value),this.m_pBlock=void 0,this.m_nOpcode&i.Code&&(this.m_pTag.content=this.m_pText={parent:this.m_pTag,type:"codeline",content:""})):this.m_pTag||(this.m_pTag=this.m_pText=this.pushBlock("paragraph"));for(var t=this.m_pTags.shift();t;)this.m_pText={parent:this.m_pTag,type:t,content:""},"string"==typeof this.m_pTag.content&&this.m_pTag.content&&(this.m_pTag.content={parent:this.m_pTag,content:this.m_pTag.content}),this.m_pTag.content="string"==typeof this.m_pTag.content?this.m_pText:r(r([],Array.isArray(this.m_pTag.content)?this.m_pTag.content:[this.m_pTag.content]),[this.m_pText]),"break"===t?this.m_pText=this.m_pTag:this.m_pTag=this.m_pText,t=this.m_pTags.shift();return this.m_pText&&"string"==typeof this.m_pText.content||(this.m_pText={parent:this.m_pTag,content:""},this.m_pTag.content=r(r([],Array.isArray(this.m_pTag.content)?this.m_pTag.content:[this.m_pTag.content]),[this.m_pText]),"codeblock"===this.m_pTag.type&&(this.m_pText.type="codeline")),"\t"===this.m_sBuffer?(this.m_pText.content+="codeline"===this.m_pText.type?"  ":" ",{content:""}):(this.m_nOpcode&i.Newline&&this.m_nOpcode&i.Content&&(e||" "!==this.m_sBuffer)&&(this.m_pText.content+=" "),this.m_pText.content+=this.m_sBuffer,this.m_nOpcode|=i.Text,this.m_nOpcode|=i.Content,this.m_nOpcode&=~i.Space,e&&(this.m_sBuffer=""),this.m_pText)},e.prototype.parseLinebreak=function(){return!!(this.features&o.MarkdownFeatures.Paragraphs&&this.features&o.MarkdownFeatures.Breaks&&this.m_nOpcode&i.Content&&" "===this.m_sBuffer&&this.m_nIndex+2<this.m_nLength&&" "===this.m_sMarkdown.charAt(this.m_nIndex+1)&&"\n"===this.m_sMarkdown.charAt(this.m_nIndex+2))&&(this.m_nIndex++,this.m_nOpcode&=~i.Space,this.m_nOpcode&=~i.Content,this.m_pTags.push("break"),!0)},e.prototype.parseEscapeCharacters=function(){if("\\"===this.m_sBuffer&&this.m_nIndex+1<this.m_nLength){var e=this.m_sMarkdown.charAt(this.m_nIndex+1);if("\\"===e||"*"===e||"_"===e||"~"===e||"`"===e||"#"===e||">"===e||"["===e||"]"===e||"("===e||")"===e||"!"===e||"@"===e)return this.m_sBuffer=e,this.m_nIndex++,!0}return!1},e.prototype.parseTag=function(e,t,n){if(this.m_sBuffer===t){if("single"!==n&&this.m_nIndex+("triple"===n?2:1)<this.m_nLength&&this.m_sMarkdown.charAt(this.m_nIndex+1)===t&&("triple"!==n||this.m_sMarkdown.charAt(this.m_nIndex+2)===t))this.m_nIndex+="triple"===n?2:1;else if("double"===n||"triple"===n)return!1;if("bold"===e||"italic"===e){if(this.popTag("bold+italic"))return this.tag("bold"===e?"italic":"bold"),!0}else if("bold+italic"===e){var r=this.isTagActive("bold"),i=this.isTagActive("italic");if(this.popTag("bold"),this.popTag("italic"),r&&i)return!0;(r||i)&&(this.popTag(r?"bold":"italic"),e=r?"italic":"bold")}return this.tag(e),!0}return!1},e.prototype.parseBuffer=function(t,n,r,i){if(n&&this.m_sBuffer===r&&this.m_nIndex+1<this.m_nLength){var a=n.parser(this.m_sMarkdown.substr(this.m_nIndex+1,n.numberOfChars||void 0),this.m_nIndex);if(a&&a.shift>0){this.m_nIndex+=a.shift,this.m_sBuffer="",this.pushTag(t);var s=this.flush(!0);return a.markdown?s.parent&&"code"===s.parent.type?s.content=a.markdown:s.content=e.parse(a.markdown,{features:this.features&o.MarkdownFeatures.Formatting|this.features&o.MarkdownFeatures.InlineCode|this.features&o.MarkdownFeatures.Hyperlinks|this.features&o.MarkdownFeatures.Images,mentions:this.m_pMentions,references:this.m_pReferences}).abstractSyntaxTree.content:a.text&&(s.content=a.text),s.value=a.value,s.value&&i(),this.popTag(t),!0}}return!1},e.prototype.parseStopWord=function(){return!(this.m_nOpcode&i.InlineCode||this.m_nOpcode&i.Code||this.m_sBuffer!==this.m_sStopChar||!this.m_sStopWord||this.m_sMarkdown.substr(this.m_nIndex,this.m_sStopWord.length)!==this.m_sStopWord||(this.m_nStopIndex=this.m_nIndex,this.m_nIndex=this.m_nLength,0))},e.prototype.parseHeading=function(){if(this.features&o.MarkdownFeatures.Paragraphs&&this.features&o.MarkdownFeatures.Headings&&this.m_nOpcode&i.Newline&&"#"===this.m_sBuffer){for(var e=1,t=this.m_nIndex+1;t<this.m_nLength&&e>=1&&e<=6;){var n=this.m_sMarkdown.charAt(t);if("#"!==n){" "!==n&&(e=0);break}e++,t++}switch(e){case 1:this.block("h1");break;case 2:this.block("h2");break;case 3:this.block("h3");break;case 4:this.block("h4");break;case 5:this.block("h5");break;case 6:this.block("h6");break;default:return!1}return this.m_nIndex+=e,this.m_nOpcode|=i.Heading,!0}return!1},e.prototype.parseBlockquotes=function(){return!!(this.features&o.MarkdownFeatures.Paragraphs&&this.features&o.MarkdownFeatures.Blockquotes&&this.m_nOpcode&i.Newline&&">"===this.m_sBuffer)&&(this.m_nIndex+1<this.m_nLength&&" "===this.m_sMarkdown.charAt(this.m_nIndex+1)&&this.m_nIndex++,this.m_nOpcode&i.Quote?(this.m_sBuffer=" ",!1):(this.m_nOpcode|=i.Quote,this.block("quote"),!0))},e.prototype.parseImage=function(){if(this.features&o.MarkdownFeatures.Images&&"!"===this.m_sBuffer&&this.m_nIndex+4<this.m_nLength&&"["===this.m_sMarkdown.charAt(this.m_nIndex+1)){for(var e="",t="",n=!1,r=this.m_nIndex++;++this.m_nIndex<this.m_nLength;){if(this.m_sBuffer=this.m_sMarkdown.charAt(this.m_nIndex),!this.parseEscapeCharacters())if(n){if(")"===this.m_sBuffer){if(""!==t){this.pushTag("image");var i=this.flush(!0);i.content=e,i.value=t,this.popTag("image")}return!0}}else if("]"===this.m_sBuffer&&this.m_nIndex+1<this.m_nLength&&"("===this.m_sMarkdown.charAt(this.m_nIndex+1)){n=!0,this.m_nIndex++;continue}n?t+=this.m_sBuffer:e+=this.m_sBuffer}return this.m_nIndex=r,this.m_sBuffer="!",!1}return!1},e.prototype.parseHyperlinks=function(){if(this.features&o.MarkdownFeatures.Hyperlinks&&"["===this.m_sBuffer&&this.m_nIndex+3<this.m_nLength){var t=e.parse(this.m_sMarkdown.substr(this.m_nIndex+1),{features:this.features&o.MarkdownFeatures.Formatting|this.features&o.MarkdownFeatures.InlineCode|this.features&o.MarkdownFeatures.Images,mentions:this.m_pMentions,references:this.m_pReferences,stopWord:"]("});if(-1!==t.m_nStopIndex){var n=this.m_nIndex,r="";for(this.m_nIndex+=t.m_nStopIndex+2;++this.m_nIndex<this.m_nLength;){if(this.m_sBuffer=this.m_sMarkdown.charAt(this.m_nIndex),!this.parseEscapeCharacters()&&")"===this.m_sBuffer){if(""!==r){this.pushTag("hyperlink");var i=this.flush(!0);i.content=t.abstractSyntaxTree.content||r,i.value=r,this.popTag("hyperlink")}return!0}r+=this.m_sBuffer}this.m_nIndex=n,this.m_sBuffer="["}}return!1},e.prototype.parseCode=function(){return this.features&o.MarkdownFeatures.InlineCode&&"`"===this.m_sBuffer&&(this.m_sBuffer="",this.m_nOpcode=this.m_nOpcode^i.InlineCode,this.tag("code")),!!(this.m_nOpcode&i.InlineCode)},e.prototype.parseCodeBlock=function(){if(this.features&o.MarkdownFeatures.Paragraphs&&this.features&o.MarkdownFeatures.Code&&this.m_nOpcode&i.Newline&&"`"===this.m_sBuffer&&this.m_nIndex+2<this.m_nLength&&"`"===this.m_sMarkdown.charAt(this.m_nIndex+1)&&"`"===this.m_sMarkdown.charAt(this.m_nIndex+2)){var e="",t=!0;for(this.m_nOpcode=this.m_nOpcode^i.Code,this.m_nIndex+=3,this.m_sBuffer="";this.m_nIndex<this.m_nLength;){var n=this.m_sMarkdown.charAt(this.m_nIndex);if("\n"===n){this.m_nIndex--;break}" "===n||"\t"===n?t=!1:t&&(e+=n),this.m_nIndex++}return this.m_nOpcode&i.Code?this.block("codeblock",e||void 0):this.block("paragraph"),!0}return!!(this.m_nOpcode&i.Code)},e.prototype.mapHelper=function(e,t,n,r){var i=this;void 0===n&&(n=!0);var o="string"==typeof e.content,a=e.value;if(a&&a.ref&&"string"==typeof a.string)return t(e.type,a.string,a.ref,r,"node");var s=t(e.type,o?e.content:"",e.value,r,n&&!e.type?o?"text":"root":"node");return o||(Array.isArray(e.content)?e.content.forEach((function(e){return i.mapHelper(e,t,!1,s)})):this.mapHelper(e.content,t,!1,s)),s},e.prototype.reduceHelper=function(e,t){var n=this,r=e.value;if(r&&r.ref&&"string"==typeof r.string)return t(e.type,r.string,r.ref);if("string"!=typeof e.content){var i=[];return Array.isArray(e.content)?e.content.forEach((function(e){return i.push(n.reduceHelper(e,t))})):i.push(this.reduceHelper(e.content,t)),t(e.type,i,e.value)}return t(e.type,e.content,e.value)},e.prototype.map=function(e){return this.mapHelper(this.abstractSyntaxTree,e)},e.prototype.reduce=function(e){return this.reduceHelper(this.abstractSyntaxTree,e)},e}();t.MarkdownParser=a},3737:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Orientations=void 0,function(e){e[e.Vertical=0]="Vertical",e[e.Horizontal=1]="Horizontal"}(t.Orientations||(t.Orientations={}))},4175:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Reasons=void 0,function(e){e[e.Push=1]="Push",e[e.Pop=2]="Pop",e[e.Move=4]="Move",e[e.Swap=8]="Swap",e[e.Sort=16]="Sort",e[e.Recalculation=32]="Recalculation",e[e.Last=64]="Last",e[e.First=128]="First"}(t.Reasons||(t.Reasons={}))},5784:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Types=void 0,function(e){e[e.Vertical=0]="Vertical",e[e.Horizontal=1]="Horizontal",e[e.Square=2]="Square",e[e.SquareHorizontal=3]="SquareHorizontal",e[e.SquareVertical=4]="SquareVertical"}(t.Types||(t.Types={}))},3339:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Types=t.Reasons=t.Orientations=t.ModelItem=t.Model=t.StrictItem=t.StrictMatrix=t.Item=t.Matrix=void 0;var r=n(5207);Object.defineProperty(t,"Matrix",{enumerable:!0,get:function(){return r.Matrix}});var i=n(3907);Object.defineProperty(t,"Item",{enumerable:!0,get:function(){return i.Item}});var o=n(7152);Object.defineProperty(t,"StrictMatrix",{enumerable:!0,get:function(){return o.StrictMatrix}});var a=n(7626);Object.defineProperty(t,"StrictItem",{enumerable:!0,get:function(){return a.StrictItem}});var s=n(7243);Object.defineProperty(t,"Model",{enumerable:!0,get:function(){return s.Model}});var u=n(7565);Object.defineProperty(t,"ModelItem",{enumerable:!0,get:function(){return u.ModelItem}});var c=n(3737);Object.defineProperty(t,"Orientations",{enumerable:!0,get:function(){return c.Orientations}});var l=n(4175);Object.defineProperty(t,"Reasons",{enumerable:!0,get:function(){return l.Reasons}});var p=n(5784);Object.defineProperty(t,"Types",{enumerable:!0,get:function(){return p.Types}})},3907:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Item=void 0;var r=n(655),i=n(4389),o=n(9165),a=n(5781),s=function(e){function t(n){var r=e.call(this)||this;return r.m_nIndex=-1,r.m_nColumn=-1,r.m_nRow=-1,r.m_bPopped=!0,r.m_nUniqueId=t.enumerator.n,r.m_pMatrix=n,r}return r.__extends(t,e),t.pushToMatrix=function(e,t){return(t=t||e.parent)&&t.pushToMatrix(e,{index:-1,recalculate:!0,emit:"push"}),e},Object.defineProperty(t.prototype,"parent",{get:function(){return this.matrix()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uniqueId",{get:function(){return this.m_nUniqueId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hash",{get:function(){return this.m_sHash||(this.m_sHash=a.SHA2_256(""+i.DateTime.now+Math.random()+"."+this.uniqueId))},set:function(e){i.isFilledString(e)&&/[A-Fa-f0-9]{64}/.test(e)&&(this.m_sHash=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){return this.m_nIndex},set:function(e){this.moveToIndex(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columnIndex",{get:function(){return this.m_nColumn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rowIndex",{get:function(){return this.m_nRow},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPopped",{get:function(){return this.m_bPopped},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isFirst",{get:function(){return!!this.m_pMatrix&&(0===this.m_pMatrix.orientation?0===this.rowIndex:0===this.columnIndex)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLast",{get:function(){return!!this.m_pMatrix&&(this.isLastOfMatrix||(0===this.m_pMatrix.orientation?this.rowIndex===this.m_pMatrix.rows-1:this.columnIndex===this.m_pMatrix.columns-1))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isFirstColumn",{get:function(){return 0===this.columnIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLastColumn",{get:function(){return!!this.m_pMatrix&&(this.isLastOfMatrix||this.columnIndex===this.m_pMatrix.columns-1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isFirstRow",{get:function(){return 0===this.rowIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLastRow",{get:function(){return!!this.m_pMatrix&&(this.isLastOfMatrix||this.rowIndex===this.m_pMatrix.rows-1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isFirstOfMatrix",{get:function(){return 0===this.index},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLastOfMatrix",{get:function(){return!!this.m_pMatrix&&this.index===this.m_pMatrix.count-(this.m_bPopped?0:1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"predecessorSibling",{get:function(){return this.m_pMatrix&&!this.isFirstOfMatrix?this.m_pMatrix.itemAtIndex(this.index-1):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"successorSibling",{get:function(){return this.m_pMatrix&&!this.isLastOfMatrix?this.m_pMatrix.itemAtIndex(this.index+(this.m_bPopped?0:1)):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"predecessorInColumn",{get:function(){return this.m_pMatrix?this.m_pMatrix.itemAtPosition(this.m_nColumn,this.m_nRow-1):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"successorInColumn",{get:function(){return this.m_pMatrix?this.m_pMatrix.itemAtPosition(this.m_nColumn,this.m_nRow+1):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"predecessorInRow",{get:function(){return this.m_pMatrix?this.m_pMatrix.itemAtPosition(this.m_nColumn-1,this.m_nRow):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"successorInRow",{get:function(){return this.m_pMatrix?this.m_pMatrix.itemAtPosition(this.m_nColumn+1,this.m_nRow):void 0},enumerable:!1,configurable:!0}),t.prototype.matrix=function(){return this.m_pMatrix},t.prototype.onPush=function(e){this.emitHook("OnItemPush",e,"lifo")},t.prototype.onChange=function(e){this.emitHook("OnItemChange",e)},t.prototype.onPop=function(e){this.emitHook("OnItemPop",e)},t.prototype.dispatch=function(e,t){var n=this;if("Pop"!==t)if("Detach"!==t)switch(t.hook){case"OnItemChange":e.push((function(){n.onChange(t.payload)}));break;case"OnItemPop":e.push((function(){n.onPop(t.payload)}))}else this.m_pMatrix=void 0;else this.m_bPopped=!0},t.prototype.reindex=function(e,t,n,r,i){var o,a=this,s=this.m_nColumn,u=this.m_nRow,c=!1;if(this.m_pMatrix!==t&&(o=this.m_pMatrix,this.m_pMatrix=t,c=!0),this.m_nIndex===n&&"change"!==r&&"push"!==r||(0!==n&&0!==this.m_nIndex||(i|=128),n+1!==t.count&&this.m_nIndex+1!==t.count||(i|=64),this.m_nIndex=n,c=!0),this.m_nColumn=0===this.m_pMatrix.orientation?Math.floor(this.m_nIndex/this.m_pMatrix.rows):this.m_nIndex%this.m_pMatrix.columns,this.m_nRow=0===this.m_pMatrix.orientation?this.m_nIndex%this.m_pMatrix.rows:Math.floor(this.m_nIndex/this.m_pMatrix.columns),this.isPopped){var l=this.m_pMatrix.itemAtIndex(n);l&&l===this&&(this.m_bPopped=!1,c=!0)}return!(!c&&this.m_nColumn===s&&this.m_nRow===u||("nothing"!==r&&("push"===r?(e.push((function(){a.onPush({matrix:t,matrixPrevious:o,item:a,reason:i})})),this.m_pMatrix.emitHook("OnItemPush",{matrix:this.m_pMatrix,matrixPrevious:o,item:this,reason:i},"lifo")):(e.push((function(){a.onChange({matrix:t,matrixPrevious:o,item:a,reason:i})})),this.m_pMatrix.emitHook("OnItemChange",{matrix:this.m_pMatrix,matrixPrevious:o,item:this,reason:i}))),0))},t.prototype.moveTo=function(e){return!(!this.m_pMatrix||this.m_bPopped)&&this.m_pMatrix.moveTo(this,e)},t.prototype.moveToIndex=function(e){return!(!this.m_pMatrix||this.m_bPopped)&&this.m_pMatrix.moveToIndex(this,e)},t.prototype.moveToPosition=function(e,t){return!(!this.m_pMatrix||this.m_bPopped)&&this.m_pMatrix.moveToPosition(this,e,t)},t.prototype.moveToItem=function(e,t){return!(!this.m_pMatrix||this.m_bPopped)&&this.m_pMatrix.moveToItem(this,e,t)},t.prototype.moveUpOrDown=function(e){return!(!this.m_pMatrix||this.m_bPopped)&&this.m_pMatrix.moveUpOrDown(this,e)},t.prototype.swap=function(e){return!(!this.m_pMatrix||this.m_bPopped)&&this.m_pMatrix.swap(this,e)},t.prototype.pop=function(){return!(this.m_pMatrix&&!this.m_bPopped)||this.m_pMatrix.popFromMatrix(this,!0)instanceof t},t.prototype.popSilent=function(){return!(this.m_pMatrix&&!this.m_bPopped)||this.m_pMatrix.popFromMatrix(this,!1)instanceof t},t.prototype.unpop=function(e,n){return!(!this.m_bPopped||!e&&!this.m_pMatrix)&&(e||this.m_pMatrix).pushToMatrix(this,{index:n,recalculate:!0,emit:"change"})instanceof t},t.prototype.unpopSilent=function(e,n){return e=e||this.m_pMatrix,!(!this.m_bPopped||!e)&&e.pushToMatrix(this,{index:n,recalculate:!0,emit:"nothing"})instanceof t},t.enumerator=new i.Enumerator,t}(o.Hooks);t.Item=s},5207:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Matrix=void 0;var r=n(655),i=n(4389),o=n(9165),a=n(154),s=function(e){function t(n,r,i){void 0===n&&(n=0),void 0===r&&(r=0),void 0===i&&(i=1);var o=e.call(this)||this;return o.m_nCurrentCount=0,o.m_pCursor={column:0,row:0,index:0},o.m_bSilent=!1,o.m_pItems=[],o.m_nUniqueId=t.enumerator.n,o.m_nType=n,o.m_nOrientation=r,o.m_nColumns=o.m_nCurrentColumns=0===o.type?Math.max(i,1):0,o.m_nRows=o.m_nCurrentRows=1===o.type?Math.max(i,1):0,o}return r.__extends(t,e),Object.defineProperty(t.prototype,"uniqueId",{get:function(){return this.m_nUniqueId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this.m_nType},set:function(e){this.m_nType!==e&&(this.m_nType=e,this.recalculate(new a.Stack,0,"change",-1,32).flush())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"orientation",{get:function(){return this.m_nOrientation},set:function(e){if(this.m_nOrientation!==e){var t=new a.Stack;this.m_nOrientation=e,this.reindex(t,0,-1,"change",-1,32),t.flush()}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columns",{get:function(){return this.m_nColumns},set:function(e){this.m_nType=0,e!==this.m_nColumns&&(this.m_nColumns=Math.max(e,1),this.recalculate(new a.Stack,0,"change",-1,32).flush())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rows",{get:function(){return this.m_nRows},set:function(e){this.m_nType=1,e!==this.m_nRows&&(this.m_nRows=Math.max(e,1),this.recalculate(new a.Stack,0,"change",-1,32).flush())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"count",{get:function(){return this.m_pItems.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"all",{get:function(){return this.m_pItems},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentItem",{get:function(){return this.itemAtIndex(this.safeCursor.index)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"firstItem",{get:function(){return this.itemAtIndex(0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastItem",{get:function(){return this.itemAtIndex(this.count-1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastItemInFirstRow",{get:function(){return this.lastItemInRow(0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastItemInFirstColumn",{get:function(){return this.lastItemInColumn(0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{get:function(){return this.m_pCursor},set:function(e){var t=this.m_pCursor.column,n=this.m_pCursor.row;this.m_pCursor=this.getSafeCursor(e),this.m_pCursor.column===t&&this.m_pCursor.row===n||this.isSilent||this.onCursorChange({matrix:this,cursor:this.cursor})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"safeCursor",{get:function(){return this.m_pCursor},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isCursorAtFirstColumn",{get:function(){return 0===this.cursor.column},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isCursorAtLastColumn",{get:function(){return this.cursor.column===this.columns-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isCursorAtEndColumn",{get:function(){return this.cursor.column===this.columns},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isCursorAtFirstRow",{get:function(){return 0===this.cursor.row},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isCursorAtLastRow",{get:function(){return this.cursor.row===this.rows-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isCursorAtEndRow",{get:function(){return this.cursor.row===this.rows},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isCursorAtFirst",{get:function(){return 0===this.cursor.index},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isCursorAtLast",{get:function(){return this.cursor.index===this.count-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isCursorAtEnd",{get:function(){return this.cursor.index===this.count},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isSilent",{get:function(){return i.isFunction(this.m_bSilent)?this.m_bSilent():this.m_bSilent},set:function(e){this.m_bSilent=e},enumerable:!1,configurable:!0}),t.prototype.isValidIndex=function(e,t){return void 0===t&&(t=!1),i.isNumberFinite(e)&&e>=0&&e<this.count+(t?1:0)},t.prototype.reindex=function(e,t,n,r,o,a){var s=!1;for(t=i.Num.max(t,0),n=this.isValidIndex(n)?n+1:this.count,o=this.isValidIndex(o)?o:-1,this.isSilent&&(r="nothing");t<n;)s=this.m_pItems[t].reindex(e,this,t,"nothing"!==r?o===t?r:"auto":"nothing",a)||s,t++;return s},t.prototype.recalculate=function(e,t,n,r,i){var o=this,a="nothing"!==n&&!this.isSilent,s=this.count;switch(this.m_nType){case 0:0===this.m_nColumns&&(this.m_nColumns=1),this.m_nRows=Math.max(Math.ceil(s/this.m_nColumns),s>0?1:0);break;case 1:0===this.m_nRows&&(this.m_nRows=1),this.m_nColumns=Math.max(Math.ceil(s/this.m_nRows),s>0?1:0);break;case 2:this.m_nColumns=this.m_nRows=Math.max(Math.ceil(Math.sqrt(s)),s>0?1:0);break;case 3:case 4:for(this.m_nColumns=this.m_nRows=Math.max(Math.floor(Math.sqrt(s)),s>0?1:0);this.m_nColumns*this.m_nRows<s;)for(3===this.m_nType?this.m_nColumns++:this.m_nRows++;this.m_nColumns*this.m_nRows<s;)4===this.m_nType?this.m_nColumns++:this.m_nRows++}return a&&(this.bufferHooks(),(1===this.m_nOrientation&&this.m_nColumns!==this.m_nCurrentColumns||0===this.m_nOrientation&&this.m_nRows!==this.m_nCurrentRows)&&(t=0),this.isValidIndex(t)&&this.reindex(e,t,s,n,r,i)),this.m_nColumns===this.m_nCurrentColumns&&this.m_nRows===this.m_nCurrentRows||((this.safeCursor.column>this.m_nColumns||this.safeCursor.row>this.m_nRows)&&(this.cursor={column:Math.min(this.safeCursor.column,this.m_nColumns),row:Math.min(this.safeCursor.row,this.m_nRows)}),a&&e.push((function(){o.onDimensionChange({matrix:o,difference:o.m_nColumns*o.m_nRows-o.m_nCurrentColumns*o.m_nCurrentRows,columns:o.m_nColumns,rows:o.m_nRows,reason:i})})),this.m_nCurrentColumns=this.m_nColumns,this.m_nCurrentRows=this.m_nRows),s!==this.m_nCurrentCount&&(a&&e.push((function(){o.onCountChange({matrix:o,difference:s-o.m_nCurrentCount,count:s,reason:i})})),this.m_nCurrentCount=s),a&&this.flushHooks(),e},t.prototype.getSafeCursor=function(e){if(!i.isNumberFinite(e.index)||e.index<0){var t=Math.min(Math.max(i.isNumberFinite(e.column)?e.column:this.columns,0),this.columns),n=Math.min(Math.max(i.isNumberFinite(e.row)?e.row:this.rows,0),this.rows);return{column:t,row:n,index:this.indexFromColumnRow(t,n)}}return this.cursorFromIndex(e.index)},t.prototype.onDimensionChange=function(e){this.emitHook("OnDimensionChange",e)},t.prototype.onCountChange=function(e){this.emitHook("OnCountChange",e)},t.prototype.onCursorChange=function(e){this.emitHook("OnCursorChange",e)},t.prototype.indexFromColumnRow=function(e,t){var n=e>=0&&e<this.columns&&t>=0&&t<this.rows?0===this.orientation?this.rows*e+t:this.columns*t+e:-1;return n>=0&&n<this.count?n:-1},t.prototype.cursorFromIndex=function(e){return{column:(e=Math.min(Math.max(e||0,0),this.count))<this.count?0===this.orientation?Math.floor(e/this.rows):e%this.columns:this.columns,row:e<this.count?0===this.orientation?e%this.rows:Math.floor(e/this.columns):this.rows,index:e}},t.prototype.pushToMatrix=function(e,t){void 0===t&&(t={index:void 0,recalculate:!0,emit:"push"});var n,r,o=this.isSilent?"nothing":t.emit,s=i.castToBoolean(t.recalculate,!0),u=new a.Stack;if(r=i.isNumberFinite(t.index)?t.index:e.index,!e.isPopped&&e.parent){if(this===e.parent)return this.isValidIndex(t.index,!0)&&e.moveToIndex(t.index),e;n=e.parent,e.popSilent()}if(this.isValidIndex(r)?this.m_pItems.splice(r,0,e):r=this.m_pItems.push(e)-1,"nothing"!==o&&this.bufferHooks(),s&&"nothing"!==o||e.reindex(u,this,r,o,1),s&&this.recalculate(u,r,o,r,1),"nothing"!==o){if(e.isFirst){var c=e.successorSibling;c&&(c.dispatch(u,{hook:"OnItemChange",payload:{matrix:this,matrixPrevious:n,item:c,reason:128}}),this.emitHook("OnItemChange",{matrix:this,matrixPrevious:n,item:c,reason:128}))}if(e.isLast){var l=e.predecessorSibling;l&&(l.dispatch(u,{hook:"OnItemChange",payload:{matrix:this,matrixPrevious:n,item:l,reason:64}}),this.emitHook("OnItemChange",{matrix:this,matrixPrevious:n,item:l,reason:64}))}}return u.flush(),"nothing"!==o&&this.flushHooks(),e},t.prototype.moveTo=function(e,t){return this.moveToIndex(e,this.getSafeCursor(t).index)},t.prototype.moveToIndex=function(e,t){if(this.isValidIndex(t,!0)&&e.index!==t){var n=new a.Stack;return this.m_pItems.splice(t,0,this.m_pItems.splice(e.index,1)[0]),this.reindex(n,Math.min(e.index,t),Math.max(e.index,t),"change",-1,4),n.flush(),!0}return!1},t.prototype.moveToPosition=function(e,t,n){return this.moveToIndex(e,this.indexFromColumnRow(t,n))},t.prototype.moveToItem=function(e,t,n){return this.moveToIndex(e,t.index+(n?0:1)-(e.index<t.index?1:0))},t.prototype.moveUpOrDown=function(e,t){if(t&&!e.isFirstOfMatrix||!t&&!e.isLastOfMatrix){var n=new a.Stack;return this.m_pItems[e.index]=this.m_pItems[e.index+(t?-1:1)],this.m_pItems[e.index+(t?-1:1)]=e,this.reindex(n,e.index-(t?1:0),e.index+(t?0:1),"change",-1,4),n.flush(),!0}return!1},t.prototype.swap=function(e,t){if(e.index!==t.index){var n=new a.Stack;return this.m_pItems[e.index]=t,this.m_pItems[t.index]=e,this.reindex(n,i.Num.min(e.index,t.index),i.Num.max(e.index,t.index),"change",-1,8),n.flush(),!0}return!1},t.prototype.popFromMatrix=function(e,t){void 0===t&&(t=!0);var n=[],r=!1,i=!1;if(e||(e=this.itemAtIndex(this.count-1)),e&&(r=e.isFirst,i=e.isLast,this.isValidIndex(e.index)&&e===this.m_pItems[e.index]&&(n=this.m_pItems.splice(e.index,1))),1===n.length&&n[0]){var o=new a.Stack,s=!!this.isSilent;if(n[0].dispatch(o,"Pop"),s||(this.bufferHooks(),t&&(n[0].dispatch(o,{hook:"OnItemPop",payload:{matrix:this,item:n[0]}}),this.emitHook("OnItemPop",{matrix:this,item:n[0]}))),this.recalculate(o,n[0].index,"change",-1,2),!s){if(r){var u=this.firstItem;u&&(u.dispatch(o,{hook:"OnItemChange",payload:{matrix:this,matrixPrevious:void 0,item:u,reason:128}}),this.emitHook("OnItemChange",{matrix:this,matrixPrevious:void 0,item:u,reason:128}))}if(i){var c=this.lastItem;c&&(c.dispatch(o,{hook:"OnItemChange",payload:{matrix:this,matrixPrevious:void 0,item:c,reason:64}}),this.emitHook("OnItemChange",{matrix:this,matrixPrevious:void 0,item:c,reason:64}))}}return o.flush(),s||this.flushHooks(),n[0]}},t.prototype.sort=function(e){void 0===e&&(e=function(e,t){return e.uniqueId-t.uniqueId}),this.m_pItems.sort(e);var t=new a.Stack,n=this.reindex(t,0,-1,"change",-1,16);return t.flush(),n},t.prototype.clear=function(e){void 0===e&&(e="thorough");var t=new a.Stack;if("dirty"!==e)for(var n=this.count,r=0;r<n;r++){var i=this.m_pItems[r];i.dispatch(t,"Pop"),this.isSilent||(i.dispatch(t,{hook:"OnItemPop",payload:{matrix:this,item:i}}),"thorough"===e&&this.emitHook("OnItemPop",{matrix:this,item:i})),i.dispatch(t,"Detach")}this.m_pItems=[],"dirty"!==e&&("thorough"===e&&this.recalculate(t,0,"change",-1,2),t.flush())},t.prototype.invalidateMatrix=function(){this.onDimensionChange({matrix:this,difference:this.m_nColumns*this.m_nRows-this.m_nCurrentColumns*this.m_nCurrentRows,columns:this.columns,rows:this.rows,reason:32})},t.prototype.recalculateMatrix=function(){this.recalculate(new a.Stack,0,"change",-1,32).flush()},t.prototype.each=function(e,t,n){for(var r=this.m_pItems.slice(t,i.isNumberFinite(n)&&n>=0?n+1:n),o=r.length,a=0;a<o;a++){var s=e(r[a]);if(i.isBoolean(s)&&s)return!0}return!1},t.prototype.reverseEach=function(e,t,n){for(var r=this.m_pItems.slice(t,i.isNumberFinite(n)&&n>=0?n+1:n),o=r.length-1;o>=0;o--){var a=e(r[o]);if(i.isBoolean(a)&&a)return!0}return!1},t.prototype.itemAtIndex=function(e){return this.isValidIndex(e)?this.m_pItems[e]:void 0},t.prototype.itemAtPosition=function(e,t){return this.itemAtIndex(this.indexFromColumnRow(e,t))},t.prototype.itemAtCursor=function(e){return this.itemAtIndex(this.getSafeCursor(e).index)},t.prototype.itemFromId=function(e){return i.findFirst(this.m_pItems,(function(t){return t.uniqueId===e}))},t.prototype.lastItemInRow=function(e){for(var t,n=this.columns;!t&&n>0;)t=this.itemAtPosition(--n,e);return t},t.prototype.lastItemInColumn=function(e){for(var t,n=this.rows;!t&&n>0;)t=this.itemAtPosition(e,--n);return t},t.prototype.moveCursorToFirstColumn=function(e){return void 0===e&&(e=!1),this.cursor={column:0,row:e?0:this.safeCursor.row,index:-1}},t.prototype.moveCursorToSuccessorColumn=function(e){return void 0===e&&(e=!1),this.cursor={column:this.cursor.column+1,row:e?0:this.safeCursor.row,index:-1}},t.prototype.moveCursorToPredecessorColumn=function(e){return void 0===e&&(e=!1),this.cursor={column:this.cursor.column-1,row:e?0:this.safeCursor.row,index:-1}},t.prototype.moveCursorToLastColumn=function(e){return void 0===e&&(e=!1),this.cursor={column:this.columns-1,row:e?0:this.safeCursor.row,index:-1}},t.prototype.moveCursorToFirstRow=function(e){return void 0===e&&(e=!1),this.cursor={column:e?0:this.safeCursor.column,row:0,index:-1}},t.prototype.moveCursorToSuccessorRow=function(e){return void 0===e&&(e=!1),this.cursor={column:e?0:this.safeCursor.column,row:this.cursor.row+1,index:-1}},t.prototype.moveCursorToPredecessorRow=function(e){return void 0===e&&(e=!1),this.cursor={column:e?0:this.safeCursor.column,row:this.cursor.row-1,index:-1}},t.prototype.moveCursorToLastRow=function(e){return void 0===e&&(e=!1),this.cursor={column:e?0:this.safeCursor.column,row:this.rows-1,index:-1}},t.prototype.moveCursorToFirst=function(){return this.cursor={column:-1,row:-1,index:0}},t.prototype.moveCursorToSuccessor=function(){return this.cursor={column:-1,row:-1,index:this.safeCursor.index+1}},t.prototype.moveCursorToPredecessor=function(){return this.cursor={column:-1,row:-1,index:this.safeCursor.index-1}},t.prototype.moveCursorToLast=function(){return this.cursor={column:-1,row:-1,index:this.count-1}},t.prototype.moveCursorToEnd=function(){return this.cursor={column:-1,row:-1,index:this.count}},t.enumerator=new i.Enumerator,t}(o.Hooks);t.Matrix=s},7565:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ModelItem=void 0;var r=n(655),i=function(e){function t(t,n){var r=e.call(this,t)||this;return r.m_pData=n,r}return r.__extends(t,e),Object.defineProperty(t.prototype,"data",{get:function(){return this.m_pData},set:function(e){this.m_pData!==e&&(this.m_pData=e,this.emitHook("OnDataChange",{model:this.parent,item:this,data:this.data}),this.parent.emitHook("OnDataChange",{model:this.parent,item:this,data:this.data}))},enumerable:!1,configurable:!0}),t.prototype.insertBefore=function(t){return e.prototype.insertBefore.call(this,t)},t.prototype.insertAfter=function(t){return e.prototype.insertAfter.call(this,t)},t}(n(7626).StrictItem);t.ModelItem=i},7243:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Model=void 0;var r=n(655),i=n(4389),o=n(7152),a=n(7565),s=function(e){function t(t,n,r,o){void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=1);var s=e.call(this,a.ModelItem,t,n,r)||this;if(o){var u=i.arraySize(o);i.each(o,(function(e){u--,s.pushToMatrix(s.onItemInstance(e),{index:-1,recalculate:0===u,emit:"nothing"})}))}return s}return r.__extends(t,e),t.prototype.append=function(e){return this.appendToMatrix(e)},t.prototype.insert=function(e){return this.insertToMatrix(e)},t.prototype.insertAtCursor=function(e,t){return this.insertToMatrixAtCursor(e,t)},t.prototype.insertAtIndex=function(e,t){return this.insertToMatrixAtIndex(e,t)},t.prototype.insertAtPosition=function(e,t,n){return this.insertToMatrixAtPosition(e,t,n)},t}(o.StrictMatrix);t.Model=s},154:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Stack=void 0;var n=function(){function e(){this.m_pStack=[]}return e.prototype.push=function(e){this.m_pStack.push(e)},e.prototype.flush=function(){for(var e=this.m_pStack.shift();e;)e(),e=this.m_pStack.shift()},e}();t.Stack=n},7626:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.StrictItem=void 0;var r=n(655),i=function(e){function t(t){return e.call(this,t)||this}return r.__extends(t,e),Object.defineProperty(t.prototype,"parent",{get:function(){return this.matrix()},enumerable:!1,configurable:!0}),t.prototype.matrix=function(){return e.prototype.matrix.call(this)},t.prototype.insertBefore=function(e){return this.parent.pushToMatrix(this.parent.onItemInstance(e),{index:this.index,recalculate:!0,emit:"push"})},t.prototype.insertAfter=function(e){return this.parent.pushToMatrix(this.parent.onItemInstance(e),{index:this.index+(this.isPopped?0:1),recalculate:!0,emit:"push"})},t.prototype.dispatch=function(t,n){"Detach"!==n&&e.prototype.dispatch.call(this,t,n)},t}(n(3907).Item);t.StrictItem=i},7152:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.StrictMatrix=void 0;var r=n(655),i=n(4389),o=function(e){function t(t,n,r,i){void 0===n&&(n=0),void 0===r&&(r=0),void 0===i&&(i=1);var o=e.call(this,n,r,i)||this;return o.m_pItemConstructor=t,o}return r.__extends(t,e),Object.defineProperty(t.prototype,"itemConstructor",{get:function(){return this.m_pItemConstructor},enumerable:!1,configurable:!0}),t.prototype.appendToMatrix=function(e){return this.pushToMatrix(this.onItemInstance(e),{index:-1,recalculate:!0,emit:"push"})},t.prototype.insertToMatrix=function(e){return this.pushToMatrix(this.onItemInstance(e),{index:0,recalculate:!0,emit:"push"})},t.prototype.insertToMatrixAtCursor=function(e,t){return this.pushToMatrix(this.onItemInstance(e),{index:this.getSafeCursor(t).index,recalculate:!0,emit:"push"})},t.prototype.insertToMatrixAtIndex=function(e,t){return this.pushToMatrix(this.onItemInstance(e),{index:t,recalculate:!0,emit:"push"})},t.prototype.insertToMatrixAtPosition=function(e,t,n){return this.pushToMatrix(this.onItemInstance(e),{index:this.indexFromColumnRow(t,n),recalculate:!0,emit:"push"})},t.prototype.onItemInstance=function(e){return new this.itemConstructor(i.cast(this),e)},t}(n(5207).Matrix);t.StrictMatrix=o},644:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.deserialize=void 0;var r=n(4389),i=n(7791);t.deserialize=function(e,t,n){var o=Object.getOwnPropertyDescriptor(e,i.DESERIALIZE);if(n&&!n.set)throw new Error("Decorator '@deserialize' can only be used on writable properties, but '"+t+"' seems to be a readonly property or a method.");o&&r.isArray(o.value)?o.value.push(t):Object.defineProperty(e,i.DESERIALIZE,{value:[t],writable:!1,enumerable:!1,configurable:!1})}},7695:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.deserializer=void 0;var r=n(4389),i=n(7791);t.deserializer=function(e,t,n){if(!n||!r.isFunction(n.value))throw new Error("Decorator '@deserializer' needs to be applied to a function, but '"+t+"' seems to be a property.");if(Object.getOwnPropertyDescriptor(e,i.DESERIALIZER))throw new Error("Decorator '@deserializer' is applied multiple times, but can only be used once in a class.");Object.defineProperty(e,i.DESERIALIZER,{value:t,writable:!1,enumerable:!1,configurable:!1})}},2492:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.serialize=void 0;var r=n(4389),i=n(7791);t.serialize=function(e,t,n){var o=Object.getOwnPropertyDescriptor(e,i.SERIALIZE);if(n&&!n.get)throw new Error("Decorator '@serialize' can only be used on readable properties, but '"+t+"' is not a property.");o&&r.isArray(o.value)?o.value.push(t):Object.defineProperty(e,i.SERIALIZE,{value:[t],writable:!1,enumerable:!1,configurable:!1})}},1595:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.serializer=void 0;var r=n(4389),i=n(7791);t.serializer=function(e,t,n){if(!n||!r.isFunction(n.value))throw new Error("Decorator '@serializer' needs to be applied to a function, but '"+t+"' seems to be a property.");if(Object.getOwnPropertyDescriptor(e,i.SERIALIZER))throw new Error("Decorator '@serializer' is applied multiple times, but can only be used once in a class.");Object.defineProperty(e,i.SERIALIZER,{value:t,writable:!1,enumerable:!1,configurable:!1})}},8678:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.serialize=t.serializer=t.deserializer=t.deserialize=t.deserializableProps=t.serializableProps=t.deserializeFrom=t.serializeTo=void 0;var r=n(4639);Object.defineProperty(t,"serializeTo",{enumerable:!0,get:function(){return r.serializeTo}});var i=n(6930);Object.defineProperty(t,"deserializeFrom",{enumerable:!0,get:function(){return i.deserializeFrom}});var o=n(4604);Object.defineProperty(t,"serializableProps",{enumerable:!0,get:function(){return o.serializableProps}}),Object.defineProperty(t,"deserializableProps",{enumerable:!0,get:function(){return o.deserializableProps}});var a=n(644);Object.defineProperty(t,"deserialize",{enumerable:!0,get:function(){return a.deserialize}});var s=n(7695);Object.defineProperty(t,"deserializer",{enumerable:!0,get:function(){return s.deserializer}});var u=n(1595);Object.defineProperty(t,"serializer",{enumerable:!0,get:function(){return u.serializer}});var c=n(2492);Object.defineProperty(t,"serialize",{enumerable:!0,get:function(){return c.serialize}})},7791:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.DESERIALIZER=t.DESERIALIZE=t.SERIALIZER=t.SERIALIZE=void 0,t.SERIALIZE="@serializer #properties",t.SERIALIZER="@serializer #proc",t.DESERIALIZE="@deserializer #properties",t.DESERIALIZER="@deserializer #proc"},6930:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.deserializeFrom=void 0;var r=n(4389),i=n(7791);t.deserializeFrom=function(e,t,n){var o=n||new r.Stack;return r.each(r.getAny(e,i.DESERIALIZE),(function(n){var a=t[n];if(r.isDefined(a)){var s=r.getAny(e,n),u=r.getAny(s,i.DESERIALIZER);if(s&&r.isFilledString(u))return void r.callBind(r.getAny(s,u),s,a,o);r.setAny(e,n,a)}})),n||o.flush(),e}},4604:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.deserializableProps=t.serializableProps=void 0;var r=n(4389),i=n(7791);t.serializableProps=function(e){return r.map(r.getAny(e,i.SERIALIZE),(function(t){return{property:t,get value(){return r.getAny(e,t)}}}))},t.deserializableProps=function(e){return r.map(r.getAny(e,i.DESERIALIZE),(function(t){return{property:t,get value(){return r.getAny(e,t)}}}))}},4639:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeTo=void 0;var r=n(4389),i=n(7791);t.serializeTo=function(e,t){var n={};return r.each(t,(function(e,t){r.isDefined(e)&&r.setAny(n,t,e)}),{keys:!0}),r.each(r.getAny(e,i.SERIALIZE),(function(t){var o=r.getAny(e,t);if(r.isDefined(o)){var a=r.getAny(o,i.SERIALIZER);r.setAny(n,t,r.isFilledString(a)?r.callBind(r.getAny(o,a),o):o)}})),n}},5781:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.CSHA2_512_256=t.CSHA2_512_224=t.CSHA2_512=t.CSHA2_384=t.CSHA2_256=t.CSHA2_224=t.SHA2_512_256=t.SHA2_512_224=t.SHA2_512=t.SHA2_384=t.SHA2_256=t.SHA2_224=void 0;var r=n(194);Object.defineProperty(t,"SHA2_224",{enumerable:!0,get:function(){return r.SHA2_224}}),Object.defineProperty(t,"SHA2_256",{enumerable:!0,get:function(){return r.SHA2_256}}),Object.defineProperty(t,"SHA2_384",{enumerable:!0,get:function(){return r.SHA2_384}}),Object.defineProperty(t,"SHA2_512",{enumerable:!0,get:function(){return r.SHA2_512}}),Object.defineProperty(t,"SHA2_512_224",{enumerable:!0,get:function(){return r.SHA2_512_224}}),Object.defineProperty(t,"SHA2_512_256",{enumerable:!0,get:function(){return r.SHA2_512_256}});var i=n(9034);Object.defineProperty(t,"CSHA2_224",{enumerable:!0,get:function(){return i.CSHA2_224}}),Object.defineProperty(t,"CSHA2_256",{enumerable:!0,get:function(){return i.CSHA2_256}}),Object.defineProperty(t,"CSHA2_384",{enumerable:!0,get:function(){return i.CSHA2_384}}),Object.defineProperty(t,"CSHA2_512",{enumerable:!0,get:function(){return i.CSHA2_512}}),Object.defineProperty(t,"CSHA2_512_224",{enumerable:!0,get:function(){return i.CSHA2_512_224}}),Object.defineProperty(t,"CSHA2_512_256",{enumerable:!0,get:function(){return i.CSHA2_512_256}})},9034:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.CSHA2_512_256=t.CSHA2_512_224=t.CSHA2_512=t.CSHA2_384=t.CSHA2_256=t.CSHA2_224=void 0;var r=n(194),i={},o={},a={},s={},u={},c={};t.CSHA2_224=function(e){return i[e]||(i[e]=r.SHA2_224(e))},t.CSHA2_256=function(e){return o[e]||(o[e]=r.SHA2_256(e))},t.CSHA2_384=function(e){return a[e]||(a[e]=r.SHA2_384(e))},t.CSHA2_512=function(e){return s[e]||(s[e]=r.SHA2_512(e))},t.CSHA2_512_224=function(e){return u[e]||(u[e]=r.SHA2_512_224(e))},t.CSHA2_512_256=function(e){return c[e]||(c[e]=r.SHA2_512_256(e))}},194:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.SHA2_512_256=t.SHA2_512_224=t.SHA2_512=t.SHA2_384=t.SHA2_256=t.SHA2_224=void 0;var n=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428],r=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],i=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428],o=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],a=[2352822216,424955298,1944164710,2312950998,502970286,855612546,1738396948,1479516111,258812777,2077511080,2011393907,79989058,1067287976,1780299464,286451373,2446758561],s=[573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882],u=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],c=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function l(e,t){return e>>>t|e<<32-t}function p(e,t,n,r){return l(e,t)^l(e,n)^e>>>r}function h(e,t){return e[15&t]+=p(e[t+14&15],17,19,10)+e[t+9&15]+p(e[t+1&15],7,18,3)}function f(e,t){var n=(65535&e)+(65535&t);return(t=(e>>16)+(t>>16)+(n>>16))<<16|65535&n}function d(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];for(var i=0,o=0,a=0,s=0;i<n.length/2;i++)a+=65535&(o=n[i]),s+=o>>>16;for(s+=a>>>16,e[t+1]=s<<16|65535&a,a=s>>>16,s=0;i<n.length;i++)a+=65535&(o=n[i]),s+=o>>>16;s+=a>>>16,e[t]=s<<16|65535&a}function m(e,t){for(var n=0,r=[],i=[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];n<16;)r[n]=t[3+(n<<2)]|t[2+(n<<2)]<<8|t[1+(n<<2)]<<16|t[n<<2]<<24,n++;for(n=0;n<64;n++)for(var o=i[0],a=i[1],s=i[2],c=i[4],p=i[7]+(l(c,6)^l(c,11)^l(c,25))+(c&i[5]^~c&i[6])+u[n]+(n<16?r[n]:h(r,n)),d=7;d>=0;d--)i[d]=4===d?f(i[3],p):0===d?f(p,(l(o,2)^l(o,13)^l(o,22))+(o&a^o&s^a&s)):i[d-1];for(n=0;n<8;n++)e[n]+=i[n]}function g(e,t,u){var l;try{l=unescape(encodeURIComponent(e))}catch(t){l=function(e){for(var t=e.length,n="",r=0;r<t;r++){var i=e.charCodeAt(r);if(i<128)n+=String.fromCharCode(i);else if(i<2048)n+=String.fromCharCode(192|i>>>6,128|63&i);else if(i<55296||i>=57344)n+=String.fromCharCode(224|i>>>12,128|i>>>6&63,128|63&i);else{var o=65536+((1023&i)<<10|1023&e.charCodeAt(++r));n+=String.fromCharCode(240|o>>>18,128|o>>>12&63,128|o>>>6&63,128|63&o)}}return n}(e)}var p,h,f=(t?224===u?a:256===u?s:384===u?i:o:224===u?n:r).slice(),g=l.length,b=[],y="",_=0,v=!0,S=0,P=0,O=0,C=0,k=0;if(t){var x=[0,0,0,0,0,0,0,0],T=[24,16,8,0],M=void 0;do{for(b[0]=_,p=1;p<=32;p++)b[p]=0;for(p=O;S<g&&p<128;++S){var w=l.charCodeAt(S);w<128?b[p>>2]|=w<<T[3&p++]:(b[p>>2]|=(192|w>>6)<<T[3&p++],b[p>>2]|=(128|63&w)<<T[3&p++])}for(P+=p-O,O=p-128,S===g&&(b[p>>2]|=[-2147483648,8388608,32768,128][3&p],++S),_=b[32],S>g&&p<112&&(b[31]=P<<3,v=!1),h=32;h<160;h+=2){var I=b[h-30],E=b[h-29],j=b[h-4],A=b[h-3];d(b,h,b[h-13],b[h-31],(E>>>1|I<<31)^(E>>>8|I<<24)^(E>>>7|I<<25),(A>>>19|j<<13)^(j>>>29|A<<3)^(A>>>6|j<<26),b[h-14],b[h-32],(I>>>1|E<<31)^(I>>>8|E<<24)^I>>>7,(j>>>19|A<<13)^(A>>>29|j<<3)^j>>>6)}for(M=f.slice(),x[6]=M[2]&M[4],x[7]=M[3]&M[5],p=0;p<160;p+=8)for(h=0;h<8;h+=2){var F=h>0?8-h:0,N=[0,0,0,0];d(N,0,c[p+h+1],b[p+h+1],M[9+F]&M[2===h?9:11+F]^~M[9+F]&M[6===h?15:13-h],(M[9+F]>>>14|M[8+F]<<18)^(M[9+F]>>>18|M[8+F]<<14)^(M[8+F]>>>9|M[9+F]<<23),M[15-h],c[p+h],b[p+h],M[8+F]&M[2===h?8:10+F]^~M[8+F]&M[6===h?14:12-h],(M[8+F]>>>14|M[9+F]<<18)^(M[8+F]>>>18|M[9+F]<<14)^(M[9+F]>>>9|M[8+F]<<23),M[14-h]),d(N,2,(x[h+1]=M[1+F]&M[2===h?1:3+F])^M[1+F]&M[(6===h?h:4-h)+1]^x[7-F],(M[1+F]>>>28|M[F]<<4)^(M[F]>>>2|M[1+F]<<30)^(M[F]>>>7|M[1+F]<<25),(x[h]=M[F]&M[2===h?0:2+F])^M[F]&M[6===h?h:4-h]^x[6-F],(M[F]>>>28|M[1+F]<<4)^(M[1+F]>>>2|M[F]<<30)^(M[1+F]>>>7|M[F]<<25)),d(M,14-h,M[7-h],N[1],M[6-h],N[0]),d(M,6-h,N[3],N[1],N[2],N[0])}for(p=0;p<16;p+=2)d(f,p,f[p+1],M[p+1],f[p],M[p])}while(v)}else{for(O=63&g,C=g<<3,k=g>>29,p=0;p+63<g;p+=64){for(h=S;h<64;h++)b[h]=l.charCodeAt(P++);m(f,b),S=0}for(p=0;p<O;p++)b[p]=l.charCodeAt(P++);for(S=C>>3&63,b[S++]=128,p=S;p<(S>56?64:56);p++)b[p]=0;if(S>56)for(m(f,b),p=0;p<56;p++)b[p]=0;for(;p<64;)for(h=24;h>=0;h-=8,p++)b[p]=(p>=60?C:k)>>>h&255;m(f,b)}for(p=0;p<(512===u?16:384===u?12:256===u?8:7);p++)for(h=28;h>=0;h-=4)y+="0123456789abcdef".charAt(f[p]>>>h&15);return y}t.SHA2_224=function(e){return g(e,!1,224)},t.SHA2_256=function(e){return g(e,!1,256)},t.SHA2_384=function(e){return g(e,!0,384)},t.SHA2_512=function(e){return g(e,!0,512)},t.SHA2_512_224=function(e){return g(e,!0,224)},t.SHA2_512_256=function(e){return g(e,!0,256)}},1285:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(655);r.__exportStar(n(5739),t),r.__exportStar(n(7810),t),r.__exportStar(n(8178),t)},5739:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},7810:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},8178:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},1479:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Text=t.String=t.Numeric=t.Number=t.Date=t.Boolean=t.property=t.slot=t.Slot=t.Slots=void 0;var r=n(4873);Object.defineProperty(t,"Slots",{enumerable:!0,get:function(){return r.Slots}});var i=n(8389);Object.defineProperty(t,"Slot",{enumerable:!0,get:function(){return i.Slot}});var o=n(9716);Object.defineProperty(t,"slot",{enumerable:!0,get:function(){return o.slot}}),Object.defineProperty(t,"property",{enumerable:!0,get:function(){return o.property}});var a=n(6993);Object.defineProperty(t,"Boolean",{enumerable:!0,get:function(){return a.BooleanSlot}});var s=n(9341);Object.defineProperty(t,"Date",{enumerable:!0,get:function(){return s.DateSlot}});var u=n(6706);Object.defineProperty(t,"Number",{enumerable:!0,get:function(){return u.NumberSlot}});var c=n(8253);Object.defineProperty(t,"Numeric",{enumerable:!0,get:function(){return c.Numeric}});var l=n(5615);Object.defineProperty(t,"String",{enumerable:!0,get:function(){return l.StringSlot}});var p=n(8894);Object.defineProperty(t,"Text",{enumerable:!0,get:function(){return p.Text}})},9716:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.property=t.slot=void 0;var r=n(2907),i=n(4873);t.slot=function(e){return function(t){i.Slots.register(t,e)}},t.property=function(e,t,n){r.observable("property",e,t,n,(function(e){return e.target.propertyChange(e.property)}))}},1349:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.kindOrderIndexFor=void 0,t.kindOrderIndexFor=function(e){switch(e){case"meta":return 0;case"static":return 1;case"dynamic":return 2;case"feature":return 3}}},8389:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Slot=void 0;var r=n(655),i=n(4389),o=n(3339),a=n(5781),s=n(8678),u=n(4873),c=n(9716),l=function(e){function t(n,r,o,s,c,l,p){var h=e.call(this)||this;if(h.m_bReciprocate=!0,!i.isFilledString(o))throw new Error("Invalid slot reference supplied to slot constructor.");if(h.m_pType=n,h.m_sKind=r,h.m_sReference=o,h.m_nSequence=s,h.m_pExchangeables=l,p instanceof u.Slots){if(p.id&&"static"===r){var f=a.CSHA2_256(c?p.id+":"+c:p.id);if(f&&!p.selectByIdentifier(f))return h.hash=f,h.m_bReciprocate=!1,h}var d=t.recover(p,o,"static"===r||"dynamic"===r);d&&!p.selectByIdentifier(d)&&(h.hash=d)}else p&&(h.hash=p);return h}return r.__extends(t,e),t.reciprocate=function(e,n){n.m_bReciprocate&&e.id&&(t.m_pIds[e.id+":"+n.reference]=n.id,0===e.count&&(t.m_pIds[e.id]=e.id+":"+n.reference))},t.recover=function(e,n,r){if(e.id){var i=t.m_pIds[e.id+":"+n];if(i)return delete t.m_pIds[e.id+":"+n],i;if(r){var o=t.m_pIds[""+e.id];if(o){var a=t.m_pIds[o];if(delete t.m_pIds[e.id],a)return delete t.m_pIds[o],a}}}},Object.defineProperty(t.prototype,"slots",{get:function(){return this.parent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.hash},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this.m_pType.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"kind",{get:function(){return this.m_sKind},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sequence",{get:function(){return this.m_nSequence},set:function(e){this.m_nSequence=e,this.slots&&this.slots.sort()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"reference",{get:function(){return this.m_sReference},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exchangeables",{get:function(){var e=this;return i.map(this.m_pExchangeables,(function(t){return{property:t,get value(){return i.getAny(e,t)},set value(n){i.setAny(e,t,n)}}}))},enumerable:!1,configurable:!0}),t.prototype.getPipe=function(e){if(i.isBoolean(e.pipeable))return e.pipeable;var t;if(e.pipeable)t=e.pipeable;else{if(i.isBoolean(e.pipable))return e.pipable;t=e.pipable}return t?t.group?{legacy:t.group,label:t.label,alias:t.alias,content:t.content||t.template}:t:void 0},t.prototype.onPop=function(n){return t.reciprocate(n.matrix,this),e.prototype.onPop.call(this,n)},t.prototype.propertyChange=function(e){var t=this.slots;if(t&&!t.isDeserializing)switch(this.emitHook("OnSlotProperty",{slot:this,property:e}),t.emitHook("OnSlotProperty",{slot:this,property:e}),e){case"label":case"name":case"alias":case"placeholder":this.emitHook("OnSlotRename",{slot:this}),t.emitHook("OnSlotRename",{slot:this});break;case"required":this.emitHook("OnSlotRequired",{slot:this}),t.emitHook("OnSlotRequired",{slot:this})}},t.prototype.serialize=function(){return s.serializeTo(this,{id:this.id,type:this.type,kind:this.kind,reference:this.reference,sequence:this.sequence,label:this.label,name:this.name,placeholder:this.placeholder,alias:this.alias,required:this.required,pipeable:this.pipeable,default:this.default,exportable:this.exportable,actionable:this.actionable,protected:this.protected})},t.prototype.deserialize=function(e){return s.deserializeFrom(this,e),this.hash=e.id,this.sequence=e.sequence,this.label=e.label,this.name=e.name,this.placeholder=e.placeholder,this.alias=e.alias,this.required=e.required,this.pipeable=this.getPipe(e),this.default=e.default,this.exportable=e.exportable,this.actionable=i.isBoolean(e.actionable)?e.actionable:e.volatile,this.protected=e.protected,this},t.prototype.deprecate=function(){return this.pop(),this},t.prototype.delete=function(){return this.pop(),this},t.prototype.pipe=function(e){var t=(null==e?void 0:e.id)||this.slots&&this.slots.id;return t&&this.pipeable&&!i.isBoolean(this.pipeable)?a.CSHA2_256(this.pipeable.pipe?t+":"+this.pipeable.pipe:t):""},t.prototype.legacyPipe=function(e){var t=(null==e?void 0:e.id)||this.slots&&this.slots.id;return t&&this.pipeable&&!i.isBoolean(this.pipeable)&&this.pipeable.legacy?a.CSHA2_256(t+":"+this.pipeable.legacy):void 0},t.prototype.isPipe=function(e){if(e&&this.slots&&this.slots.id&&this.pipeable&&!i.isBoolean(this.pipeable)){if(a.CSHA2_256(this.pipeable.pipe?this.slots.id+":"+this.pipeable.pipe:this.slots.id)===e)return!0;if(this.pipeable.legacy&&a.CSHA2_256(this.slots.id+":"+this.pipeable.legacy)===e)return!0}return!1},t.prototype.exchange=function(e){this.m_pExchangeables=e},t.m_pIds={},r.__decorate([c.property],t.prototype,"label",void 0),r.__decorate([c.property],t.prototype,"name",void 0),r.__decorate([c.property],t.prototype,"placeholder",void 0),r.__decorate([c.property],t.prototype,"alias",void 0),r.__decorate([c.property],t.prototype,"required",void 0),r.__decorate([c.property],t.prototype,"pipeable",void 0),r.__decorate([c.property],t.prototype,"default",void 0),r.__decorate([c.property],t.prototype,"exportable",void 0),r.__decorate([c.property],t.prototype,"actionable",void 0),r.__decorate([c.property],t.prototype,"protected",void 0),r.__decorate([c.property],t.prototype,"sequence",null),r.__decorate([s.serializer],t.prototype,"serialize",null),r.__decorate([s.deserializer],t.prototype,"deserialize",null),t}(o.Item);t.Slot=l},4873:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Slots=void 0;var r=n(655),i=n(4389),o=n(3339),a=n(1349),s=n(8389),u=function(e){function t(t){var n=e.call(this)||this;return n.m_bDeserializing=!1,n.m_sId=null==t?void 0:t.id,n}return r.__extends(t,e),t.register=function(e,t){if(this.m_pTypes[t])throw new Error("Duplicate slot type '"+t+"' registered using the '@slot' decorator.");this.m_pTypes[i.set(e,"type",t)]=e},t.ofType=function(e){return this.m_pTypes[e]},Object.defineProperty(t.prototype,"id",{get:function(){return this.m_sId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isDeserializing",{get:function(){return this.m_bDeserializing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasMultiplePipeable",{get:function(){if(this.count>1){var e,t=0;return this.each((function(n){var r=n.pipeable&&!i.isBoolean(n.pipeable)?n.pipeable.pipe||!0:void 0;return(r&&r!==e||!r&&!1!==n.pipeable)&&t++,e||(e=r),t>1}))}return!1},enumerable:!1,configurable:!0}),t.prototype.create=function(e,t){var n=this.select(t.reference,e);return n&&n.type===t.type.type?n.sequence!==t.sequence&&(n.sequence=t.sequence):(n&&n.delete(),n=this.pushToMatrix(new t.type(t.type,e,t.reference,t.sequence,t.pipe,t.exchange,(null==n?void 0:n.id)||this))),i.each(t,(function(e,t){switch(t){case"type":case"reference":case"sequence":case"pipe":break;case"exchange":n.exchange(e);break;default:i.set(n,t,e)}}),{keys:!0}),n},t.prototype.onDimensionChange=function(t){e.prototype.onDimensionChange.call(this,t),this.isDeserializing||this.sort()},t.prototype.meta=function(e){return this.create("meta",e)},t.prototype.static=function(e){return this.create("static",e)},t.prototype.dynamic=function(e){return this.create("dynamic",e)},t.prototype.feature=function(e){return this.create("feature",e)},t.prototype.select=function(e,t){var n;return this.each((function(r){return!(t&&t!==r.kind||r.reference!==e&&r.id!==e||(n=r,0))})),n},t.prototype.selectByIdentifier=function(e){var t;if(e)return this.each((function(n){return!(n.id!==e&&!n.isPipe(e)||(t=n,0))})),t},t.prototype.deprecate=function(e,t){var n=this.select(e,t);if(n)return n.deprecate()},t.prototype.delete=function(e,t){var n=this.select(e,t);if(n)return n.delete()},t.prototype.clean=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.each((function(n){e&&n.kind!==e||i.findFirst(t,(function(e){return e instanceof s.Slot&&e.id===n.id}))||n.pop()}))},t.prototype.sort=function(){return!this.isDeserializing&&e.prototype.sort.call(this,(function(e,t){return a.kindOrderIndexFor(e.kind)-a.kindOrderIndexFor(t.kind)||(e.sequence||0)-(t.sequence||0)||e.uniqueId-t.uniqueId}))},t.prototype.serialize=function(){var e=[];return this.each((function(t){e.push(t.serialize())})),e},t.prototype.deserialize=function(e){var n=this;return this.m_bDeserializing=!0,i.each(e,(function(e){var r=t.ofType(e.type);if(!r)throw new Error("No slot implementation found for type '"+e.type+"'");var i=n.select(e.reference,e.kind);i&&i.type===r.type?i.deserialize(e):(i&&i.pop(),n.pushToMatrix(new r(r,e.kind,e.reference,e.sequence)).deserialize(e))})),this.m_bDeserializing=!1,this.sort(),this},t.prototype.destroy=function(){this.clear("dirty"),e.prototype.destroy.call(this)},t.m_pTypes={},t}(o.Matrix);t.Slots=u},6993:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.BooleanSlot=void 0;var r=n(655),i=n(4389),o=n(8678),a=n(8389),s=n(9716),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.toValue=function(e){return i.castToBoolean(e,this.default)},t.prototype.toString=function(e){var t=this.toValue(e);return!t&&this.labelForFalse?this.labelForFalse:t&&this.labelForTrue?this.labelForTrue:t?"True":"False"},r.__decorate([s.property,o.serialize,o.deserialize],t.prototype,"labelForFalse",void 0),r.__decorate([s.property,o.serialize,o.deserialize],t.prototype,"labelForTrue",void 0),r.__decorate([s.slot("boolean")],t)}(a.Slot);t.BooleanSlot=u},9341:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.DateSlot=void 0;var r=n(655),i=n(4389),o=n(8678),a=n(8389),s=n(9716),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),Object.defineProperty(t.prototype,"supportsTime",{get:function(){return"years"!==this.precision&&"months"!==this.precision&&"days"!==this.precision},enumerable:!1,configurable:!0}),t.prototype.fromString=function(e){var t=e.replace(" ","T").split("T"),n=t[0].split("-"),r=2===t.length&&t[1].split(":")||void 0;if(3===n.length&&(!r||3===r.length)){var o=new Date(0);if(o.setUTCFullYear(i.castToNumber(n[0])),o.setUTCMonth(i.castToNumber(n[1])-1),o.setUTCDate(i.castToNumber(n[2])),r){o.setUTCHours(i.castToNumber(r[0])),o.setUTCMinutes(i.castToNumber(r[1]));var a=r[2].split(".");o.setUTCSeconds(i.castToNumber(2===a.length?a[0]:r[2])),o.setUTCMilliseconds(2===a.length?i.castToNumber(a[1]):0)}else o.setUTCHours(0),o.setUTCMinutes(0),o.setUTCSeconds(0),o.setUTCMilliseconds(0);return o.getTime()}return this.default||0},t.prototype.toValue=function(e,t){var n=e instanceof Date?new Date(e.getTime()-60*e.getTimezoneOffset()*1e3):new Date(i.isString(e)?this.fromString(e):i.castToNumber(e,this.default)),r=!0===this.minimum?new Date:this.minimum,o=!0===this.maximum?new Date:this.maximum;if(i.isDate(r)||i.isNumberFinite(r)){var a=i.isDate(r)?r.getTime()-60*r.getTimezoneOffset()*1e3:r;n.getTime()<a&&n.setTime(a)}if(i.isDate(o)||i.isNumberFinite(o)){var s=i.isDate(o)?o.getTime()-60*o.getTimezoneOffset()*1e3:o;n.getTime()>s&&n.setTime(s)}switch(t||this.precision){case"years":n.setUTCMonth(0);case"months":n.setUTCDate(1);case"days":n.setUTCHours(0);case"hours":n.setUTCMinutes(0);case"minutes":n.setUTCSeconds(0);case"seconds":n.setUTCMilliseconds(0)}return n.getTime()},t.prototype.toDate=function(e,t){return new Date(this.toValue(e,t))},t.prototype.toString=function(e,t){var n=this.toDate(e,t),r=!0;switch(t||this.precision){case"years":case"months":case"days":r=!1}return n.getUTCFullYear()+"-"+i.Str.padLeft(n.getUTCMonth()+1,"0",2)+"-"+i.Str.padLeft(n.getUTCDate(),"0",2)+(r&&" "+i.Str.padLeft(n.getUTCHours(),"0",2)+":"+i.Str.padLeft(n.getUTCMinutes(),"0",2)+":"+i.Str.padLeft(n.getUTCSeconds(),"0",2)+"."+i.Str.padLeft(n.getUTCMilliseconds(),"0",3)||"")},r.__decorate([s.property,o.serialize,o.deserialize],t.prototype,"precision",void 0),r.__decorate([s.property,o.serialize,o.deserialize],t.prototype,"minimum",void 0),r.__decorate([s.property,o.serialize,o.deserialize],t.prototype,"maximum",void 0),r.__decorate([s.slot("date")],t)}(a.Slot);t.DateSlot=u},6706:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.NumberSlot=void 0;var r=n(655),i=n(4389),o=n(8389),a=n(9716),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.toValue=function(e){return i.castToNumber(e,this.default)},t.prototype.toString=function(e,t){return t?t(this.toValue(e)):i.castToString(this.toValue(e))},r.__decorate([a.slot("number")],t)}(o.Slot);t.NumberSlot=s},8253:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Numeric=void 0;var r=n(655),i=n(4389),o=n(8678),a=n(8389),s=n(9716),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),Object.defineProperty(t.prototype,"precision",{get:function(){return this.m_nPrecision},set:function(e){this.m_nPrecision=i.isNumberFinite(e)?i.Num.max(0,e):void 0},enumerable:!1,configurable:!0}),t.prototype.toValue=function(e){var t;return t=i.isNumberFinite(this.precision)&&this.precision>0?i.Num.conform(i.castToFloat(e,this.default),this.precision):i.castToNumber(e,this.default),i.isNumberFinite(this.minimum)&&t<this.minimum&&(t=this.minimum),i.isNumberFinite(this.maximum)&&t>this.maximum&&(t=this.maximum),t},t.prototype.formatString=function(e,t){return(t&&i.isString(this.prefixPlural)?this.prefixPlural:this.prefix||"")+e+(t&&i.isString(this.suffixPlural)?this.suffixPlural:this.suffix||"")},t.prototype.toString=function(e,t){var n=this.toValue(e);return this.formatString(this.digits?i.Str.padLeft(n,"0",this.digits,!1,!0):!t||this.separator||this.decimal||this.minus?i.Num.format(n,this.precision,this.separator||"",this.decimal,this.minus):t(n,this.precision),1!==n)},r.__decorate([s.property,o.serialize,o.deserialize],t.prototype,"minimum",void 0),r.__decorate([s.property,o.serialize,o.deserialize],t.prototype,"maximum",void 0),r.__decorate([s.property,o.serialize,o.deserialize],t.prototype,"separator",void 0),r.__decorate([s.property,o.serialize,o.deserialize],t.prototype,"decimal",void 0),r.__decorate([s.property,o.serialize,o.deserialize],t.prototype,"minus",void 0),r.__decorate([s.property,o.serialize,o.deserialize],t.prototype,"prefix",void 0),r.__decorate([s.property,o.serialize,o.deserialize],t.prototype,"prefixPlural",void 0),r.__decorate([s.property,o.serialize,o.deserialize],t.prototype,"suffix",void 0),r.__decorate([s.property,o.serialize,o.deserialize],t.prototype,"suffixPlural",void 0),r.__decorate([s.property,o.serialize,o.deserialize],t.prototype,"digits",void 0),r.__decorate([s.property,o.serialize,o.deserialize],t.prototype,"precision",null),r.__decorate([s.slot("numeric")],t)}(a.Slot);t.Numeric=u},5615:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.StringSlot=void 0;var r=n(655),i=n(4389),o=n(8389),a=n(9716),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.toValue=function(e){return i.castToString(e,this.default)},t.prototype.toString=function(e){return this.toValue(e)},r.__decorate([a.slot("string")],t)}(o.Slot);t.StringSlot=s},8894:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Text=void 0;var r=n(655),i=n(4389),o=n(8678),a=n(8389),s=n(9716),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),Object.defineProperty(t.prototype,"maxLength",{get:function(){return this.m_nMaxLength},set:function(e){this.m_nMaxLength=i.isNumberFinite(e)?i.Num.max(0,e):void 0},enumerable:!1,configurable:!0}),t.prototype.toValue=function(e){var t=i.Str.sanitize(i.castToString(e,this.default)).substr(0,this.maxLength||void 0);switch(this.transformation){case"capitalize":return i.Str.capitalize(t,"first-character");case"capitalize-words":return i.Str.capitalize(t,"each-word");case"capitalize-sentences":return i.Str.capitalize(t,"each-sentence");case"uppercase":return i.Str.uppercase(t);case"lowercase":return i.Str.lowercase(t)}return t},t.prototype.toString=function(e){return this.toValue(e)},r.__decorate([s.property,o.serialize,o.deserialize],t.prototype,"maxLength",null),r.__decorate([s.property,o.serialize,o.deserialize],t.prototype,"transformation",void 0),r.__decorate([s.slot("text")],t)}(a.Slot);t.Text=u},2208:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Errors=void 0,function(e){e[e.None=0]="None",e[e.OntologyInvalidState=1]="OntologyInvalidState",e[e.OntologyInvalidTransducer=2]="OntologyInvalidTransducer",e[e.OntologyInvalidBranch=4]="OntologyInvalidBranch",e[e.OntologyInvalidCondition=8]="OntologyInvalidCondition",e[e.OntologyInvalidJump=16]="OntologyInvalidJump",e[e.ResumeInvalidHash=32]="ResumeInvalidHash",e[e.ResumeInvalidData=64]="ResumeInvalidData",e[e.ResumeInvalidStack=128]="ResumeInvalidStack"}(t.Errors||(t.Errors={}))},7701:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ontology=t.Errors=t.Values=t.Value=t.OntologyProcessor=t.Ontology=t.Data=t.Context=t.Instance=t.ImmutableValue=t.Transducer=t.Transducers=t.State=t.States=t.Branch=t.Branches=t.Condition=t.Conditions=void 0;var r=n(2785);Object.defineProperty(t,"Conditions",{enumerable:!0,get:function(){return r.Conditions}});var i=n(2968);Object.defineProperty(t,"Condition",{enumerable:!0,get:function(){return i.Condition}});var o=n(4381);Object.defineProperty(t,"Branches",{enumerable:!0,get:function(){return o.Branches}});var a=n(6076);Object.defineProperty(t,"Branch",{enumerable:!0,get:function(){return a.Branch}});var s=n(1039);Object.defineProperty(t,"States",{enumerable:!0,get:function(){return s.States}});var u=n(1485);Object.defineProperty(t,"State",{enumerable:!0,get:function(){return u.State}});var c=n(9324);Object.defineProperty(t,"Transducers",{enumerable:!0,get:function(){return c.Transducers}});var l=n(637);Object.defineProperty(t,"Transducer",{enumerable:!0,get:function(){return l.Transducer}});var p=n(1303);Object.defineProperty(t,"ImmutableValue",{enumerable:!0,get:function(){return p.ImmutableValue}});var h=n(9668);Object.defineProperty(t,"Instance",{enumerable:!0,get:function(){return h.Instance}});var f=n(4139);Object.defineProperty(t,"Context",{enumerable:!0,get:function(){return f.Context}});var d=n(8390);Object.defineProperty(t,"Data",{enumerable:!0,get:function(){return d.Data}});var m=n(5260);Object.defineProperty(t,"Ontology",{enumerable:!0,get:function(){return m.Ontology}}),Object.defineProperty(t,"OntologyProcessor",{enumerable:!0,get:function(){return m.OntologyProcessor}});var g=n(4038);Object.defineProperty(t,"Value",{enumerable:!0,get:function(){return g.Value}});var b=n(7599);Object.defineProperty(t,"Values",{enumerable:!0,get:function(){return b.Values}});var y=n(2208);Object.defineProperty(t,"Errors",{enumerable:!0,get:function(){return y.Errors}});var _=n(6573);Object.defineProperty(t,"ontology",{enumerable:!0,get:function(){return _.ontology}})},6076:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Branch=void 0;var r=n(655),i=n(4389),o=n(2785),a=function(e){function t(t,n){var r=e.call(this,t,n.id)||this;return r.m_pStates=[],r.m_pConditions=new o.Conditions(r),r.m_pProps=n,r.m_sCulling="each"===n.culling||"all"===n.culling||"none"===n.culling?n.culling:"first",r.m_bSpawn=i.castToBoolean(n.spawn),r}return r.__extends(t,e),Object.defineProperty(t.prototype,"branches",{get:function(){return this.parent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"states",{get:function(){return this.m_pStates},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this.branches.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"conditions",{get:function(){return this.m_pConditions},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"props",{get:function(){return this.m_pProps},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"culling",{get:function(){return this.m_sCulling},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"spawn",{get:function(){return this.m_bSpawn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMain",{get:function(){return this.state.isMain},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isFinish",{get:function(){return this.isMain||"abort"===this.m_pProps.jump},enumerable:!1,configurable:!0}),t.prototype.entry=function(e){return this.m_pStates.length>0?this.m_pStates[0]:this.successor(e)},t.prototype.onReady=function(e){this.emitHook("OnReady",{branch:this,context:e})},t.prototype.onEnter=function(e){this.emitHook("OnEnter",{branch:this,context:e})},t.prototype.onSkip=function(e){this.emitHook("OnSkip",{branch:this,context:e})},t.prototype.onLeave=function(e){this.emitHook("OnLeave",{branch:this,context:e})},t.prototype.onCancel=function(e){this.emitHook("OnCancel",{branch:this,context:e})},t}(n(8406).Factory);t.Branch=a},4381:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Branches=void 0;var r=n(655),i=function(e){function t(t){var n=e.call(this,t.ontology.constructors.branch)||this;return n.m_pState=t,n}return r.__extends(t,e),Object.defineProperty(t.prototype,"state",{get:function(){return this.m_pState},enumerable:!1,configurable:!0}),t.prototype.create=function(e,t){return this.appendToMatrix(e).prepare(t)},t}(n(3339).StrictMatrix);t.Branches=i},2968:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Condition=void 0;var r=n(655),i=n(8406),o=n(5781),a=n(4389),s=function(e){function t(t,n){var r=e.call(this,t,n.id)||this;return r.m_sContext="",r.m_pProps=n,r}return r.__extends(t,e),t.createContext=function(e){return o.CSHA2_256(JSON.stringify(a.extendImmutable(e,{id:""})))},Object.defineProperty(t.prototype,"conditions",{get:function(){return this.parent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"branch",{get:function(){return this.conditions.branch},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this.branch.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this.m_sContext||(this.m_sContext=t.createContext(this.m_pProps))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"props",{get:function(){return this.m_pProps},enumerable:!1,configurable:!0}),t.prototype.onApproved=function(e){},t}(i.Factory);t.Condition=s},2785:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Conditions=void 0;var r=n(655),i=n(2968),o=function(e){function t(t){var n=e.call(this,t.state.ontology.constructors.condition)||this;return n.m_pBranch=t,n}return r.__extends(t,e),Object.defineProperty(t.prototype,"branch",{get:function(){return this.m_pBranch},enumerable:!1,configurable:!0}),t.prototype.create=function(e){var t=i.Condition.createContext(e);if(!this.each((function(e){return e.context===t})))return this.appendToMatrix(e)},t}(n(3339).StrictMatrix);t.Conditions=o},6573:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ontology=void 0;var r=n(4389);t.ontology=function(e){return function(t){r.set(t,"property",e)}}},8406:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Factory=void 0;var r=n(655),i=function(e){function t(t,n){var r=e.call(this,t)||this;return r.m_pSuccessors={live:{},preview:{}},r.hash=n,r}return r.__extends(t,e),Object.defineProperty(t.prototype,"ancestor",{get:function(){return this.m_pAncestor},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"branch",{get:function(){return this.m_pBranch},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.hash},enumerable:!1,configurable:!0}),t.prototype.selectSuccessor=function(e){return this.m_pSuccessors[e]},t.prototype.prepare=function(e,t){return void 0===t&&(t=void 0),this.m_pAncestor=e,this.m_pBranch=t,this},t.prototype.setSuccessor=function(e,t){var n=this.selectSuccessor(e);n.state=t,n.isSet=!0},t.prototype.successor=function(e){var t=this.selectSuccessor(e);if(!t.isSet){var n=this.branch||this.ancestor;n&&(t.state=n.successor(e),t.isSet=!0)}return t.state},t}(n(3339).StrictItem);t.Factory=i},4139:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Context=void 0;var r=n(5781),i=n(1479),o=n(4389),a=function(){function e(t,n){this.m_pMutables={},this.m_pImmutables={},this.m_nId=e.m_nId++,this.m_pStack=t,this.m_pChain=n}return Object.defineProperty(e.prototype,"instance",{get:function(){return this.m_pStack.instance},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"l10n",{get:function(){return this.instance.l10n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.m_nId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){if(!this.m_sKey){for(var e=this.m_pStack,t="";e;){var n=e.mutableContext;n&&(t+=n.context),e=e.ancestor}this.m_sKey=r.CSHA2_256(t||"*")}return this.m_sKey},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"index",{get:function(){return this.m_pStack.branchIndex},enumerable:!1,configurable:!0}),e.prototype.getImmutableValue=function(e,t){var n=e instanceof i.Slot?e.id:o.isObject(e)?e.slot.id:e,r=this.m_pImmutables[n];return r&&r.isSealed?r:(t||(t=this.instance.data.forSlot(e)),t&&o.set(this.m_pImmutables,n,t.immutableValue(this.m_pStack)))},e.prototype.validationOf=function(e){return this.m_pStack.validationOf(e)},e.prototype.isMutableContextOf=function(e){return e.state===this.m_pStack.state&&e.mutableContext===this.m_pStack.mutableContext},e.prototype.mutableValueOf=function(e){var t=e instanceof i.Slot?e.id:o.isObject(e)?e.slot.id:e,n=this.m_pMutables[t];if(n)return n;var r=this.instance.data.forSlot(t);return r&&o.set(this.m_pMutables,t,r.mutableValue(this.m_pStack,!1,this))},e.prototype.immutableValueOf=function(e){return this.getImmutableValue(e)},e.prototype.contextualValueOf=function(e){var t=e instanceof i.Slot?e.id:o.isObject(e)?e.slot.id:e,n=this.m_pMutables[t];if(n)return n;var r=this.instance.data.forSlot(t);return r&&o.set(this.m_pMutables,t,r.mutableValue(this.m_pStack,!0,this))},e.prototype.proxyValueOf=function(e,t,n,r,i){var a,s=this;return{get context(){return a||(a=s.getImmutableValue(t,e)),null==a?void 0:a.context},get string(){if(a||(a=s.getImmutableValue(t,e)),a){if(n&&t.pipeable&&!o.isBoolean(t.pipeable)&&t.pipeable.content&&"value"!==t.pipeable.content){var u=t.pipeable.content;return("name"===u?t.name:"label"===u?t.label:u.string)||""}return a.hasValue&&a.isSealed&&(i&&i(a,s)||a.string)||""}return o.Str.iterateToString(e.getString(s.m_pStack,s,n,i),r)},get content(){if(a||(a=s.getImmutableValue(t,e)),a){if(n&&t.pipeable&&!o.isBoolean(t.pipeable)&&t.pipeable.content&&"value"!==t.pipeable.content){var u=t.pipeable.content;return"name"===u?[{value:t.name||"",type:"string",separator:r}]:"label"===u?[{value:t.label||"",type:"string",separator:r}]:u.markdown?[{value:u.markdown,type:"markdown",separator:r}]:u.text?[{value:u.text,type:"text",separator:r}]:[{value:u.string,type:"string",separator:r}]}return[{value:a.hasValue&&a.isSealed&&(i&&i(a,s)||a.string)||"",type:"string",separator:r}]}return e.getContent(s.m_pStack,s,n,r,i)},get value(){return a||(a=s.getImmutableValue(t,e)),a?a.isSealed?a.value:void 0:e.getValue(s.m_pStack)},get reference(){if(a||(a=s.getImmutableValue(t,e)),a&&a.isSealed)return a.reference},get hasValue(){return a||(a=s.getImmutableValue(t,e)),a?a.hasValue&&a.isSealed:e.hasValue(s.m_pStack)},get refs(){return a||(a=s.getImmutableValue(t,e)),a?[a.hasValue&&a.isSealed&&a.reference||t.reference]:e.getRefs(s.m_pStack,n)},update:function(e){a=e}}},e.prototype.variableFor=function(e,t,n,r,a,s){var u=this;if(void 0===a&&(a=", "),void 0===s&&(s=!1),r&&e===r){var c=this.instance;return{id:r,get string(){return c.finishReference},get content(){return[{value:c.finishReference,type:"string",separator:a}]},get reference(){return c.finishReference},hasValue:!0,refs:[r],subscribe:o.noop,unsubscribe:o.noop}}var l=e instanceof i.Slot?e.id:o.isObject(e)?e.slot.id:e,p=e instanceof i.Slot?e:o.isObject(e)?e.slot:this.m_pChain.slot(l);if(p instanceof i.Slot){var h=this.instance.data.forSlot(p);if(h){var f,d=this,m=p,g={slot:p,id:l,get hasValue(){return(f||(f=d.proxyValueOf(h,m,s,a,n))).hasValue},get value(){return(f||(f=d.proxyValueOf(h,m,s,a,n))).value},get reference(){return(f||(f=d.proxyValueOf(h,m,s,a,n))).reference},get string(){return(f||(f=d.proxyValueOf(h,m,s,a,n))).string},get content(){return(f||(f=d.proxyValueOf(h,m,s,a,n))).content},get refs(){return(f||(f=d.proxyValueOf(h,m,s,a,n))).refs},subscribe:function(e,t){var r=function(t){if(f&&f.context===t.context)f.update(t.value),e(g);else{var r=u.proxyValueOf(h,m,s,a,n);!r||f&&f.context===r.context||(f=r,e(g))}};h.groupedHook("OnValueChange","synchronous",(function(e){return r(e)}),t),h.groupedHook("OnSealChange","synchronous",(function(e){return r(e)}),t)},unsubscribe:function(e){return h.unhook("OnValueChange",e)}};return g}}else if(p&&p.length>0){var b=[];if(t)for(var y=this.m_pStack,_=function(){var e=y.immutableContext;if(e){var i=t(e,v);if(i){var s=o.findFirst(p,(function(e){return e.id===i}));if(s&&s.pipeable&&!o.isBoolean(s.pipeable)){var u=v.variableFor(s,void 0,n,r,a,!0);if(u)return o.set(u,"id",l),{value:u}}}}y=y.ancestor},v=this;y;){var S=_();if("object"==typeof S)return S.value}o.each(p,(function(e){if(e.pipeable&&!o.isBoolean(e.pipeable)){var t=u.variableFor(e,void 0,n,r,a,!0);t&&b.push(t)}}));var P={id:l,get string(){var e,t,n="";return o.each(b,(function(r){if(r.slot){var s=r.slot;if(!(s instanceof i.Boolean)||!0===r.value)if(!(r.slot instanceof i.Number||r.slot instanceof i.Numeric)||s.pipeable&&!o.isBoolean(s.pipeable)&&"value"!==s.pipeable.content){var u=r.string;u&&(n+=(""===n?"":a)+u)}else t=r.slot,r.hasValue&&o.isNumberFinite(r.value)&&(e=(e||0)+r.value)}})),t&&o.isNumberFinite(e)&&(n+=(""===n?"":a)+t.toString(e)),n},get content(){var e,t,n=[];return o.each(b,(function(r){if(r.slot){var a=r.slot;a instanceof i.Boolean&&!0!==r.value||(!(r.slot instanceof i.Number||r.slot instanceof i.Numeric)||a.pipeable&&!o.isBoolean(a.pipeable)&&"value"!==a.pipeable.content?n.push.apply(n,r.content):(t=r.slot,r.hasValue&&o.isNumberFinite(r.value)&&(e=(e||0)+r.value)))}})),t&&o.isNumberFinite(e)&&n.push({value:t.toString(e),type:"string",separator:a}),n},get hasValue(){return!!o.findFirst(b,(function(e){if(e.slot){var t=e.slot;if(t.pipeable&&!o.isBoolean(t.pipeable))return e.hasValue}return!1}))},get refs(){var e=[];return o.each(b,(function(t){!t.slot||t.slot instanceof i.Boolean&&!0!==t.value||e.push.apply(e,t.refs)})),e},subscribe:function(e,t){return o.each(b,(function(n){return n.subscribe((function(){return e(P)}),t)}))},unsubscribe:function(e){return o.each(b,(function(t){return t.unsubscribe(e)}))}};return P}},e.m_nId=0,e}();t.Context=a},8390:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Data=void 0;var r=n(655),i=n(4389),o=n(3339),a=n(1479),s=n(7599),u=function(e){function t(t,n,r){var i=e.call(this)||this;return i.m_pValues={},n.states.each((function(e){e.transducers.each((function(e){e.slots.each((function(o){i.forSlot(o)||s.Values.pushToMatrix(new s.Values(e,o,t,n,r),i)}))}))})),i}return r.__extends(t,e),Object.defineProperty(t.prototype,"exportables",{get:function(){var e=[];return this.each((function(t){i.castToBoolean(t.slot.exportable,!t.slot.actionable)&&e.push(t)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasSealedValues",{get:function(){return this.each((function(e){return e.hasSealedValues}))},enumerable:!1,configurable:!0}),t.prototype.forSlot=function(e){var t=e instanceof a.Slot?e.id:i.isObject(e)?e.slot.id:e;if(t){var n=this.m_pValues[t];return n||(this.each((function(e){return e.slot.id===t&&(n=e,!0)})),i.set(this.m_pValues,t,n)),n}},t.prototype.freeze=function(){this.each((function(e){return e.freeze()}))},t.prototype.unfreeze=function(){this.each((function(e){return e.unfreeze()}))},t}(o.Matrix);t.Data=u},1303:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ImmutableValue=void 0;var n=function(){function e(e){this.m_pValue=e}return Object.defineProperty(e.prototype,"key",{get:function(){return this.m_pValue.key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return this.m_pValue.context},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"slot",{get:function(){return this.m_pValue.slot},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.m_pValue.value},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"string",{get:function(){return this.m_pValue.string},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"reference",{get:function(){return this.m_pValue.reference},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"time",{get:function(){return this.m_pValue.time},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasValue",{get:function(){return this.m_pValue.hasValue},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isModified",{get:function(){return this.m_pValue.isModified},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isSealed",{get:function(){return this.m_pValue.isSealed||this.m_pValue.isPreliminarily},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isLocked",{get:function(){return this.m_pValue.isLocked},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isFrozen",{get:function(){return this.m_pValue.isFrozen},enumerable:!1,configurable:!0}),e.prototype.subscribe=function(e,t){var n=this;return this.m_pValue.subscribe((function(){return e(n)}),t),this},e.prototype.unsubscribe=function(e){return this.m_pValue.unsubscribe(e),this},e}();t.ImmutableValue=n},4038:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Value=void 0;var r=n(4389),i=n(9165),o=n(1303),a=n(5781),s=function(){function e(t,n,r,o,a,s,u,c,l,p){void 0===l&&(l=!1),void 0===p&&(p=!1),this.m_pSubscriptions=new i.Hooks,this.m_bImport=!1,this.m_bImportListener=!1,this.m_bImportModifier=!1,this.m_bVerifySeal=!1,this.m_bAwaiting=!1,this.m_bAllowPrefill=!0,this.m_bDefault=!1,this.m_bFrozen=!1,this.m_nEmitter=0,this.m_bOperation=!1,this.m_nId=e.m_pEnumerator.n,this.m_pTransducer=t,this.m_pSlot=n,this.m_sContext=r,this.m_fnChange=a,this.m_pValue=s,this.m_sReference=u,this.m_bSealed=l,this.m_bLocked=p,this.attachContext(o),this.setTime(c)}return Object.defineProperty(e.prototype,"id",{get:function(){return this.m_nId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.m_sKey||(this.m_sKey="_"+a.CSHA2_256(this.slot.id+"/"+this.id))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return this.m_sContext},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"contextRef",{get:function(){return this.m_pContext},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"slot",{get:function(){return this.m_pSlot},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pristine",{get:function(){return this.m_pValue},set:function(e){this.isFrozen||this.isLocked||e===this.m_pValue||(this.m_pValue=e,this.m_bVerifySeal=!0,this.m_bAwaiting=!1,this.setTime(),this.emitChange("value"))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.slot.toValue(this.pristine)},set:function(e){this.pristine=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"string",{get:function(){return this.slot.toString(this.value)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"reference",{get:function(){return this.m_sReference},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasValue",{get:function(){return!!r.isNumberFinite(this.m_nTime)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isModified",{get:function(){return this.m_bImport?this.isDirty||this.m_pInitialValue!==this.m_pValue:!this.isDirty&&!r.isUndefined(this.m_pValue)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isPreliminarily",{get:function(){var e;return(null===(e=this.m_pContext)||void 0===e?void 0:e.instance.isTransducerPresent(this.m_pTransducer))||!1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isSealed",{get:function(){var e;return(null===(e=this.m_pContext)||void 0===e?void 0:e.instance.isPreview)||this.m_bSealed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDirty",{get:function(){return!this.isSealed||!this.hasValue},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shouldVerifySeal",{get:function(){return!!this.m_bVerifySeal&&(this.m_bVerifySeal=!1,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isFrozen",{get:function(){return this.m_bFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isLocked",{get:function(){return this.m_bLocked},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isAwaiting",{get:function(){return this.m_bAwaiting},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"allowPrefill",{get:function(){return this.m_bAllowPrefill},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"time",{get:function(){return this.m_nTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"immutable",{get:function(){return new o.ImmutableValue(this)},enumerable:!1,configurable:!0}),e.prototype.emitChange=function(e,t,n){var i=this;if(void 0===t&&(t=!0),void 0===n&&(n=!1),0!==this.m_nEmitter&&(this.m_nEmitter=r.cancelPromise(this.m_nEmitter)),"value"===e){this.m_fnModifier&&this.m_bImportModifier&&(this.m_bImportModifier=!1),this.m_fnListener&&this.m_bImportListener&&(this.m_bImportListener=!1);var o=this.m_fnModifier&&this.m_fnModifier(this);o&&(this.m_pValue=o.value,this.m_sReference=o.reference,this.setTime()),this.m_fnListener&&this.m_fnListener(this)}if(t){var a=function(){i.m_nEmitter=0,i.m_fnChange(i,e),i.m_pSubscriptions.emitHook("OnChange",{})};n?this.m_nEmitter=r.schedulePromise((function(){return a()})):a()}},e.prototype.setTime=function(e){this.m_nTime=r.isUndefined(this.m_pValue)?void 0:r.isNumberFinite(e)?e:r.DateTime.now,r.isNumberFinite(this.m_nTime)&&(this.m_bAllowPrefill=!1),this.m_bOperation||(this.m_pOperations=void 0)},e.prototype.makeDirty=function(e){if(!this.isFrozen&&!this.isLocked){var t=this.m_nTime;e?this.m_nTime=void 0:this.hasValue||(this.m_nTime=r.DateTime.now),t!==this.m_nTime&&(this.m_bVerifySeal=!0,this.m_bAwaiting=!1,this.emitChange("value",!0,!0))}},e.prototype.precursor=function(){this.m_pInitialValue=this.m_pValue,this.m_sInitialReference=this.m_sReference},e.prototype.set=function(e,t){return this.isFrozen||this.isLocked||!(e!==this.m_pValue||this.m_sReference!==t||this.hasValue&&r.isUndefined(this.m_pValue)&&r.isUndefined(this.m_sReference)||this.m_bAwaiting)||(this.m_pValue=e,this.m_sReference=t,this.m_bVerifySeal=!0,this.m_bAwaiting=!1,this.setTime(),this.emitChange("value")),this.value},e.prototype.concatenate=function(e,t,n){if(!r.findFirst(this.m_pOperations,(function(n){return n===(t||e)}))){var i=this.string;(this.m_pOperations||(this.m_pOperations=[])).push(t||e),this.m_bOperation=!0,this.set(i+(i&&e&&n||"")+e),this.m_bOperation=!1}return this.string},e.prototype.operation=function(e,t){return t&&r.findFirst(this.m_pOperations,(function(e){return e===t}))||((this.m_pOperations||(this.m_pOperations=[])).push(t),this.m_bOperation=!0,this.set(e),this.m_bOperation=!1),this},e.prototype.reset=function(e,t){var n=this.m_pInitialValue,i=this.m_sInitialReference;return r.isUndefined(n)&&(n=e,i=t),this.set(n,i),this.m_bAllowPrefill=!this.hasValue,this.value},e.prototype.default=function(e,t){return this.m_bDefault||(this.m_bDefault=!0,this.set(e,t)),this.value},e.prototype.await=function(){return this.isFrozen||this.isLocked||this.m_bAwaiting||(this.m_bAwaiting=!0,this.m_bVerifySeal=!0,this.emitChange("value")),this},e.prototype.cancelAwait=function(){return this.m_bAwaiting&&(this.m_bAwaiting=!1,this.m_bVerifySeal=!0,this.emitChange("value")),this},e.prototype.seal=function(e){this.m_bSealed!==e&&(this.m_bSealed=e,e||this.unlock(),this.m_pContext&&this.m_pContext.instance.isPreview||this.emitChange("seal"))},e.prototype.freeze=function(){var e;this.m_bFrozen||(this.m_bFrozen=!0,null===(e=this.contextRef)||void 0===e||e.instance.markAsChanged(this.slot,!0))},e.prototype.unfreeze=function(){var e;this.m_bFrozen&&(this.m_bFrozen=!1,null===(e=this.contextRef)||void 0===e||e.instance.markAsChanged(this.slot,!0))},e.prototype.lock=function(){var e;this.m_bLocked||(this.m_bLocked=!0,null===(e=this.contextRef)||void 0===e||e.instance.markAsChanged(this.slot,!0))},e.prototype.unlock=function(){var e;this.m_bLocked&&(this.m_bLocked=!1,null===(e=this.contextRef)||void 0===e||e.instance.markAsChanged(this.slot,!0))},e.prototype.clear=function(){return this.set(void 0)},e.prototype.import=function(e,t,n,i){return void 0===i&&(i=!1),this.isFrozen||this.isLocked||r.isUndefined(e)||(this.m_bImport=this.m_bImportListener=this.m_bImportModifier=!0,this.m_pInitialValue=e,this.m_sInitialReference=t,(e!==this.m_pValue||t!==this.m_sReference||this.m_bAwaiting)&&(this.m_pValue=e,this.m_sReference=t,this.m_bAwaiting=!1,this.m_bVerifySeal=!0,this.setTime(n),this.emitChange("value",!i))),this.value},e.prototype.confirm=function(){return this.makeDirty(!1),this},e.prototype.dirty=function(){return this.makeDirty(!0),this},e.prototype.subscribe=function(e,t,n){var r=this;return void 0===n&&(n="asynchronous"),this.m_pSubscriptions.hook("OnChange",n,(function(){return e(r)}),t),this},e.prototype.unsubscribe=function(e){return this.m_pSubscriptions.unhook("OnChange",e),this},e.prototype.useListener=function(e){return this.m_bImportListener&&(this.m_bImportListener=!1,e(this)),this.m_fnListener=e,this},e.prototype.useModifier=function(e){if(this.m_bImportModifier&&e){this.m_bImportModifier=!1;var t=e(this);t&&this.set(t.value,t.reference)}return this.m_fnModifier=e,this},e.prototype.attachContext=function(e){return this.m_pContext||(this.m_pContext=e),this},e.prototype.useContext=function(e){return this.m_fnContext=e,this},e.prototype.mountContext=function(e){return this.m_fnContext&&this.m_fnContext(this,e),this},e.m_pEnumerator=new r.Enumerator,e}();t.Value=s},7599:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Values=void 0;var r=n(655),i=n(3339),o=n(5781),a=n(4389),s=n(1479),u=n(1485),c=n(4038),l=function(e){function t(t,n,r,i,o){var a=e.call(this)||this;return a.m_pValues={},a.m_pMutables={},a.m_pImmutables={},a.m_pReferences={},a.m_pTransducer=t,a.m_pSlot=n,a.m_pInstance=r,a.m_pOrchestrator=i,a.m_fnUpdate=o,a}return r.__extends(t,e),t.getContextHash=function(e){return t.m_pContexts[e]||(t.m_pContexts[e]=o.CSHA2_256(e))},Object.defineProperty(t.prototype,"data",{get:function(){return this.parent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transducer",{get:function(){return this.m_pTransducer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"slot",{get:function(){return this.m_pSlot},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"values",{get:function(){var e={};return a.each(this.m_pValues,(function(t,n){t&&!t.isDirty&&a.set(e,n,{value:t.value,reference:t.reference,time:t.time||0})}),{keys:!0}),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasSealedValues",{get:function(){return!!a.findFirst(this.m_pValues,(function(e){return e&&e.isSealed&&(a.castToBoolean(e.slot.exportable,!0)||e.slot.actionable)||!1}))},enumerable:!1,configurable:!0}),t.prototype.storeContextReference=function(e,t){var n=this.m_pReferences[e||"*"]||a.set(this.m_pReferences,e||"*",{});return n[t]||a.set(n,t,!0),t},t.prototype.isSlotInBranch=function(e,t){var n=this;return a.findFirst(e.states,(function(e){return e.transducers.each((function(e){return e.slots.each((function(e){return e.id===n.m_pSlot.id}))}))||e.branches.each((function(e){return(t||"each"!==e.culling)&&n.isSlotInBranch(e,t)}))}))instanceof u.State},t.prototype.create=function(e,t,n,r){var i=this;return a.set(this.m_pValues,e,new c.Value(this.transducer,this.slot,e,n,(function(e,t){var n={transducer:i.transducer,slot:i.slot,data:i.data,id:e.id,context:e.context,get value(){return e.immutable}};switch(t){case"value":i.m_fnUpdate({transducer:i.transducer,slot:i.slot,data:i.data,id:e.id,key:e.context,context:e.contextRef,isSealed:e.isSealed,get value(){return e.immutable}}),i.emitHook("OnValueChange",n),i.data.emitHook("OnValueChange",n);break;case"seal":if(i.emitHook("OnSealChange",n),i.data.emitHook("OnSealChange",n),e.contextRef&&e.isSealed){var r=i.m_pOrchestrator.dependencies(i.slot);i.transducer.parent.each((function(t){!1===r[t.id]&&t!==i.transducer&&t.onSideEffect(e.contextRef,n.transducer)}))}}}),r&&r.b,r&&r.c,r&&r.e,t||a.Flags.has(r&&r.d||0,1),a.Flags.has(r&&r.d||0,2)))},t.prototype.assert=function(e,t,n){var r=this.m_pValues[e];return r?r.attachContext(n):this.create(e,t,n)},t.prototype.mutableContext=function(e,n){var r=(null==e?void 0:e.trace)||"";if(!r)return[];var i=this.m_pMutables[r];if(i)return i;for(var o=[],s=!1;e;)(h=e.mutableContext)&&(s=s||n||this.isSlotInBranch(h.branch,!0))&&o.push({condition:h,context:h.context}),e=e.ancestor;var u=o.length;if(u>0)for(var c="",l="",p=u-1;p>=0;p--){var h=o[p],f=c&&t.getContextHash(c+h.context)||h.context;c+=h.context,a.set(h,"context",this.storeContextReference(l,f)),l=f}return a.set(this.m_pMutables,r,o)},t.prototype.immutableContext=function(e){var n=(null==e?void 0:e.trace)||"";if(!n)return[];var r=this.m_pImmutables[n];if(r)return r;for(var i=[];e;)(f=e.immutableContext)&&i.push(f),e=e.ancestor;var o=i.length;if(o>0){for(var s=[],u=o-1;u>=0;u--)for(var c="",l="",p=0,h=u;h>=0;h--){var f=i[h],d=c&&t.getContextHash(c+f.context)||f.context;s.push({condition:f,context:this.storeContextReference(l,d),relevance:p++}),c+=f.context,l=d}return s.sort((function(e,t){return t.relevance-e.relevance})),a.set(this.m_pImmutables,n,s)}return[]},t.prototype.getValues=function(e){var t=this,n=[];return a.each(this.m_pReferences[e],(function(e,r){var i=t.m_pValues[r];i?i.isSealed&&i.hasValue&&n.push(i.immutable):n.push.apply(n,t.getValues(r))}),{keys:!0}),n},t.prototype.mutableValue=function(e,t,n){var r=this.mutableContext(e,t);return this.assert(r.length>0?r[0].context:"*",t,n)},t.prototype.immutableValue=function(e){for(var t=this.immutableContext(e),n=t.length,r=0;r<n;r++){var i=this.m_pValues[t[r].context];if(i)return(i.isSealed||i.isPreliminarily)&&i.immutable||void 0}var o=this.m_pValues["*"];return o&&(o.isSealed||o.isPreliminarily)&&o.immutable||void 0},t.prototype.immutableValues=function(e){for(var t=this.immutableContext(e),n=t.length,r=0;r<n;r++){var i=t[r],o=this.getValues(i.context);if(o.length>0||this.isSlotInBranch(i.condition.branch,!1))return o}return this.getValues("*")},t.prototype.isModified=function(e){var t=this.m_pValues[e];return t&&t.isModified||!1},t.prototype.snapshot=function(){var e=[];if(a.each(this.m_pValues,(function(t){if(t){var n=!1,r=a.Flags.convert(t.isSealed,t.isLocked),i={a:t.context};a.isDefined(t.pristine)&&(a.set(i,"b",t.pristine),n=!0),a.isString(t.reference)&&(a.set(i,"c",t.reference),n=!0),r>0&&(a.set(i,"d",r),n=!0),a.isNumberFinite(t.time)&&(a.set(i,"e",t.time),n=!0),n&&e.push(i)}})),e.length>0)return{a:this.slot.id,b:e}},t.prototype.restore=function(e){var t=this;e.a===this.slot.id&&a.each(e.b,(function(e){t.create(e.a,!1,void 0,e)}))},t.prototype.freeze=function(){a.each(this.m_pValues,(function(e){e&&e.freeze()}))},t.prototype.unfreeze=function(){a.each(this.m_pValues,(function(e){e&&e.unfreeze()}))},t.prototype.importValue=function(e,t){this.assert(e,!0).import(t.value,t.reference,t.time,!this.m_pInstance.isInitialized)},t.prototype.import=function(e){var t=this;a.each(e,(function(e,n){return t.importValue(n,e)}),{keys:!0})},t.prototype.hasValue=function(e){return this.immutableValues(e).length>0},t.prototype.getValue=function(e){var t=this.immutableValues(e);if(t.length>0){var n=t[0].slot;if(n instanceof s.Boolean)return!!a.findFirst(t,(function(e){return!0===e.value}));if(n instanceof s.Number||n instanceof s.Numeric){var r=void 0;return a.each(t,(function(e){a.isNumberFinite(e.value)&&(r=(r||0)+e.value)})),r}}},t.prototype.getString=function(e,t,n,r){var i,o,u=[];return a.each(this.immutableValues(e),(function(e){if(!(n&&e.slot instanceof s.Boolean&&!0!==e.value))if(n&&e.slot.pipeable&&!a.isBoolean(e.slot.pipeable)&&e.slot.pipeable.content&&"value"!==e.slot.pipeable.content){var c=e.slot.pipeable.content;u.push(("name"===c?e.slot.name:"label"===c?e.slot.label:c.string)||"")}else if(e.slot instanceof s.Number||e.slot instanceof s.Numeric)o=e.slot,a.isNumberFinite(e.value)&&(i=(i||0)+e.value);else{var l=r&&r(e,t)||e.string||"";l&&u.push(l)}})),o&&a.isNumberFinite(i)&&u.push(o.toString(i)),u},t.prototype.getContent=function(e,t,n,r,i){var o,u,c=[];return a.each(this.immutableValues(e),(function(e){if(!(n&&e.slot instanceof s.Boolean&&!0!==e.value))if(n&&e.slot.pipeable&&!a.isBoolean(e.slot.pipeable)&&e.slot.pipeable.content&&"value"!==e.slot.pipeable.content){var l=e.slot.pipeable.content;"name"===l?c.push({value:e.slot.name||"",type:"string",separator:r}):"label"===l?c.push({value:e.slot.label||"",type:"string",separator:r}):l.markdown?c.push({value:l.markdown,type:"markdown",separator:r}):l.text&&c.push({value:l.text,type:"text",separator:r})}else e.slot instanceof s.Number||e.slot instanceof s.Numeric?(u=e.slot,a.isNumberFinite(e.value)&&(o=(o||0)+e.value)):c.push({value:i&&i(e,t)||e.string||"",type:"string",separator:r})})),u&&a.isNumberFinite(o)&&c.push({value:u.toString(o),type:"string",separator:r}),c},t.prototype.getRefs=function(e,t){var n=[];return a.each(this.immutableValues(e),(function(e){t&&e.slot instanceof s.Boolean&&!0!==e.value||n.push(e.hasValue&&e.reference||e.slot.reference)})),n},t.prototype.inherit=function(e){var t=this;a.each(this.m_pValues,(function(n,r){n&&n.subscribe((function(i){e.data.each((function(e){if(e.slot.id===t.slot.id){var o=e.m_pValues[r];return o&&(o.set(i.pristine,i.reference),n.unsubscribe(t)),!0}return!1}))}),t,"synchronous")}),{keys:!0})},t.m_pContexts={},t}(i.Item);t.Values=l},9668:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Instance=void 0;var r=n(655),i=n(4139),o=n(8390),a=n(4389),s=n(2208),u=n(3339),c=n(5781),l=n(6621),p=n(1744),h=n(5858),f=n(1485),d=function(e){function t(n,r,i,u,c){var d=e.call(this)||this;if(d.m_pStack=new p.StackDispatcher,d.m_pMomentsCache={},d.m_pChecksums={},d.m_pCache={},d.m_nChecksum=0,d.m_pHistory=[],d.m_pSnapshots=[],d.m_nSnapshots=0,d.m_nSnapshot=0,d.m_pChanges={},d.m_pChangesBuffer={},d.m_nEvents=0,d.m_bInitialized=!1,d.m_bRunning=!1,d.m_bProcessing=!1,d.m_bIsAtFinish=!1,d.m_bStopped=!0,d.m_bPaused=!1,d.m_nErrors=s.Errors.None,d.m_nTransaction=0,d.m_nAutoPushForward=0,d.m_pOrchestrator=n,d.m_bAllowConcurrency="multi"===r,d.m_bAutoPushForward=n.autoPushForward,d.m_sPreviewMode=n.preview,d.m_pStackOrchestrator={instance:d,get preview(){return"disabled"!==n.preview},get previewCompact(){return"compact"===n.preview},spawn:function(e){return n.spawn(new t(n,"multi",e),d.index+(d.isPopped?0:1)).start()},validated:function(e){(n.autoPushForward||d.isPreview||d.m_pOrchestrator.events.onInstanceStepForward(d,e))&&(d.m_bProcessing=!0,d.m_pOrchestrator.events.onInstanceProcessing(d,!0),d.pushForward())},cycle:function(e){d.m_bProcessing=e,d.m_pOrchestrator.events.onInstanceProcessing(d,e)},cancel:function(){!d.isRunning||n.autoPushForward||d.isPreview||d.stepBackward()||d.stop()},snapshot:{push:function(){d.m_pSnapshot&&(d.m_pSnapshots.length>d.m_nSnapshots&&d.m_pSnapshots.splice(d.m_nSnapshots),d.m_pSnapshots.push(d.m_pSnapshot),d.m_nSnapshots++,d.m_pSnapshot=void 0,d.map(!0))},make:function(){var e={a:d.stackSnapshots(),b:d.m_pPointer&&d.m_pPointer.id};d.m_pSnapshot={moment:e,stack:new h.StackParser(d.m_pStackOrchestrator,e)}}},pointer:{get:function(){return d.m_pPointer},assure:function(e){return d.m_pPointer||d.bind(e),d.m_pPointer},release:function(){return d.release()}},chain:n.chain,logger:function(e,t,r,i,o,s){if(n.logger&&t){var u=s instanceof f.State?a.Str.padLeft(s.uniqueId,"0",4):s?"End":"-";d.logger("Return<"+u+"> to Stack<"+a.Str.padLeft(t.uniqueId,"0",4)+">",r,i,o,e)}}},d.m_pData=new o.Data(d,n,(function(e){var t,n,r=d.m_pOrchestrator.dependencies(e.slot);if(d.m_pEvents||(d.m_pEvents={},d.m_nEvents=a.schedulePromise((function(){d.isPreview?d.m_pOrchestrator.events.onInstanceUpdate(d):a.each(a.map(d.m_pEvents,(function(e){return{id:e.id,transducer:e.transducer}})).sort((function(e,t){return e.id-t.id})),(function(e){return d.goto(e.id,e.transducer)})),d.m_pEvents=void 0,d.m_pSideEffects=void 0}))),a.each(r,(function(e,t){d.setChanged(t)}),{keys:!0}),d.m_pTransaction&&d.m_pTransaction.state.id!==e.transducer.state.id)d.m_pTransaction&&d.m_pTransaction.state.index<e.transducer.state.index&&(null===(n=null===(t=e.context)||void 0===t?void 0:t.mutableValueOf(e.slot))||void 0===n||n.precursor());else if(d.m_pEvents[e.key+e.id]=e,e.context){var i=e.context;e.transducer.parent.each((function(t){if(!(!1!==r[t.id]||t===e.transducer||d.m_pSideEffects&&d.m_pSideEffects[e.transducer.id]&&d.m_pSideEffects[e.transducer.id][t.id])){var n=d.m_pSideEffects||(d.m_pSideEffects={});(n[e.transducer.id]||(n[e.transducer.id]={}))[t.id]=!0,t.onSideEffect(i,e.transducer)}}))}d.m_pOrchestrator.events.onInstanceData(d,e)})),d.m_pStack.hook("OnItemPush","synchronous",(function(e){d.m_bIsAtFinish=!1,d.m_bInitialized||(c&&c(d),d.m_bInitialized=!0,d.emitHook("OnCreate",{instance:d}),d.m_pOrchestrator.events.onInstanceCreate(d),d.logger("Created")),d.logger("Push",e.item.state,e.item.branch,e.item.condition,e.item)})),d.m_pStack.hook("OnItemPop","synchronous",(function(e){var t;d.logger("Pop",e.item.state,e.item.branch,e.item.condition,e.item),e.item.destroy(),d.m_pStack.isParsing||(d.m_pStack.count>0?d.m_pPointer===e.item&&d.isRunning&&(d.release(),d.m_pStack.reverseEach((function(e){return t&&t!==e.ancestor||(t=e.ancestor,e.isScheduled&&d.bind(e).step()),d.m_pPointer instanceof l.Stack}))):(d.m_bIsAtFinish=!0,n.autoPushForward||d.isPreview||d.finish()))})),d.hook("OnItemPop","synchronous",(function(){if(d.m_bRunning){var e=d.presentMoment,t=d.isPaused?"paused":d.isStopped?"stopped":"finished";d.m_bRunning=!1,"finished"!==t&&e&&e.state.await&&e.state.await.cancel(),d.release(),d.m_pStack.clear(),d.m_pSnapshots.splice(0),d.m_pHistory.splice(0),d.m_nSnapshots=0,d.m_nSnapshot=0,d.m_pSnapshot=void 0,d.isPaused?(d.emitHook("OnPause",{instance:d}),d.m_pOrchestrator.events.onInstancePause(d),d.logger("Pause")):d.isStopped?(d.emitHook("OnStop",{instance:d}),d.m_pOrchestrator.events.onInstanceStop(d),d.logger("Stop")):(d.emitHook("OnFinish",{instance:d}),d.m_pOrchestrator.events.onInstanceFinish(d),d.logger("Finish")),d.emitHook("OnEnd",{instance:d,type:t}),d.m_pOrchestrator.events.onInstanceEnd(d,t),d.logger("End")}})),i&&(l.Stack.create(d.m_pStack,d.m_pStackOrchestrator,i),d.m_pInitial={a:d.stackSnapshots()},u))if(u.a===d.fingerprint){var m=a.arraySize(u.b);if(m>0){var g=a.Num.range(a.castToNumber(u.d,m-1),0,m-1),b=0;a.each(u.c,(function(e){var t=d.data.forSlot(e.a);t?t.restore(e):d.m_nErrors|=s.Errors.ResumeInvalidData})),a.each(u.b,(function(e){var t=new h.StackParser(d.m_pStackOrchestrator,e),n=t.state,r=t.context;n&&r&&(d.m_pSnapshots.push({moment:e,stack:t}),d.m_nSnapshots+=d.addMoment(d.m_pHistory,e,n,t.transducers,r,b<g?"past":b>g?"future":"present")),b++})),d.revert(g)}else d.m_nErrors|=s.Errors.ResumeInvalidStack}else d.m_nErrors|=s.Errors.ResumeInvalidHash;return d}return r.__extends(t,e),Object.defineProperty(t.prototype,"successorMode",{get:function(){return this.isPreview?"preview":"live"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.hash},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"l10n",{get:function(){return this.m_pOrchestrator.l10n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fingerprint",{get:function(){return this.m_pOrchestrator.fingerprint},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowConcurrency",{get:function(){return this.m_bAllowConcurrency},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPreview",{get:function(){return"disabled"!==this.m_pOrchestrator.preview},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isInitialized",{get:function(){return this.m_bInitialized},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRunning",{get:function(){return this.m_bRunning},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isStopped",{get:function(){return this.m_bStopped},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPausing",{get:function(){return this.m_pOrchestrator.states.ontology.isPausing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPaused",{get:function(){return this.m_bPaused},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAtStart",{get:function(){return 0===this.m_nSnapshots},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAtHead",{get:function(){var e=this.history,t=a.arrayItem(e,e.length-1);return t&&"present"===t.tense||!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAtFinish",{get:function(){var e=this;return!!this.m_bIsAtFinish||!this.m_pOrchestrator.autoPushForward&&!this.isPreview&&this.m_pPointer instanceof l.Stack&&(!this.m_pPointer.state||!this.m_pPointer.state.successor(this.successorMode)&&!this.m_pPointer.state.branches.each((function(t){return t.entry(e.successorMode)instanceof f.State})))&&!this.m_pStack.reverseEach((function(t){return e.m_pPointer!==t&&(t.isBranch||!t.isAtFinish)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isFinishable",{get:function(){return!this.isPreview&&this.isRunning&&this.isAtFinish},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isFinishing",{get:function(){return!!this.m_fnFinishing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isFinished",{get:function(){return!this.isRunning&&!this.isPaused&&!this.isStopped},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finishReference",{get:function(){return this.m_sFinishReference||""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasDataCollected",{get:function(){return this.data.hasSealedValues},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lookup",{get:function(){return this.m_pOrchestrator.chain},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this.m_pData},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"history",{get:function(){return this.map(!1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"checksum",{get:function(){var e=this.m_nChecksum+"/"+this.m_pStack.checksum;return this.m_pChecksums[e]||(this.m_pChecksums[e]=c.CSHA2_256(e))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"presentMoment",{get:function(){return a.findLast(this.history,(function(e){return"present"===e.tense}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"snapshot",{get:function(){var e=this.history,t={a:this.fingerprint,b:[]};if(a.each(e,(function(n){"present"===n.tense&&t.b.length+1<e.length&&a.set(t,"d",t.b.length),t.b.push(n.snapshot)})),this.data.count>0){var n=[];this.data.each((function(e){var t=e.snapshot();t&&n.push(t)})),n.length>0&&a.set(t,"c",n)}return this.allowConcurrency&&a.set(t,"e",!0),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"errors",{get:function(){return this.m_nErrors},enumerable:!1,configurable:!0}),t.prototype.setChanged=function(e){this.m_pChanges[e]=!0,this.m_pChangesBuffer[e]&&delete this.m_pChangesBuffer[e]},t.prototype.logger=function(e,t,n,r,i){if(this.m_pOrchestrator.logger){var o=t?a.Str.padLeft(t.uniqueId,"0",4):"----",s=n?a.Str.padLeft(n.uniqueId,"0",4):"----",u=r?a.Str.padLeft(r.uniqueId,"0",4):"----",c=i?a.Str.padLeft(i.uniqueId,"0",4):"----";this.m_pOrchestrator.logger("Instance<"+a.Str.padLeft(this.uniqueId,"0",4)+"> | State<"+o+"> Branch<"+s+"> Condition<"+u+"> | Stack<"+c+"> | "+e)}},t.prototype.cancelPromises=function(){this.m_bProcessing&&(this.m_pOrchestrator.events.onInstanceProcessing(this,!1),this.m_bProcessing=!1),this.m_nAutoPushForward=a.cancelPromise(this.m_nAutoPushForward),this.m_nEvents=a.cancelPromise(this.m_nEvents),this.m_pEvents=void 0,this.m_fnFinishing&&(this.m_fnFinishing(),this.m_fnFinishing=void 0)},t.prototype.bind=function(e){return this.m_pPointer=e,this.m_pPointer},t.prototype.release=function(){this.m_pPointer=void 0},t.prototype.restore=function(e,t){this.m_pSnapshot=void 0;var n=new h.StackParser(this.m_pStackOrchestrator,e,this.m_pStack);return this.m_pPointer&&this.m_pPointer.cancel(),n.pointer?(this.bind(n.pointer),t&&n.pointer.invalidate(t),this.isRunning&&n.pointer.step(),!0):(this.release(),this.isRunning&&this.pop(),!1)},t.prototype.revert=function(e,t){var n=this.m_pHistory.length;if(0!==n){this.m_nSnapshots=a.Num.range(e,0,n-1),this.m_nSnapshot=this.m_nSnapshots>0&&n>0?this.m_nSnapshots-1:0;for(var r=n-1;r>=0&&!(r<this.m_nSnapshots&&"past"===this.m_pHistory[r].tense);r--)this.m_pHistory[r].tense=r===this.m_nSnapshots?"present":r<this.m_nSnapshots?"past":"future";var i=this.m_pHistory[this.m_nSnapshots].snapshot,o=t?this.invalidateHistory(this.m_nSnapshots):this.m_pHistory.slice(0,this.m_nSnapshots);this.restore(i,t)&&this.addPointer(o)}},t.prototype.goto=function(e,t){var n=this.getMoment(e);if(n&&this.isRunning){var r="present"===n.tense&&this.m_pPointer&&!n.context.isMutableContextOf(this.m_pPointer)&&this.m_pPointer.isEvaluating;if(!r)if("present"!==n.tense){var i=a.findLast(this.m_pHistory,(function(e){return"present"===e.tense}));(!i||n.index<i.index)&&(r=!0)}else r=this.m_bIsAtFinish;r?this.revert(n.index,t):n.index+1<this.m_pHistory.length&&(this.m_nChecksum++,this.invalidateHistory(n.index+1))}},t.prototype.map=function(e){if(!this.isRunning)return[];for(var t=this.m_pHistory.splice(this.m_nSnapshot),n=t.length,r=0,i=this.m_nSnapshot;i<this.m_nSnapshots;i++){var o=this.m_pSnapshots[i],a=o.stack.state,s=o.stack.context;a&&s&&(r+=this.addMoment(this.m_pHistory,o.moment,a,o.stack.transducers,s,"past"))}this.m_pSnapshot&&(a=this.m_pSnapshot.stack.state,s=this.m_pSnapshot.stack.context,a&&s&&(r+=this.addMoment(this.m_pHistory,this.m_pSnapshot.moment,a,this.m_pSnapshot.stack.transducers,s,"past")));var u=this.m_pHistory.length;if(r>0&&(this.m_nSnapshot=u-1),this.m_bIsAtFinish?u>0&&(this.m_pHistory[u-1].tense="present",this.m_nSnapshot=u>1?u-2:0):this.addPointer(this.m_pHistory)&&(r++,u++),r<n)if(!e&&u>0)for(;r<n;){var c=t[r];c.transducers.length>0&&(c.tense="future",this.m_pHistory.push(c)),r++}else{for(;r>0;)t.shift(),r--;this.invalidateMoments(t)}return this.m_pHistory},t.prototype.addPointer=function(e){if(this.m_pPointer){var t=this.m_pPointer;if(t.state)return this.addMoment(e,{a:this.stackSnapshots(),b:t.id},t.state,t.transducers,new i.Context(t,this.m_pOrchestrator.chain),"present"),!0}return!1},t.prototype.addMoment=function(e,t,n,r,i,o){var s=this,u=e.length,l={get checksum(){return a.getAny(this,"$checksum")||a.setAny(this,"$checksum",c.CSHA2_256(i.instance.uniqueId+"/"+u+"/"+n.hash+"/"+i.key))},index:u,snapshot:t,state:n,transducers:r,context:i,tense:o,restore:function(){return s.isRunning&&s.revert(u)}};return this.m_pMoments||(this.m_pMoments={}),(this.m_pMoments[n.id]||(this.m_pMoments[n.id]={state:n,moments:{}})).moments[i.id]=l,e.push(l),1},t.prototype.getMoment=function(e){var t,n=this;return this.m_pMoments&&(a.each(this.m_pMoments,(function(r){r.state.transducers.each((function(i){i.slots.each((function(i){a.each(r.moments,(function(r){var o=r.context.mutableValueOf(i);o&&(a.set(n.m_pMomentsCache,o.id,r),o.id===e&&(t=r))}))}))}))})),this.m_pMoments=void 0,t)?t:this.m_pMomentsCache[e]},t.prototype.invalidateMoments=function(e){a.each(e,(function(e){e.state.transducers.each((function(t){return t.seal(e.context,!1)}))}))},t.prototype.invalidateHistory=function(e){for(this.invalidateMoments(this.m_pHistory.splice(e)),this.m_nSnapshot=this.m_pHistory.length;this.m_nSnapshot&&(this.m_nSnapshot--,"past"!==this.m_pHistory[this.m_nSnapshot].tense););return this.m_pHistory},t.prototype.pushForward=function(){var e=this;this.m_nAutoPushForward||(this.m_nAutoPushForward=a.schedulePromise((function(){var t,n,r,i,o=!e.m_bIsAtFinish&&!(null===(n=null===(t=e.m_pPointer)||void 0===t?void 0:t.state)||void 0===n?void 0:n.isLast)&&(null===(r=e.m_pPointer)||void 0===r?void 0:r.state)||(null===(i=e.presentMoment)||void 0===i?void 0:i.state);e.m_nAutoPushForward=0,(o&&e.m_pOrchestrator.events.onInstanceStepForward(e,o)||!e.isAtFinish&&(e.m_pOrchestrator.autoPushForward||e.isPreview))&&(e.m_pOrchestrator.events.onInstanceProcessing(e,!1),o&&o.await&&o.await.done())})))},t.prototype.stackSnapshots=function(){var e=[];return this.m_pStack.each((function(t){e.push(t.snapshot())})),e},t.prototype.closeTransaction=function(){this.m_nTransaction>0&&(this.m_nTransaction--,0===this.m_nTransaction&&(this.m_pTransaction=void 0))},t.prototype.createTransaction=function(e,t){this.m_nTransaction++,1===this.m_nTransaction&&(this.m_pTransaction=e);var n=t();return this.closeTransaction(),n},t.prototype.readFromCache=function(e){return this.m_pCache[e]},t.prototype.writeToCache=function(e,t){return this.m_pCache[e]=t,t},t.prototype.stencil=function(e){return void 0===e&&(e="exportables"),this.m_pOrchestrator.stencil(e)},t.prototype.start=function(){if(this.cancelPromises(),!this.isRunning){var e=this.m_pPointer||this.m_pStack.firstItem;if(this.errors===s.Errors.None&&e)return this.m_bRunning=!0,this.m_bStopped=!1,this.m_bPaused=!1,this.emitHook("OnStart",{instance:this}),this.m_pOrchestrator.events.onInstanceStart(this),this.logger("Start"),e.step(),!0;this.pop()}return!1},t.prototype.restart=function(){var e=this.m_bAutoPushForward!==this.m_pOrchestrator.autoPushForward,t=this.m_sPreviewMode!==this.m_pOrchestrator.preview;this.cancelPromises(),e||t?(this.m_nChecksum++,e&&(this.m_bAutoPushForward=this.m_pOrchestrator.autoPushForward,(this.m_pOrchestrator.autoPushForward||this.m_bIsAtFinish)&&this.stepToHead()),t&&(this.m_sPreviewMode=this.m_pOrchestrator.preview,this.isRunning&&this.m_pInitial&&(this.m_pSnapshots.splice(0),this.m_pHistory.splice(0),this.m_nSnapshots=0,this.m_nSnapshot=0,this.restore(this.m_pInitial)))):this.start()||this.stepToStart()},t.prototype.stop=function(){return this.cancelPromises(),!this.m_bStopped&&(this.m_bStopped=!0,this.pop())},t.prototype.pause=function(){if(!(this.isPreview||this.isFinishing||this.isPausing||this.isPaused)&&this.isRunning){var e=this.snapshot;return this.m_bPaused=!0,this.pop(),e}},t.prototype.stepForward=function(){if(this.isRunning){var e=this.presentMoment;if(e&&e.state.await)return e.state.await.done();if(this.isFinishable)return this.finish(),!1}return!1},t.prototype.stepBackward=function(){if(this.isRunning){var e=this.presentMoment;if(e&&e.index>0&&e.index<=this.m_pHistory.length)return this.m_pHistory[e.index-1].restore(),!0}return!1},t.prototype.stepToStart=function(){if(this.isRunning){var e=a.arrayItem(this.history,0);if(e)return e.restore(),!0}return!1},t.prototype.stepToHead=function(){if(this.isInitialized&&this.isRunning){var e=this.history,t=a.arrayItem(e,e.length-1);if(t)return t.restore(),!0}return!1},t.prototype.finish=function(){var e=this,t=new Promise((function(t,n){if(e.isFinishable&&!e.m_fnFinishing){var r=function(r,i){e.m_fnFinishing&&(e.m_fnFinishing=void 0,r&&e.pop()?(e.m_sFinishReference=i,t()):(e.data.unfreeze(),n()))};e.m_fnFinishing=n,e.m_sFinishReference=void 0,e.data.freeze(),e.m_pOrchestrator.events.onInstanceFinishing(e,r)&&r(!0)}else n()}));return t.catch((function(t){e.m_pOrchestrator.logger&&e.m_pOrchestrator.logger(t||"Finish error!")})),t},t.prototype.transducers=function(e){this.m_pOrchestrator.iterate(e)},t.prototype.isTransducerPresent=function(e){var t=a.findLast(this.m_pHistory,(function(e){return"present"===e.tense}));return!(!t||!a.findFirst(t.transducers,(function(t){return t===e})))},t.prototype.markAsChanged=function(e,t){var n=this;void 0===t&&(t=!1),a.each(this.m_pOrchestrator.dependencies(e),(function(e,r){t&&!e||n.setChanged(r)}),{keys:!0})},t.prototype.hasChanged=function(e,t){var n=this;void 0===t&&(t=!0);var r=this.m_pOrchestrator.hasChanged(e,t),i=this.m_pChanges[e]||!1;return i&&t&&(0===a.arraySize(this.m_pChangesBuffer)&&a.schedulePromise((function(){a.each(n.m_pChangesBuffer,(function(e,t){n.m_pChanges[t]=!1,delete n.m_pChangesBuffer[t]}),{keys:!0})})),this.m_pChangesBuffer[e]=!0),r||i},t.prototype.inherit=function(e){var t=this;return e.data.each((function(e){return e.inherit(t)})),this},t}(u.Item);t.Instance=d},1744:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.StackDispatcher=void 0;var r=n(655),i=function(e){function t(){var t=e.call(this)||this;return t.m_sChecksum="0",t.isParsing=!1,t.hook("OnItemPop","synchronous",(function(e){var n=e.item;t.m_sChecksum+="/"+n.checksum,n.destroy()})),t}return r.__extends(t,e),Object.defineProperty(t.prototype,"checksum",{get:function(){var e=this.m_sChecksum;return this.each((function(t){e+="/"+t.checksum})),e},enumerable:!1,configurable:!0}),t.prototype.clear=function(){e.prototype.clear.call(this),this.m_sChecksum=""},t}(n(3339).Matrix);t.StackDispatcher=i},5858:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.StackParser=void 0;var r=n(4139),i=n(4389),o=n(6621),a=n(1744),s=n(404),u=function(){function e(e,t,n){var u=this;this.m_pTransducers=[];var c=n||new a.StackDispatcher,l={},p=!1;this.m_pOrchestrator=e,i.set(c,"isParsing",!0),c.clear(),i.each(t.a,(function(t){var n,a=new s.Validators,h=e.chain.state(t.f||""),f=e.chain.branch(t.g||""),d=e.chain.branch(t.h||""),m=e.chain.condition(t.i||""),g=e.chain.state(t.j||"");t.e&&(n=l[t.e],p=p||!(n instanceof o.Stack));var b=t.d||0,y=new r.Context(i.set(l,t.a,o.Stack.create(c,e,h,n,f,m,d,a,t.c,t.b,i.Flags.has(b,1),i.Flags.has(b,2),g,i.Flags.has(b,3),t.l)),e.chain);i.each(t.k,(function(t){var n=e.chain.transducer(t.a);n&&a.resume(n,y,t).isEnabled&&u.m_pTransducers.push(n)})),p=p||a.count!==i.arraySize(t.k)})),i.set(c,"isParsing",!1),p||(t.b?this.m_pPointer=l[t.b]:this.m_pPointer=c.firstItem)}return Object.defineProperty(e.prototype,"pointer",{get:function(){return this.m_pPointer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return this.pointer&&new r.Context(this.pointer,this.m_pOrchestrator.chain)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this.pointer&&this.pointer.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"transducers",{get:function(){var e=this.state;return e?i.filter(this.m_pTransducers,(function(t){return t.state.id===e.id})):[]},enumerable:!1,configurable:!0}),e}();t.StackParser=u},6621:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Stack=void 0;var r=n(655),i=n(6148),o=n(4139),a=n(4389),s=n(3339),u=n(404),c=function(e){function t(t,n,r,i,o,s,c,l,p,h,f,d,m,g,b){var y=e.call(this)||this;return y.m_pChecksum=new a.Enumerator,y.m_nChecksum=0,y.m_bCanceled=!1,y.m_pOrchestrator=t,y.m_pAncestor=n,y.m_pState=r,y.m_pBranch=i,y.m_pBranched=s,y.m_bBranching=m,y.m_nBranch=g,y.m_fnBranch=b,y.m_pCondition=o,y.m_pValidators=c||new u.Validators,y.m_nOpcode=l,y.m_nCounter=p,y.m_nSize=0,y.m_bReturn=h,y.m_bReturnOverride=f,y.m_pReturn=d,y.m_bValidated=!1,y.m_nValidations=0,y.m_bPass=!1,y.m_bEntered=!1,y.m_sChecksum=(r&&r.id||"")+(i&&o&&"each"===i.culling?o.id:""),y}return r.__extends(t,e),t.create=function(e,n,r,i,o,a,s,u,c,l,p,h,f,d,m){return void 0===i&&(i=void 0),void 0===o&&(o=void 0),void 0===a&&(a=void 0),void 0===s&&(s=void 0),void 0===u&&(u=void 0),void 0===c&&(c=0),void 0===l&&(l=0),void 0===p&&(p=!1),void 0===h&&(h=!1),void 0===f&&(f=void 0),void 0===d&&(d=!1),void 0===m&&(m=void 0),e.pushToMatrix(new t(n,i,r,o,a,s,u,c,l,p,h,f,d,m))},Object.defineProperty(t.prototype,"orchestrator",{get:function(){return this.m_pOrchestrator},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"assertPromise",{get:function(){var e=this;return function(t){return e.assert(t)}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stack",{get:function(){return this.matrix()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"successorMode",{get:function(){return this.orchestrator.preview?"preview":"live"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.hash},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"instance",{get:function(){return this.orchestrator.instance},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ancestor",{get:function(){return this.m_pAncestor},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trace",{get:function(){var e;return((null===(e=this.ancestor)||void 0===e?void 0:e.trace)||"")+this.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this.m_pState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transducers",{get:function(){return this.m_pValidators.transducers},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"branch",{get:function(){return this.m_pBranch},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"branchIndex",{get:function(){return this.m_nBranch||1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"condition",{get:function(){return this.m_pCondition},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mutableContext",{get:function(){return this.condition&&"each"===this.condition.branch.culling&&this.condition.branch.conditions.count>1&&this.condition||void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"immutableContext",{get:function(){return this.condition},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"checksum",{get:function(){return this.m_sChecksum+this.m_nChecksum},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isBranch",{get:function(){return this.m_bBranching},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isScheduled",{get:function(){return 9===this.m_nOpcode},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAtFinish",{get:function(){return this.isPopped||9===this.m_nOpcode&&this.m_bReturn&&!this.m_pReturn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isEvaluating",{get:function(){return 2===this.m_nOpcode||5===this.m_nOpcode||(3===this.m_nOpcode||9===this.m_nOpcode)&&this.m_nCounter>0||8===this.m_nOpcode},enumerable:!1,configurable:!0}),t.prototype.create=function(e,n,r,i,o){return this.stack.pushToMatrix(new t(this.orchestrator,e,n,r,i,void 0,void 0,0,0,!1,!1,void 0,!1,void 0,o),{index:this.index+(this.isPopped?0:1),recalculate:!0,emit:"push"})},t.prototype.assert=function(e){return e.isAsynchronous&&(this.m_nSize=0),!this.isPopped&&!this.m_bCanceled},t.prototype.validate=function(e){var t=this,n=++this.m_nValidations;if(e||this.m_pValidators.clear(),this.state){var r=this.state,a=new o.Context(this,this.orchestrator.chain);if(this.m_pValidators.isPassed)r.evaluate(i.Callback.of({await:function(e){return t.orchestrator.preview||r.onValidate(a,t.m_bValidated?t.m_bPass?"pass":"fail":"unknown",e)},promise:function(i){if(n===t.m_nValidations&&t.assert(i)){var o=i.payload||!1,s=!t.m_bValidated||t.m_bPass!==o,u=t.m_bValidated;t.m_bValidated=!0,t.m_bPass=o,e&&(e.condition=o),s&&t.state&&(t.state.onValidated(a,o?"pass":"fail",u?"revalidate":"initial"),o&&t.orchestrator.validated(t.state)),e||t.step(o?7:3)}r.evaluate(i,a,t.assertPromise)}}),a,this.assertPromise);else{var s=!this.m_bValidated||this.m_bPass,u=this.m_bValidated;this.m_bValidated=!0,this.m_bPass=!1,e&&(e.condition=!1),s&&this.state.onValidated(a,"fail",u?"revalidate":"initial")}}},t.prototype.return=function(e,t){this.m_nCounter--,!e||this.m_bReturnOverride&&!this.m_bReturn||(this.m_bReturn=!this.m_bReturnOverride||t===this.m_pReturn,this.m_pReturn=t,this.m_bReturnOverride=!0),this.step()},t.prototype.step=function(e){var t=this;if(!this.isPopped){var n=new o.Context(this,this.orchestrator.chain);if(this.m_nSize>1024)return this.m_nSize=0,this.orchestrator.cycle(!0),void a.callPromise((function(){t.orchestrator.cycle(!1),t.step(e)}));switch(this.m_nSize++,this.m_nChecksum=this.m_pChecksum.n,this.m_nOpcode=a.isNumber(e)?e:this.m_nOpcode,this.m_nOpcode){case 0:if(this.m_bReturnOverride=!1,this.branch){var r=this.branch,s=this.state,u=function(e){s&&s.evaluate(e,n,t.assertPromise)};this.m_nOpcode=1,u(i.Callback.of({await:function(e){return t.orchestrator.preview||r.onCondition(n,e)},promise:function(e){if(t.assert(e))if(t.m_nOpcode=2,t.m_nCounter=0,e.payload)if(t.m_nCounter="each"!==r.culling?r.conditions.count:t.condition?1:0,1===t.m_nCounter&&"each"===r.culling&&t.condition){var o=t.condition;u(i.Callback.of({await:function(e){return t.orchestrator.preview?!t.orchestrator.previewCompact||0===o.index:o.onCondition(n,e)},promise:function(e){t.assert(e)&&(t.m_nCounter=0,t.m_bReturn=t.m_bReturn||e.payload||!1,e.payload&&(t.m_fnBranch&&!t.m_nBranch&&(t.m_nBranch=t.m_fnBranch()),o.onApproved(n),r.onReady(n)),t.step()),u(e)}}))}else t.m_nCounter>0?r.conditions.each((function(e){return u(i.Callback.of({await:function(r){return t.orchestrator.preview||e.onCondition(n,r)},promise:function(i){t.assert(i)&&t.m_nCounter>0&&("all"!==r.culling&&"none"!==r.culling&&i.payload?(t.m_pCondition=e,t.m_bReturn=!0,t.m_nCounter=0,e.onApproved(n),r.onReady(n)):t.m_nCounter--,"all"!==r.culling&&"none"!==r.culling||(("none"!==r.culling||t.orchestrator.preview?!i.payload:i.payload)?(t.m_bReturn=!1,t.m_nCounter=0):0===t.m_nCounter&&(t.m_bReturn=!0,e.onApproved(n),r.onReady(n))),t.step()),u(i)}})),0===t.m_nCounter})):(r.onReady(n),t.m_bReturn=!0,t.step());else t.step();u(e)}}))}else this.state?this.step(4):this.step(10);break;case 1:case 5:case 6:case 8:break;case 2:if(0===this.m_nCounter){if(this.branch)if(this.m_bReturn){if(this.m_pReturn=this.branch.entry(this.successorMode),!this.branch.spawn){this.step(9);break}this.m_bReturn=!1,this.m_pReturn&&this.orchestrator.spawn(this.m_pReturn)}else this.branch.onSkip(n);this.step(10)}break;case 4:if(this.state){var c=this.state;this.m_nOpcode=5,this.m_pReturn=this.state.successor(this.successorMode),this.m_bReturn=!0,c.transducers.each((function(e){return e.seal(n,!1)})),c.evaluate(i.Callback.of({await:function(e){return t.orchestrator.preview||c.onEnterCondition(n,e)},promise:function(e){t.assert(e)&&(e.payload?(t.m_nOpcode=3,t.m_nCounter=c.transducers.count,t.m_pValidators.clear(),t.m_nCounter>0?c.transducers.each((function(e){c.evaluate(i.Callback.of({await:function(r){return t.orchestrator.preview||e.onEnterCondition(n,r)},promise:function(r){t.assert(r)&&(t.m_pValidators.create(e,n,r.payload||!1),t.m_nCounter--,t.step()),c.evaluate(r,n,t.assertPromise)}}),n,t.assertPromise)})):t.step()):(c.onSkip(n),t.step(9))),c.evaluate(e,n,t.assertPromise)}}),n,this.assertPromise)}else this.step(10);break;case 3:if(this.state){if(0===this.m_nCounter)if(this.m_nOpcode=6,this.state.isMain)this.step(7);else{var l=!1;this.m_bValidated=!1,this.m_bPass=!1,this.m_bEntered=!0;var p=i.Await.for({await:function(e){if(t.state)return t.orchestrator.snapshot.push(),t.state.await=e,t.state.emitHook("OnEnter",{state:t.state,context:n}),t.state.onEnter(n,e)},promise:function(e){t.assert(e)&&(t.state&&(t.state.await=void 0),e.isCanceled?(t.m_nValidations++,t.m_pValidators.each((function(e){return e.cancel()})),t.orchestrator.cancel()):l?t.step(7):t.validate())},conditional:!0});p.isAlive&&(this.m_pValidators.each((function(e){e.isEnabled?(i.Await.for({await:function(t){return e.transducer.emitHook("OnEnter",{transducer:e.transducer,context:n}),e.transducer.await=t,e.transducer.onEnter(n,t)},promise:function(n){t.assert(n)&&n.isAsynchronous&&e.validate(t.state,"revalidate",t.orchestrator.preview,t.assertPromise,(function(){return t.validate(p)}))},continuous:!0}),l=e.validate(t.state,"initial",t.orchestrator.preview,t.assertPromise,(function(){return t.validate(p)}))||l):e.transducer.onSkip(n)})),l||(this.validate(p),l=!0))}}else this.step(10);break;case 7:if(this.state){var h=this.state;this.m_nOpcode=8,h.evaluate(i.Callback.of({await:function(e){return!!h.isMain||h.onLeaveCondition(n,e)},promise:function(e){if(t.assert(e))if(e.payload)if(h.isMain||(t.m_pValidators.count>0&&t.orchestrator.snapshot.make(),t.m_bEntered=!1,t.m_pValidators.each((function(e){e.isEnabled&&e.transducer.onLeave(n)})),h.onLeave(n)),t.m_nOpcode=9,h.branches.count>0){if(h.branches.each((function(e){t.m_nCounter+="each"===e.culling&&e.conditions.count>0?e.conditions.count:1})),t.m_nCounter>0){var r=t.orchestrator.pointer.get();h.branches.each((function(e){if(t.m_bBranching=!e.isLast,r&&r===t.orchestrator.pointer.get()&&t.orchestrator.pointer.release(),"each"===e.culling&&e.conditions.count>0){var n=[],i=function(){return++o},o=0;e.conditions.each((function(r){n.push(t.create(t,t.state,e,r,i))})),a.each(n,(function(e){return e.step()}))}else t.create(t,t.state,e).step()}))}}else t.step();else t.m_nOpcode=6,i.Await.for({await:function(e){return t.state&&t.state.onLeaveError(n,e)},promise:function(e){t.assert(e)&&t.step(7)}});h.evaluate(e,n,t.assertPromise)}}),n,this.assertPromise)}else this.step(10);break;case 9:if(0===this.m_nCounter&&this.orchestrator.pointer.assure(this)===this){if(this.branch&&(this.m_pBranched=this.branch,this.branch.onEnter(n)),this.m_pReturn){var f=this.ancestor&&this.ancestor.state,d=f&&f.successor(this.successorMode);if(!f||this.m_pReturn.uniqueId>f.uniqueId&&(!d||this.m_pReturn.uniqueId<d.uniqueId)){this.m_pState=this.m_pReturn,this.m_pBranch=void 0,this.m_sChecksum+=this.m_pReturn.id,this.step(0);break}}this.step(10)}break;case 10:this.m_pBranched&&(this.m_pBranched.onLeave(n),this.m_pBranched=void 0),this.orchestrator.logger(this,this.ancestor,this.state,this.branch,this.condition,this.m_bReturn?this.m_pReturn||!0:void 0),this.pop(),this.orchestrator.pointer.get()===this&&this.orchestrator.pointer.release(),this.ancestor&&this.ancestor.return(this.m_bReturn,this.m_pReturn)}}},t.prototype.invalidate=function(e){var t=this.m_pValidators.forTransducer(e);t&&t.invalidate()},t.prototype.validationOf=function(e){var t=this.m_pValidators.forTransducer(e);if(t){if(t.isPassed)return"pass";if(t.isFailed)return"fail"}return"unknown"},t.prototype.cancel=function(){this.m_bCanceled=!0},t.prototype.destroy=function(){if(this.isPopped&&this.state&&!this.state.isMain){var e=new o.Context(this,this.orchestrator.chain);this.m_bEntered&&(this.m_pValidators.each((function(t){t.isEnabled&&t.transducer.onCancel(e)})),this.state&&this.state.onCancel(e)),this.m_pBranched&&this.m_pBranched.onCancel(e)}},t.prototype.snapshot=function(){var e={a:this.id},t=a.Flags.convert(this.m_bReturn,this.m_bReturnOverride,this.m_bBranching),n=0;switch(this.m_nOpcode){case 2:0===this.m_nCounter&&(n=2);break;case 4:case 5:n=4;break;case 3:n=0===this.m_nCounter?3:4;break;case 6:case 7:case 8:n=3;break;case 9:n=9,this.m_nCounter>0&&a.set(e,"b",this.m_nCounter);break;case 10:n=10}if(n>0&&a.set(e,"c",n),t>0&&a.set(e,"d",t),this.ancestor&&a.set(e,"e",this.ancestor.id),this.state&&a.set(e,"f",this.state.id),this.branch&&a.set(e,"g",this.branch.id),this.m_pBranched&&a.set(e,"h",this.m_pBranched.id),this.condition&&a.set(e,"i",this.condition.id),this.m_pReturn&&a.set(e,"j",this.m_pReturn.id),this.m_pValidators.count>0){var r=[];this.m_pValidators.each((function(e){var t=e.snapshot();t&&r.push(t)})),r.length>0&&a.set(e,"k",r)}return this.m_nBranch&&a.set(e,"l",this.m_nBranch),e},t}(s.Item);t.Stack=c},3946:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Validator=void 0;var r=n(655),i=n(6148),o=n(4389),a=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o.m_pTransducer=t,o.m_pContext=n,o.m_bEnabled=r,o.m_nValidates=0,o.m_bPass=i,o}return r.__extends(t,e),Object.defineProperty(t.prototype,"transducer",{get:function(){return this.m_pTransducer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isEnabled",{get:function(){return this.m_bEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPassed",{get:function(){return!0===this.m_bPass},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isFailed",{get:function(){return!1===this.m_bPass},enumerable:!1,configurable:!0}),t.prototype.validate=function(e,t,n,r,a){var s=this,u=++this.m_nValidates;if(e&&this.isEnabled){var c=o.isBoolean(this.m_bPass),l=this.transducer.shouldVerifySeal(this.m_pContext);if(!c||l)return e.evaluate(i.Callback.of({await:function(e){if(s.m_pGuard&&s.m_pGuard.cancel(),s.m_pGuard=e,s.transducer.isAwaiting(s.m_pContext))return e;s.transducer.onBeforeValidate(s.m_pContext);var t=n||s.transducer.onValidate(s.m_pContext,!0===s.m_bPass?"pass":!1===s.m_bPass?"fail":"unknown",e);return t instanceof i.Callback&&t.isAlive?s.transducer.seal(s.m_pContext,!1):s.m_pGuard=void 0,t},promise:function(n){s.m_pGuard=void 0,u===s.m_nValidates&&r(n)&&(s.m_bPass=o.castToBoolean(n.payload),s.transducer.seal(s.m_pContext,s.m_bPass),s.transducer.onValidated(s.m_pContext,s.m_bPass?"pass":"fail",c?"revalidate":t),a()),e.evaluate(n,s.m_pContext,r)}}),this.m_pContext,r),!0;this.transducer.seal(this.m_pContext,this.m_bPass||!1)}return!1},t.prototype.invalidate=function(){this.m_bPass=void 0,this.transducer.seal(this.m_pContext,!1)},t.prototype.cancel=function(){this.m_nValidates++,this.transducer.await=void 0,this.transducer.seal(this.m_pContext,!1)},t.prototype.snapshot=function(){var e=o.Flags.convert(this.isEnabled,o.isBoolean(this.m_bPass),this.m_bPass||!1);if(e>0)return{a:this.transducer.id,b:e}},t}(n(3339).Item);t.Validator=a},404:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Validators=void 0;var r=n(655),i=n(4389),o=n(3339),a=n(3946),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_pCache=[],t}return r.__extends(t,e),Object.defineProperty(t.prototype,"transducers",{get:function(){var e=[];return this.each((function(t){t.isEnabled&&e.push(t.transducer)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isEnabled",{get:function(){return this.each((function(e){return e.isEnabled}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPassed",{get:function(){return!this.each((function(e){return e.isEnabled&&!e.isPassed}))},enumerable:!1,configurable:!0}),t.prototype.create=function(e,t,n){return this.pushToMatrix(new a.Validator(e,t,n))},t.prototype.resume=function(e,t,n){return this.pushToMatrix(new a.Validator(e,t,i.Flags.has(n.b,1),i.Flags.has(n.b,2)?i.Flags.has(n.b,3):void 0))},t.prototype.forTransducer=function(e){var t;return this.each((function(n){return n.transducer===e&&(t=n,!0)})),t||i.findLast(this.m_pCache,(function(t){return t.transducer===e}))},t.prototype.clear=function(){var t=this;this.each((function(e){t.m_pCache.push(e)})),e.prototype.clear.call(this)},t}(o.Matrix);t.Validators=s},5260:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.OntologyProcessor=t.Ontology=void 0;var r=n(655),i=n(4389),o=n(5466),a=n(6076),s=n(2968),u=n(2208),c=n(3339),l=n(9668),p=n(910),h=n(6123),f=n(5781),d=n(1479),m=n(1485),g=n(1039),b=n(637),y=function(e){function t(t,n,r,i,a,s,u,c,l,p,h,d){void 0===c&&(c=!1),void 0===l&&(l=!0),void 0===p&&(p="disabled"),void 0===d&&(d=!1);var m=e.call(this)||this;return m.m_pDependencies={},m.m_pChanges={},m.m_pChangesBuffer={},m.m_bReloading=!1,m.m_pStencils={exportables:void 0,actionables:void 0},m.m_pChain={states:{},transducers:{},branches:{},conditions:{},slots:{}},m.m_pState=t,m.m_pStates=new g.States(m),m.m_pTransducer=n,m.m_pBranch=r,m.m_pCondition=i,m.m_bAutoPushForward=c,m.m_sPreviewMode=p,m.m_pL10n=h||o.Namespace.create(""),m.m_bPaused=!1,m.m_bStopped=!0,m.m_fnFingerprint=s,m.m_fnStencil=u,m.m_bFingerprint=l,m.m_sFingerprint=l?f.CSHA2_256("fingerprint"):void 0,m.m_pLog=[],m.m_bVerbose=d,m.m_fnLogger=function(e){return console.log(e)},m.hook("OnItemPush","synchronous",(function(){m.m_bPaused=!1,m.m_bStopped=!1,1===m.count&&(m.emitHook("OnStart",{ontology:m}),m.isVerbose&&m.logMessage("Start ("+m.fingerprint+")")),m.invokeNextInstance()})),m.hook("OnItemPop","synchronous",(function(e){m.invokeNextInstance(),0===m.count&&(m.m_bPaused=e.item.isPaused,m.m_bStopped=e.item.isStopped,m.m_bPaused?(m.emitHook("OnPause",{ontology:m}),m.isVerbose&&m.logMessage("Pause ("+m.fingerprint+")")):m.m_bStopped?(m.emitHook("OnStop",{ontology:m}),m.isVerbose&&m.logMessage("Stop ("+m.fingerprint+")")):(m.emitHook("OnFinish",{ontology:m}),m.isVerbose&&m.logMessage("Finish ("+m.fingerprint+")")),m.emitHook("OnEnd",{ontology:m,type:m.isStopped?"stopped":m.isPaused?"paused":"finished"}),m.isVerbose&&m.logMessage("End ("+m.fingerprint+")"))})),a&&m.load(a),m}return r.__extends(t,e),t.prototype.chain=function(e,t){var n="";if(this.m_sFingerprint&&(n=e.id+(this.m_fnFingerprint&&this.m_fnFingerprint(e)||"")),e instanceof m.State)i.set(this.m_pChain.states,e.id,e);else if(e instanceof b.Transducer)i.set(this.m_pChain.transducers,e.id,e);else if(e instanceof a.Branch)i.set(this.m_pChain.branches,e.id,e),this.m_sFingerprint&&(n+=e.culling);else if(e instanceof s.Condition)i.set(this.m_pChain.conditions,e.id,e),this.m_sFingerprint&&(n+=e.context);else if(i.set(this.m_pChain.slots,e.id,e),this.m_sFingerprint&&e.required&&(n+="required"),t){var r=e.pipe(t);if(r){var o=e.legacyPipe(t),u=this.m_pChain.slots[r];i.isArray(u)||(u=i.set(this.m_pChain.slots,r,[])),u.push(e),o&&i.set(this.m_pChain.slots,o,u)}}n&&(this.m_sFingerprint=f.CSHA2_256(this.m_sFingerprint+n))},Object.defineProperty(t.prototype,"constructors",{get:function(){return{state:this.m_pState,transducer:this.m_pTransducer,branch:this.m_pBranch,condition:this.m_pCondition}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ontology",{get:function(){return this.m_pOntology},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fingerprint",{get:function(){return this.m_sFingerprint||(this.m_sFingerprint=new _(this.m_pState,this.m_pTransducer,this.m_pBranch,this.m_pCondition,this.m_pOntology,this.m_fnFingerprint,this.m_fnStencil).fingerprint)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"l10n",{get:function(){return this.m_pL10n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"states",{get:function(){return this.m_pStates},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"main",{get:function(){return this.m_pMain},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLoaded",{get:function(){return this.states.count>0&&this.main instanceof h.Main},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRunning",{get:function(){return this.count>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isStopped",{get:function(){return this.m_bStopped},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isFinishing",{get:function(){return this.count>0&&!this.each((function(e){return!e.isFinishing}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isFinished",{get:function(){return!this.isRunning&&!this.isPaused&&!this.isStopped},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPausing",{get:function(){return!!this.m_fnPause},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPaused",{get:function(){return this.m_bPaused},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPreview",{get:function(){return"disabled"!==this.m_sPreviewMode},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isVerbose",{get:function(){return this.m_bVerbose},set:function(e){this.m_bVerbose=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"autoPushForward",{get:function(){return this.m_bAutoPushForward},set:function(e){this.m_bAutoPushForward!==e&&(this.m_bAutoPushForward=e,this.each((function(e){return e.restart()})))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metrics",{get:function(){return this.m_pMetrics||{states:0,transducers:0,branches:0,conditions:0,slots:0}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"log",{get:function(){return this.m_pLog},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"logger",{get:function(){return this.m_fnLogger},set:function(e){this.m_fnLogger=e},enumerable:!1,configurable:!0}),t.prototype.logMessage=function(e){this.m_pLog.push(i.DateTime.log+": "+e),this.isVerbose&&this.m_fnLogger(i.DateTime.log+": "+e)},t.prototype.parse=function(e,t,n,r){var o=this;void 0===r&&(r=0);var a={states:0,transducers:0,branches:0,conditions:0,slots:0},s={conditions:[],transducers:[]},c=u.Errors.None;if(e&&i.isFilledString(e.id)){var l,h=t.branches.create(e,t),f=i.castToString(e.jump);this.chain(h),this.m_pMain&&e.id===this.m_pMain.id||a.branches++,i.each(e[this.m_pCondition.property],(function(t){if(t&&i.isFilledString(t.id)){var n=h.conditions.create(t);n&&(o.chain(n),"each"===e.culling&&s.conditions.push(n),a.conditions++)}else c|=u.Errors.OntologyInvalidCondition,o.logMessage("Invalid condition data in ontology: "+JSON.stringify(t))})),t.isMain&&this.logMessage("Constructing main branch"),i.each(e[this.m_pState.property],(function(e){if(e&&i.isFilledString(e.id)){var p=o.states.create(e,h,t,++r);o.chain(p),a.states++,l&&(l.setSuccessor("live",p),l.setSuccessor("preview",p)),l=p,i.each(e[o.m_pTransducer.property],(function(e){if(e&&i.isFilledString(e.id)){var t=p.transducers.create(e);o.chain(t),s.transducers.push(t),a.transducers++,t.slots.deserialize(e.slots||[]).each((function(e){o.chain(e,t),a.slots++}))}else c|=u.Errors.OntologyInvalidTransducer,o.logMessage("Invalid transducer data in ontology: "+JSON.stringify(e))})),i.each(e[o.m_pBranch.property],(function(e){var t=o.parse(e,p,n,r);r=t.enumerator,c|=t.errors,a.states+=t.metrics.states,a.transducers+=t.metrics.transducers,a.branches+=t.metrics.branches,a.conditions+=t.metrics.conditions,a.slots+=t.metrics.slots,s.transducers.push(t.transducers)}))}else c|=u.Errors.OntologyInvalidState,o.logMessage("Invalid state data in ontology: "+JSON.stringify(e))})),i.isFilledString(f)&&(this.states.each((function(e){return e.id===f}))?this.logMessage("Invalid branch jump detected in ontology: "+JSON.stringify(e)):(h.setSuccessor("live",void 0),"abort"!==f&&p.Reference(n,f,h)))}else c|=u.Errors.OntologyInvalidBranch,this.logMessage("Invalid branch data in ontology: "+JSON.stringify(e));return{errors:c,metrics:a,transducers:s,enumerator:r}},t.prototype.transducers=function(e){if(this.m_pTransducers){!function t(n){for(var o=[],a=1;a<arguments.length;a++)o[a-1]=arguments[a];i.each(n.conditions.length>1?n.conditions:[void 0],(function(a){var s=o.concat.apply(o,a?[a]:[]);i.each(n.transducers,(function(n){n instanceof b.Transducer?e(n,s,0===s.length?"*":1===s.length?s[0].context:f.CSHA2_256(i.Str.iterateToString(s,"",(function(e){return e.context})))):t.apply(void 0,r.__spreadArray([n],s))}))}))}(this.m_pTransducers)}},t.prototype.getFromChain=function(e,t){if(t)switch(e){case"state":return this.m_pChain.states[t];case"transducer":return this.m_pChain.transducers[t];case"branch":return this.m_pChain.branches[t];case"condition":return this.m_pChain.conditions[t];case"slot":return this.m_pChain.slots[t]}},t.prototype.invokeNextInstance=function(){if(!this.isStopped&&!this.isPaused&&this.count>0){var e=this.each((function(e){return e.isRunning}));this.each((function(t){t.isRunning||e&&!t.allowConcurrency||(e=!0,t.start())}))}},t.prototype.onInstanceCreate=function(e){this.emitHook("OnInstanceCreate",{ontology:this,instance:e})},t.prototype.onInstanceStart=function(e){this.emitHook("OnInstanceStart",{ontology:this,instance:e})},t.prototype.onInstanceData=function(e,t){this.emitHook("OnInstanceData",{ontology:this,instance:e,transducer:t.transducer,slot:t.slot,data:t.data,id:t.id,context:t.key,get value(){return t.value}})},t.prototype.onInstanceProcessing=function(e,t){this.emitHook("OnInstanceProcessing",{ontology:this,instance:e,processing:t})},t.prototype.onInstanceStepForward=function(e,t){return!1},t.prototype.onInstanceUpdate=function(e){},t.prototype.onInstanceEnd=function(e,t){this.emitHook("OnInstanceEnd",{ontology:this,instance:e,type:t})},t.prototype.onInstanceFinishing=function(e,t){return!0},t.prototype.onInstanceFinish=function(e){this.emitHook("OnInstanceFinish",{ontology:this,instance:e})},t.prototype.onInstancePause=function(e){this.emitHook("OnInstancePause",{ontology:this,instance:e})},t.prototype.onInstanceStop=function(e){this.emitHook("OnInstanceStop",{ontology:this,instance:e})},t.prototype.spawn=function(e,t,n){var r=this;if(void 0===e&&(e="single"),!this.isLoaded)throw new Error("Cannot start the state machine, because no ontology is loaded.");var o=this;return this.pushToMatrix(new l.Instance({get fingerprint(){return o.fingerprint},l10n:this.l10n,states:this.states,get preview(){return o.m_sPreviewMode},get autoPushForward(){return o.autoPushForward},chain:{state:function(e){return r.getFromChain("state",e)},transducer:function(e){return r.getFromChain("transducer",e)},branch:function(e){return r.getFromChain("branch",e)},condition:function(e){return r.getFromChain("condition",e)},slot:function(e){return r.getFromChain("slot",e)}},events:{onInstanceCreate:function(e){return r.onInstanceCreate(e)},onInstanceStart:function(e){return r.onInstanceStart(e)},onInstanceData:function(e,t){return r.onInstanceData(e,t)},onInstanceProcessing:function(e,t){return r.onInstanceProcessing(e,t)},onInstanceStepForward:function(e,t){return r.onInstanceStepForward(e,t)},onInstanceUpdate:function(e){return r.onInstanceUpdate(e)},onInstanceFinishing:function(e,t){return r.onInstanceFinishing(e,t)},onInstanceEnd:function(e,t){return r.onInstanceEnd(e,t)},onInstanceFinish:function(e){return r.onInstanceFinish(e)},onInstancePause:function(e){return r.onInstancePause(e)},onInstanceStop:function(e){return r.onInstanceStop(e)}},spawn:function(e,t){return r.pushToMatrix(e,{index:t,recalculate:!0,emit:"push"})},dependencies:function(e){return r.m_pDependencies[e.id]||{}},iterate:function(e){return o.transducers(e)},stencil:function(e){return o.stencil(e)},hasChanged:function(e,t){var n=o.m_pChanges[e];return!(!n||!n.changed||(t&&(0===i.arraySize(r.m_pChangesBuffer)&&i.schedulePromise((function(){i.each(r.m_pChangesBuffer,(function(e,t){var n=o.m_pChanges[t];n&&(n.changed=!1),delete r.m_pChangesBuffer[t]}),{keys:!0})})),r.m_pChangesBuffer[e]=!0),0))},get logger(){return o.isVerbose?function(e){return o.logger(e)}:void 0}},e,this.main,t,n))},t.prototype.stencil=function(e){var t=this;switch(void 0===e&&(e="exportables"),e){case"exportables":return this.m_pStencils.exportables||(this.m_pStencils.exportables=f.CSHA2_256("stencil:exportables"),this.transducers((function(e,n,r){t.m_fnStencil&&!t.m_fnStencil(e)||e.slots.each((function(n){i.castToBoolean(n.exportable,!n.actionable)&&(t.m_pStencils.exportables=f.CSHA2_256(t.m_pStencils.exportables+e.id+n.type+n.reference+r))}))}))),this.m_pStencils.exportables;case"actionables":return this.m_pStencils.actionables||(this.m_pStencils.actionables=f.CSHA2_256("stencil:actionables"),this.transducers((function(e,n,r){t.m_fnStencil&&!t.m_fnStencil(e)||e.slots.each((function(n){n.actionable&&(t.m_pStencils.actionables=f.CSHA2_256(t.m_pStencils.actionables+e.id+n.type+n.reference+r))}))}))),this.m_pStencils.actionables}},t.prototype.load=function(e){var t=this;if(i.isString(e))return this.load(JSON.parse(e));this.m_bReloading=!0,this.m_pLog=[],this.unload(),this.logMessage("Start loading ontology"),this.m_pOntology=e,this.m_pMain=this.states.main(),this.m_bReloading=!1,this.chain(this.m_pMain);var n={},r=this.parse(i.extendImmutable(e,{id:this.m_pMain.id}),this.m_pMain,n),o=function(e,n,r){var i,o=t.m_pDependencies[e.id];o?o[n.id]=r:t.m_pDependencies[e.id]=((i={})[n.id]=r,i)};return function e(n){i.each(n.transducers,(function(n){var r;if(n instanceof b.Transducer){var a=JSON.stringify(n.props);(null===(r=t.m_pChanges[n.id])||void 0===r?void 0:r.props)!==a&&(t.m_pChanges[n.id]={props:a,changed:!0},t.m_pChangesBuffer[n.id]&&delete t.m_pChangesBuffer[n.id],i.each(t.m_pChain.slots,(function(e,t){e&&a.indexOf(t)>0&&(e instanceof d.Slot?o(e,n,!1):i.each(e,(function(e){return o(e,n,!1)})))}),{keys:!0}),n.slots.each((function(e){return o(e,n,!0)})))}else e(n)}))}(this.m_pTransducers=r.transducers),this.states.each((function(e){i.each(n[e.id],(function(t){t.setSuccessor("live",e)})),i.destroy(n,e.id)})),i.each(n,(function(e,n){var o="";i.each(e,(function(e){o+=(""===o?"":", ")+" "+(e instanceof a.Branch?"branch":"state")+" '"+e.id+"'"})),r.errors|=u.Errors.OntologyInvalidJump,t.logMessage("Jump reference '"+n+"' not found (reference used in the following states/branches: "+o+")")}),{keys:!0}),r.errors===u.Errors.None&&this.m_pMain?(this.m_pMetrics=r.metrics,this.logMessage("Ontology loaded ("+r.metrics.states+" state"+(1===r.metrics.states?"":"s")+", "+r.metrics.transducers+" transducer"+(1===r.metrics.transducers?"":"s")+", "+r.metrics.branches+" branch"+(1===r.metrics.branches?"":"es")+", "+r.metrics.conditions+" condition"+(1===r.metrics.conditions?"":"s")+" and "+r.metrics.slots+" slot"+(1===r.metrics.slots?"":"s")+")"),this.emitHook("OnLoad",{ontology:this})):(this.logMessage("Ontology not loaded, an error occurred."),this.unload()),r.errors},t.prototype.unload=function(){var e=this;this.stop(),this.isLoaded&&(this.m_pStates.clear(),this.logMessage("Ontology unloaded"),this.emitHook("OnUnload",{ontology:this})),this.m_bReloading||(i.each(this.m_pDependencies,(function(t,n){delete e.m_pDependencies[n]}),{keys:!0}),i.each(this.m_pChanges,(function(t,n){delete e.m_pChanges[n]}),{keys:!0})),this.m_pChain={states:{},transducers:{},branches:{},conditions:{},slots:{}},this.m_pOntology=void 0,this.m_pMain=void 0,this.m_pMetrics=void 0,this.m_sFingerprint=this.m_bFingerprint?f.CSHA2_256("fingerprint"):void 0,this.m_pStencils.exportables=void 0,this.m_pStencils.actionables=void 0},t.prototype.start=function(e,t){return this.spawn("single",e,t)},t.prototype.stop=function(){return this.m_fnPause&&(this.m_fnPause("VFSM stopped."),this.m_fnPause=void 0),this.m_bStopped=!0,this.m_bReloading||i.each(this.m_pChanges,(function(e){e.changed=!0})),!!this.isRunning&&(this.reverseEach((function(e){e.stop()})),!0)},t.prototype.snapshot=function(e){var t=[];if(this.each((function(e){t.push(e.snapshot)})),t.length>0){var n={a:t};return i.isDefined(e)&&i.set(n,"b",e),n}},t.prototype.pause=function(e,t){var n=this;if(t){var r=new Promise((function(r,i){var o=n.snapshot(e);o&&n.isRunning&&!n.m_fnPause?(n.each((function(e){return e.data.freeze()})),n.m_fnPause=i,t(o,(function(t){if(n.m_fnPause=void 0,t||n.each((function(e){return e.data.unfreeze()})),t){var o=n.pause(e);o?r(o):i("VSFM cannot be paused.")}else i("VSFM pause canceled.")}))):i(n.m_fnPause?"VFSM already pausing.":"VSM not running.")}));return r.catch((function(e){n.logMessage(e||"Pause error!")})),r}if(this.isRunning){var o={a:[]};return this.m_bPaused=!0,this.reverseEach((function(e){var t=e.pause();t&&o.a.splice(0,0,t)})),i.isDefined(e)&&i.set(o,"b",e),o}},t.prototype.resume=function(e){var t=this;return this.stop(),i.arraySize(e.a)>0&&(i.each(e.a,(function(e){t.spawn(e.e?"multi":"single",e)})),i.schedulePromise((function(){t.isRunning&&t.emitHook("OnResume",{ontology:t,data:e.b})})),this.isRunning)},t.prototype.previewMode=function(e,t){return void 0===t&&(t=!0),e&&this.m_sPreviewMode!==e&&(this.m_sPreviewMode=e,t&&this.each((function(e){return e.restart()}))),this.m_sPreviewMode},t.prototype.forEach=function(e,t,n){return void 0===t&&(t="all"),this.states.each((function(r){return!(r===n||("states"!==t&&"all"!==t||!e(r))&&!r.transducers.each((function(r){return r!==n&&!("transducers"!==t&&"all"!==t||!e(r))}))&&!r.branches.each((function(r){return r!==n&&(!("branches"!==t&&"all"!==t||!e(r))||r.conditions.each((function(r){return r!==n&&!("conditions"!==t&&"all"!==t||!e(r))})))})))}))},t.prototype.destroy=function(){this.unload(),e.prototype.destroy.call(this)},t}(c.Matrix);t.Ontology=y;var _=function(e){function t(t,n,r,i,o,a,s){return e.call(this,t,n,r,i,o,a,s)||this}return r.__extends(t,e),t}(y);t.OntologyProcessor=_},910:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Reference=void 0;var r=n(4389);t.Reference=function(e,t,n){(e[t]||r.set(e,t,[])).push(n)}},6123:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Main=void 0;var r=n(655),i=n(5781),o=function(e){function t(t){return e.call(this,t,{id:i.CSHA2_256("*")})||this}return r.__extends(t,e),t.prototype.onEnterCondition=function(){return!0},t.prototype.onEnter=function(){},t.prototype.onLeaveCondition=function(){return!0},t.prototype.onValidate=function(){return!0},t}(n(1485).State);t.Main=o},1485:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.State=void 0;var r=n(655),i=n(6148),o=n(8406),a=n(4381),s=n(9324),u=n(6123),c=function(e){function t(t,n){var r=e.call(this,t,n.id)||this;return r.m_nEvaluate=0,r.m_nEnumerator=0,r.m_pTransducers=new s.Transducers(r),r.m_pBranches=new a.Branches(r),r.m_pProps=n,r}return r.__extends(t,e),Object.defineProperty(t.prototype,"states",{get:function(){return this.parent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ontology",{get:function(){return this.states.ontology},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transducers",{get:function(){return this.m_pTransducers},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"branches",{get:function(){return this.m_pBranches},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMain",{get:function(){return this instanceof u.Main},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"props",{get:function(){return this.m_pProps},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isEvaluating",{get:function(){return this.m_nEvaluate>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enumerator",{get:function(){return this.m_nEnumerator},enumerable:!1,configurable:!0}),t.prototype.prepare=function(t,n,r){return void 0===r&&(r=0),this.m_nEnumerator=r,e.prototype.prepare.call(this,t,n)},t.prototype.evaluate=function(e,t,n){var r=this.m_nEvaluate,o=!0;e instanceof i.Callback?e.isAlive&&this.m_nEvaluate++:(o=n(e),e.isAsynchronous&&this.m_nEvaluate>0&&this.m_nEvaluate--),o&&(0===this.m_nEvaluate&&r>0||this.m_nEvaluate>0&&0===r)&&this.onEvaluate(t,this.m_nEvaluate>0)},t.prototype.onSkip=function(e){this.emitHook("OnSkip",{state:this,context:e})},t.prototype.onLeave=function(e){this.emitHook("OnLeave",{state:this,context:e})},t.prototype.onLeaveError=function(e,t){},t.prototype.onCancel=function(e){this.emitHook("OnCancel",{state:this,context:e})},t.prototype.onValidated=function(e,t,n){this.emitHook("OnValidated",{state:this,context:e,result:t,type:n})},t.prototype.onEvaluate=function(e,t){this.emitHook("OnEvaluate",{state:this,context:e,evaluating:t})},t}(o.Factory);t.State=c},1039:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.States=void 0;var r=n(655),i=n(6123),o=function(e){function t(t){var n=e.call(this,t.constructors.state)||this;return n.m_pOntology=t,n}return r.__extends(t,e),Object.defineProperty(t.prototype,"ontology",{get:function(){return this.m_pOntology},enumerable:!1,configurable:!0}),t.prototype.main=function(){return this.pushToMatrix(new i.Main(this))},t.prototype.create=function(e,t,n,r){var i=this.appendToMatrix(e).prepare(n,t,r);return t.states.push(i),i},t}(n(3339).StrictMatrix);t.States=o},637:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Transducer=void 0;var r=n(655),i=n(1479),o=function(e){function t(t,n){var r=e.call(this,t,n.id)||this;return r.m_pProps=n,r.m_pSlots=new i.Slots,r}return r.__extends(t,e),Object.defineProperty(t.prototype,"transducers",{get:function(){return this.parent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this.transducers.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"slots",{get:function(){return this.m_pSlots},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"props",{get:function(){return this.m_pProps},enumerable:!1,configurable:!0}),t.prototype.seal=function(e,t){this.slots.each((function(n){var r=e.mutableValueOf(n);r&&r.seal(t)}))},t.prototype.shouldVerifySeal=function(e){var t=!1;return this.slots.each((function(n){var r=e.mutableValueOf(n);r&&r.shouldVerifySeal&&(t=!0)})),t},t.prototype.isAwaiting=function(e){return this.slots.each((function(t){var n=e.mutableValueOf(t);return n&&n.isAwaiting||!1}))},t.prototype.onSkip=function(e){this.emitHook("OnSkip",{transducer:this,context:e})},t.prototype.onLeave=function(e){this.emitHook("OnLeave",{transducer:this,context:e})},t.prototype.onCancel=function(e){this.emitHook("OnCancel",{transducer:this,context:e})},t.prototype.onBeforeValidate=function(e){},t.prototype.onValidated=function(e,t,n){this.emitHook("OnValidated",{transducer:this,context:e,result:t,type:n})},t.prototype.onSideEffect=function(e,t){},t}(n(8406).Factory);t.Transducer=o},9324:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Transducers=void 0;var r=n(655),i=function(e){function t(t){var n=e.call(this,t.ontology.constructors.transducer)||this;return n.m_pState=t,n}return r.__extends(t,e),Object.defineProperty(t.prototype,"state",{get:function(){return this.m_pState},enumerable:!1,configurable:!0}),t.prototype.create=function(e){return this.appendToMatrix(e)},t}(n(3339).StrictMatrix);t.Transducers=i},341:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.TripettoRunner=void 0;var r=n(655),i=n(7448);t.TripettoRunner=i,r.__exportStar(n(7448),t),t.default=i},2548:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Branch=void 0;var r=n(655),i=n(7701),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this.hash},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"runner",{get:function(){return this.cluster.runner},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cluster",{get:function(){return this.state},enumerable:!1,configurable:!0}),t.prototype.onCondition=function(){return!0},t.prototype.onLeave=function(t){this.runner&&this.runner.onInstanceBranchLeave(t,this),e.prototype.onLeave.call(this,t)},r.__decorate([i.ontology("branches")],t)}(i.Branch);t.Branch=o},4061:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Cluster=void 0;var r=n(655),i=n(7701),o=n(4389),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_pValidation={},t}return r.__extends(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this.hash},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"runner",{get:function(){return this.ontology},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"percentageInRunner",{get:function(){var e=this.runner.metrics.states;return e>0?Math.floor(Math.min(this.enumerator-1,e)/e*100):0},enumerable:!1,configurable:!0}),t.prototype.getValidation=function(e){return this.m_pValidation[e.instance.id+e.key]||"unknown"},t.prototype.onEnterCondition=function(){return!0},t.prototype.onEnter=function(e,t){return this.runner.onInstanceCluster(e,this,t),this.runner.onInstanceProgress(e.instance,this.percentageInRunner),t},t.prototype.onLeaveCondition=function(){return!0},t.prototype.onLeave=function(t){var n=this;t.instance.isRunning&&"paginated"===this.runner.mode&&(this.runner.onInstanceClusterLeave(t.instance,"forward",this),o.scheduleTick((function(){n.isPopped||n.runner.onInstanceStep(t.instance,"forward")})),e.prototype.onLeave.call(this,t))},t.prototype.onCancel=function(t){var n=this;t.instance.isRunning&&"paginated"===this.runner.mode&&(this.runner.onInstanceClusterLeave(t.instance,"backward",this),o.scheduleTick((function(){n.isPopped||n.runner.onInstanceStep(t.instance,"backward")})),e.prototype.onCancel.call(this,t))},t.prototype.onValidate=function(e){return o.set(this.m_pValidation,e.instance.id+e.key,"unknown"),!0},t.prototype.onValidated=function(t,n,r){o.set(this.m_pValidation,t.instance.id+t.key,n),this.runner.onInstanceValidated(t.instance,n,r),e.prototype.onValidated.call(this,t,n,r)},t.prototype.onEvaluate=function(t,n){this.runner.onInstanceClusterEvaluating(t.instance,this,n),e.prototype.onEvaluate.call(this,t,n)},r.__decorate([i.ontology("clusters")],t)}(i.State);t.Cluster=a},3575:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ConditionBlock=void 0;var r=n(2548),i=n(4061),o=n(1668),a=n(1479),s=n(6907),u=n(6769),c=function(){function e(e,t){this.m_pCondition=e,this.context=t}return Object.defineProperty(e.prototype,"nodeRef",{get:function(){var e=this;return!this.m_pNode&&this.props.node&&this.m_pCondition.runner&&this.m_pCondition.runner.forEach((function(t){return t.props.id===e.props.node&&(e.m_pNode=t),e.m_pNode instanceof o.Node}),"transducers"),this.m_pNode},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clusterRef",{get:function(){var e=this;return!this.m_pCluster&&this.props.cluster&&this.m_pCondition.runner&&this.m_pCondition.runner.forEach((function(t){return t.props.id===e.props.cluster&&(e.m_pCluster=t),e.m_pCluster instanceof i.Cluster}),"states"),this.m_pCluster},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"branchRef",{get:function(){var e=this;return!this.m_pBranch&&this.props.branch&&this.m_pCondition.runner&&this.m_pCondition.runner.forEach((function(t){return t.props.id===e.props.branch&&(e.m_pBranch=t),e.m_pBranch instanceof r.Branch}),"branches"),this.m_pBranch},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"view",{get:function(){return this.m_pCondition.runner?this.m_pCondition.runner.isPreview?"preview":this.m_pCondition.runner.isTest?"test":"live":"live"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"condition",{get:function(){return this.m_pCondition.props},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"props",{get:function(){return this.condition.block},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"node",{get:function(){var e;return null===(e=this.nodeRef)||void 0===e?void 0:e.props},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cluster",{get:function(){var e;return null===(e=this.clusterRef)||void 0===e?void 0:e.props},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"branch",{get:function(){var e;return null===(e=this.branchRef)||void 0===e?void 0:e.props},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"slots",{get:function(){var e;return null===(e=this.nodeRef)||void 0===e?void 0:e.slots},enumerable:!1,configurable:!0}),e.prototype.slotOf=function(e){var t=this.context.instance.data.forSlot(e||this.props.slot||"");return t&&t.slot},e.prototype.valueOf=function(e,t){if(this.nodeRef){var n=e instanceof a.Slot?e:this.nodeRef.slots.select(e||this.props.slot||"",t);return n&&n.slots===this.nodeRef.slots&&this.context.immutableValueOf(n)||void 0}},e.prototype.immutableValueOf=function(e){return this.context.immutableValueOf(e||this.props.slot||"")},e.prototype.variableFor=function(e){return this.context.variableFor(e,(function(e){return e.props.block&&e.props.block.slot}),u.localizeVariable)},e.prototype.parseVariables=function(e,t,n){return void 0===t&&(t=""),void 0===n&&(n=!1),s.markdownifyToString(e,this.context,t,n)},e}();t.ConditionBlock=c},3246:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ConditionBlocksNamespace=void 0;var r=n(4389),i=function(){function e(e){this.m_pBlocks={},this.m_sIdentifier=e}return Object.defineProperty(e.prototype,"identifier",{get:function(){return this.m_sIdentifier},enumerable:!1,configurable:!0}),e.prototype.ofType=function(e){return this.m_pBlocks[e]},e.prototype.register=function(e,t,n){var i=this;if(this.m_pBlocks[t]&&this.m_pBlocks[t]!==e)throw new Error("Duplicate block '"+t+"' registered.");r.each(n,(function(t){if(i.m_pBlocks[t]&&i.m_pBlocks[t]!==e)throw new Error("Duplicate block '"+t+"' registered.");r.set(i.m_pBlocks,t,e)})),r.set(e,"identifier",t),e.prototype.type=r.set(this.m_pBlocks,t,e)},e.prototype.create=function(e,t){if(e.props.block){var n=this.ofType(e.props.block.type);if(n)return new n(e,t)}},e}();t.ConditionBlocksNamespace=i},2218:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Condition=void 0;var r=n(655),i=n(7701),o=n(6148),a=n(2907),s=n(4389),u=function(e){function t(t,n){return e.call(this,t,n)||this}return r.__extends(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this.hash},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"runner",{get:function(){return this.branch.runner},enumerable:!1,configurable:!0}),t.prototype.onCondition=function(e,t){if(!this.props.disabled&&this.runner){var n=this.runner.namespace.conditionBlocks.create(this,e);if(n){var r=(this.props.block?this.props.block.slot:"")||"";if(r&&!e.mutableValueOf(r))return!1;var i={callback:t},u=a.invokeMarker("condition",n,i);return!(s.isBoolean(u)||u instanceof o.Callback)||u}}return!1},t.prototype.onApproved=function(e){if(!this.props.disabled&&"each"===this.branch.culling){var t=(this.props.block?this.props.block.slot:"")||"";if(t){var n=e.mutableValueOf(t);n&&n.mountContext(e)}}},r.__decorate([i.ontology("conditions")],t)}(i.Condition);t.Condition=u},5646:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.checksum=void 0;var r=n(7701),i=n(4389),o=n(5781),a=n(4066),s=n(3383);t.checksum=function(e,t){var n=e instanceof r.Instance||e instanceof r.Context?{exportables:a.Export.exportables(e),actionables:a.Export.actionables(e)}:e,u=o.SHA2_256(n.exportables.fingerprint+(t?n.exportables.stencil:s.stencil("exportables",n.exportables)));return i.each(n.exportables.fields,(function(e){u=o.SHA2_256(u+e.key+i.castToString(e.time)+e.string.substr(0,4096)+i.castToString(e.reference).substr(0,4096))})),n.actionables&&(u=o.SHA2_256(u+n.actionables.fingerprint+(t?n.actionables.stencil:s.stencil("actionables",n.actionables))),i.each(n.actionables.nodes,(function(e){u=o.SHA2_256(u+e.key),i.each(e.data,(function(e){u=o.SHA2_256(u+e.key+i.castToString(e.time)+e.string.substr(0,4096)+i.castToString(e.reference).substr(0,4096))}))}))),u}},4066:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Export=void 0;var r=n(7701),i=n(5781),o=n(974),a=n(6907),s=n(4389);!function(e){function t(e){return{get fingerprint(){return e.fingerprint},get stencil(){return e.stencil},fields:s.Str.iterateToString(e.fields,",",(function(e){return'"'+s.Str.replace(e.name,'"','""')+'"'})),record:s.Str.iterateToString(e.fields,",",(function(e){return'"'+s.Str.replace(e.string,'"','""')+'"'}))}}function n(e,t,n){void 0===n&&(n=" / ");var a=e instanceof r.Context?e.instance:e;return{get fingerprint(){return a.fingerprint},get stencil(){return a.stencil("exportables")},fields:s.map(o.populateSlots(a,"exportables",t,n),(function(e){return{name:e.name,type:e.block.type,version:e.block.version,get node(){return{id:e.node.id,key:i.CSHA2_256(e.node.id+"/"+e.context),context:e.context,props:function(){return e.node.props}}},slot:e.slot.reference,datatype:e.slot.type,string:e.value&&e.slot.toString(e.value.value)||"",value:e.value&&e.value.value,modified:e.values.isModified(e.key),reference:e.value&&e.value.reference,time:e.value&&e.value.time,key:e.key}}))}}function u(e,t,i){void 0===i&&(i=" / ");var o=e instanceof r.Context?e.instance:e,a=n(o,t,i);return{get fingerprint(){return o.fingerprint},get stencil(){return o.stencil("exportables")},fields:s.filter(a.fields,(function(e){return s.isNumberFinite(e.time)}))}}function c(e,t,i){void 0===i&&(i=" / ");var o=e instanceof r.Context?e.instance:e,a=n(o,t,i);return{get fingerprint(){return o.fingerprint},get stencil(){return o.stencil("exportables")},fields:s.filter(a.fields,(function(e){return e.modified}))}}e.values=function(e,t){var n=e instanceof r.Context?e.instance:e,i={};return s.each(n.data.all,(function(e){var r=e.transducer,o=r.props.block;!o||t&&!s.findFirst(t,(function(t){return e.slot.id===t}))||s.set(i,e.slot.id,{get fingerprint(){return n.fingerprint},node:{id:r.id,get name(){return a.markdownifyToPlainText(r.props.name||"")||a.markdownifyToPlainText(r.props.placeholder||"")}},block:{type:o.type,version:o.version},slot:{id:e.slot.id,reference:e.slot.reference,name:e.slot.alias||e.slot.name||"",label:e.slot.label||""},values:e.values})})),i},e.exportables=n,e.exportablesWithData=u,e.exportablesDiff=c,e.fields=function(e,t,r){return void 0===r&&(r=" / "),n(e,t,r)},e.NVPs=function(e,t){var i={};return(e instanceof r.Instance||e instanceof r.Context?n(e):e).fields.forEach((function(e){if(e.name){for(var n=e.name,r=1;s.isDefined(i[n]);)n=e.name+" ("+ ++r+")";i[n]=s.isFunction(t)?t(e):"strings"!==t&&(s.isUndefined(e.value)||s.isBoolean(e.value)||s.isNumberFinite(e.value))?e.value:e.string}})),i},e.CSV=function(e,i,o){return void 0===o&&(o=" / "),t(n(e instanceof r.Context?e.instance:e,i,o))},e.CSVWithData=function(e,n,i){return void 0===i&&(i=" / "),t(u(e instanceof r.Context?e.instance:e,n,i))},e.CSVDiff=function(e,n,i){return void 0===i&&(i=" / "),t(c(e instanceof r.Context?e.instance:e,n,i))},e.actionables=function(e){var t=e instanceof r.Context?e.instance:e,n={},a=!1;if(s.each(o.populateSlots(t,"actionables"),(function(e){var t=i.CSHA2_256(e.node.id+"/"+e.context);(n[t]||(n[t]={key:t,type:e.block.type,version:e.block.version,get node(){return{id:e.node.id,key:t,context:e.context,props:function(){return e.node.props}}},data:[]})).data.push({key:e.key,name:e.name,slot:e.slot.reference,datatype:e.slot.type,string:e.value&&e.slot.toString(e.value.value)||"",value:e.value&&e.value.value,modified:e.values.isModified(e.key),reference:e.value&&e.value.reference,time:e.value&&e.value.time}),!a&&e.value&&e.value.time&&(a=!0)})),a)return{get fingerprint(){return t.fingerprint},get stencil(){return t.stencil("actionables")},nodes:s.map(n,(function(e){return e}))}}}(t.Export||(t.Export={}))},6118:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Import=void 0;var r=n(7701),i=n(4389),o=n(974);!function(e){e.values=function(e,t,n){var o=e instanceof r.Context?e.instance:e,a=!1;return i.each(t,(function(e,t){var r=o.data.forSlot(t);!r||n&&!i.findFirst(n,(function(e){return r.slot.id===e}))?a=!0:r.import(e.values)}),{keys:!0}),o.stepToHead(),!a},e.fields=function(e,t,n,a){void 0===a&&(a=" / ");var s=e instanceof r.Context?e.instance:e,u=o.populateSlots(s,"all",n,a),c=0;return i.each(t,(function(e){var t=!1;i.each(u,(function(n){n.key!==e.key&&n.name!==e.name||(n.values.importValue(n.context,{value:e.value,reference:e.reference,time:e.time}),t=!0)})),t||c++})),0===c},e.CSV=function(e,t,n){for(var a=e instanceof r.Context?e.instance:e,s=o.populateSlots(a,"exportables",n),u=i.stringLength(t),c=[],l=!0,p=!1,h="",f=0;f<u;f++){var d=t.charAt(f),m='"'===d;p?m?f+1<u&&'"'===t.charAt(f+1)?(h+='"',f++):(c.push(h||void 0),p=!1,h=""):h+=d:l&&m?(l=!1,p=!0):","===d&&(l=!0)}if(p&&c.push(h),c.length===s.length){var g=0;return i.each(s,(function(e){return e.values.importValue(e.context,{value:c[g++]})})),!0}return!1}}(t.Import||(t.Import={}))},6093:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.powDuration=t.powSpentTime=t.powHashRate=t.powVerify=t.powSolve=void 0;var r=n(5781),i=n(4389),o=n(5646),a="0123456789abcdef",s=0,u=0,c=0;function l(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}function p(e,t,n){e[n]=t>>>24&255,e[n+1]=t>>>16&255,e[n+2]=t>>>8&255,e[n+3]=255&t}function h(e,t){var n=new Array(e.length/2),r=n.length,i=0,o=0;if(t>=8*r)throw new Error("The difficulty is too high to solve.");for(;o<r;o++)n[o]=parseInt(e.charAt(2*o)+e.charAt(2*o+1),16);for(o=0;o<=t-8;o+=8,i++)if(i>=r||0!==n[i])return!1;return i<r&&0==(n[i]&255<<8+o-t)}t.powSolve=function(e,t,n,l,f,d,m){void 0===l&&(l=16),void 0===d&&(d=Date.now()),void 0===m&&(m="milliseconds");for(var g=new Array(l),b=g.length,y=o.checksum(e,!0),_=Date.now(),v=_,S=0;S<b;S++)g[S]=0;for(;!f||v-_<f;){var P=8,O="",C=P+4*((b-P)/4|0),k=d+("milliseconds"===m?v-_:i.Num.round((v-_)/1e3));for(p(g,k/4294967296>>>0,0),p(g,(4294967295&k)>>>0,4);P<C;P+=4)p(g,4294967296*Math.random()>>>0,P);for(;P<b;P++)g[P]=256*Math.random()>>>0;for(var x=0;x<b;x++)O+=a.charAt(g[x]>>>4&15)+a.charAt(g[x]>>>0&15);if(s++,h(r.SHA2_256(y+(n||"")+O),t))return c=Date.now()-_,u+=c,O;v=Date.now()}throw u+=c=v-_,new Error("Nonce not solved!")},t.powVerify=function(e,t,n,i,a){if(e.length<16||e.length>64||e.length%16)return!1;for(var s=new Array(e.length/2),u=s.length,c=0;c<u;c++)s[c]=parseInt(e.charAt(2*c)+e.charAt(2*c+1),16);var p=Date.now()-(4294967296*l(s,0)+l(s,4));return!(n>0&&(p<0||p>n)||!h(r.SHA2_256(o.checksum(i,!1)+(a||"")+e),t))},t.powHashRate=function(){return u&&s/u||0},t.powSpentTime=function(){return u},t.powDuration=function(){return c}},974:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.populateSlots=void 0;var r=n(2548),i=n(4061),o=n(6907),a=n(1668),s=n(5781),u=n(1479),c=n(4389);function l(e,t){var n="",r="";return c.each(e,(function(e){e!==r&&(n+=(""===n?"":t)+e,r=e)})),n}t.populateSlots=function(e,t,n,p){void 0===p&&(p=" / ");var h=[];return e.transducers((function(f,d,m){if(f.props.block){var g=c.filter(f.slots.all,(function(e){return!(!("all"===t||"exportables"===t&&c.castToBoolean(e.exportable,!e.actionable)||"actionables"===t&&e.actionable)||n&&!c.findFirst(n,(function(t){return e.id===t})))})),b=c.reduce(g,(function(e,t){return e+(t.alias||t.name?1:0)}),0)||0;c.each(g,(function(t){var n,y=e.data.forSlot(t);if(y){var _=[t.alias||t.name||""];_[0]||(_[0]=o.markdownifyToPlainText(f.props.name||"")||o.markdownifyToPlainText(f.props.placeholder||""),_[0]&&g.length-b>1&&t.label&&_.push(t.label),!_[0]&&t.label&&(_[0]=t.label)),d.length>0&&(_=(n=c.filter(c.map(d,(function(t){if(t.props.block){var n=t.props.block;if(n.slot){var o=e.lookup.slot(n.slot);if(o instanceof u.Slot&&(l=o.alias||o.name||""))return l}if(n.node){var s=e.lookup.transducer(n.node);if(s instanceof a.Node&&(l=s.props.name||s.props.placeholder))return l}if(n.cluster){var c=e.lookup.state(n.cluster);if(c instanceof i.Cluster&&(l=c.props.name))return l}if(n.branch){var l,p=e.lookup.branch(n.branch);if(p instanceof r.Branch&&(l=p.props.name))return l}}return""})),(function(e){return!!e}))).concat.apply(n,_)),h.push({node:f,block:{type:f.props.block.type,version:f.props.block.version},slot:t,name:l(_,p),context:m,key:s.CSHA2_256(t.id+"/"+m),values:y,value:y.values[m]})}}))}})),h}},3383:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.stencil=void 0;var r=n(7701),i=n(5781),o=n(4389),a=n(4066),s=n(3220);t.stencil=function(e,t){switch(e){case"exportables":if(t instanceof r.Instance||t instanceof r.Context||"fingerprint"in t&&"stencil"in t&&"fields"in t){var n=t instanceof r.Instance||t instanceof r.Context?a.Export.exportables(t):t,u=i.CSHA2_256("stencil:exportables");return o.each(n.fields,(function(e){u=i.SHA2_256(u+e.node.id+e.datatype+e.slot+e.node.context)})),u===n.stencil?u:i.SHA2_256(u+n.stencil)}break;case"actionables":if(t instanceof r.Instance||t instanceof r.Context||"fingerprint"in t&&"stencil"in t&&"nodes"in t){var c=t instanceof r.Instance||t instanceof r.Context?a.Export.actionables(t):t,l=i.CSHA2_256("stencil:actionables");return c&&(o.each(c.nodes,(function(e){o.each(e.data,(function(t){l=i.SHA2_256(l+e.node.id+t.datatype+t.slot+e.node.context)}))})),c.stencil!==l)?i.SHA2_256(l+c.stencil):l}}return s.calculateFingerprintAndStencil(t).stencil(e)}},7240:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.tripetto=void 0;var r=n(4389),i=n(3511);t.tripetto=function(e){switch(e.type){case"node":return function(t){i.Namespaces.get(e.namespace).nodeBlocks.register(t,e.identifier,r.isString(e.alias)?[e.alias]:e.alias||[],e.ref,e.autoRender,e.autoValidate)};case"headless":return function(t){i.Namespaces.get(e.namespace).nodeBlocks.register(t,e.identifier,r.isString(e.alias)?[e.alias]:e.alias||[])};case"condition":return function(t){i.Namespaces.get(e.namespace).conditionBlocks.register(t,e.identifier,r.isString(e.alias)?[e.alias]:e.alias||[])}}}},3062:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.condition=void 0;var r=n(2907);t.condition=function(e,t,n){r.defineMarker("condition",e,t,n,"single")}},6525:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.destroy=void 0;var r=n(2907);t.destroy=function(e,t,n){r.defineMarker("destroy",e,t,n)}},2920:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.validator=void 0;var r=n(2907);t.validator=function(e,t,n){r.defineMarker("validator",e,t,n,"single")}},3220:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.fingerprint=t.calculateFingerprintAndStencil=t.stencilValidator=t.fingerprintGenerator=void 0;var r=n(7701),i=n(2548),o=n(4061),a=n(2218),s=n(1668);function u(e){return new r.OntologyProcessor(o.Cluster,s.Node,i.Branch,a.Condition,e,t.fingerprintGenerator,t.stencilValidator)}t.fingerprintGenerator=function(e){var t;return e instanceof s.Node?((null===(t=e.props.block)||void 0===t?void 0:t.type)||"")+(e.props.disabled?"disabled":""):""},t.stencilValidator=function(e){return!!e.props.block},t.calculateFingerprintAndStencil=u,t.fingerprint=function(e){return u(e).fingerprint}},6907:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.markdownifyToPlainText=t.markdownifyTo=t.markdownifyToURL=t.markdownifyToString=t.markdownify=void 0;var r=n(4689),i=n(4389),o=n(5781),a=n(6769),s=o.CSHA2_256("id");function u(e,t){return e=e||"",t&r.MarkdownFeatures.Breaks?e:e.replace(/(\r\n|[\r\n])/g," ")}function c(e,t,n,i,o){return r.MarkdownParser.parse(e,{features:n,mentions:{numberOfChars:64,parser:function(e,r){if(a.isVariable(e)){var c=t&&t.variableFor(e,(function(e){return e.props.block&&e.props.block.slot}),a.localizeVariable,s);return c?{shift:64,value:{ref:c,get string(){return(o&&r>0?encodeURIComponent(u(null==c?void 0:c.string,n)):u(null==c?void 0:c.string,n))||i}}}:{shift:64,text:i}}}}})}t.markdownify=function(e,t,n){var o=n&&n.placeholder||"",a=n&&!i.isUndefined(n.features)?n.features:r.MarkdownFeatures.Formatting|r.MarkdownFeatures.Hyperlinks;if(n&&n.lineBreaks&&(a|=r.MarkdownFeatures.Breaks),t){var s=t.key+"/"+e+"/"+a+"/"+o;return t.instance.readFromCache(s)||t.instance.writeToCache(s,c(e,t,a,o,!1))}return c(e,void 0,a,o,!1)},t.markdownifyToString=function(e,t,n,o,a){if(void 0===n&&(n="___"),void 0===o&&(o=!1),void 0===a&&(a=r.MarkdownFeatures.None),!t)return c(e,void 0,a|(o?r.MarkdownFeatures.Breaks:0),n,!1).text;var s=t.key+"/"+e+"/"+n+"/"+o,u=t.instance.readFromCache(s);if(i.isString(u))return u;var l=u||t.instance.writeToCache(s,c(e,t,a|(o?r.MarkdownFeatures.Breaks:0),n,!1));return l.hasMentions?l.text:t.instance.writeToCache(s,l.text)},t.markdownifyToURL=function(e,t,n,o){if(void 0===n&&(n=""),void 0===o&&(o=[]),!t)return c(e,void 0,r.MarkdownFeatures.None,n,!0).text;var a=t.key+"/"+e+"/"+n+"/URL",s=t.instance.readFromCache(a);if(i.isString(s))return s;var u=s||t.instance.writeToCache(a,c(e,t,r.MarkdownFeatures.None,n,!0)),l=u.text,p=(/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,}))\.?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(l)||i.findFirst(o,(function(e){return 0===l.indexOf("data:"+e+";base64,")&&l.length>13+e.length})))&&l||"";return u.hasMentions?p:t.instance.writeToCache(a,p)},t.markdownifyTo=function(e,t,n){var o=n&&!i.isUndefined(n.features)?n.features:r.MarkdownFeatures.Formatting|r.MarkdownFeatures.Hyperlinks;n&&n.lineBreaks&&(o|=r.MarkdownFeatures.Breaks);var a=n&&n.placeholder||"";if(!t){var s=c(e,void 0,o,a,!1);if("reduce"in n)return s.reduce(n.reduce);if("map"in n)return s.map(n.map);throw new Error("You need to specify a reduce or map function.")}var u=t.key+"/"+("reduce"in n?"reduce":"map")+"/"+e+"/"+o+"/"+a,l=t.instance.readFromCache(u);if(!l||l instanceof r.MarkdownParser){s=l||t.instance.writeToCache(u,c(e,t,o,a,!1));var p=void 0;if("reduce"in n)p=s.reduce(n.reduce);else{if(!("map"in n))throw new Error("You need to specify a reduce or map function.");p=s.map(n.map)}return s.hasMentions?p:t.instance.writeToCache(u,p)}return l},t.markdownifyToPlainText=function(e){return r.MarkdownParser.parse(e,{features:r.MarkdownFeatures.Formatting|r.MarkdownFeatures.Hyperlinks|r.MarkdownFeatures.Breaks,mentions:{numberOfChars:64,parser:function(e){if(a.isVariable(e))return{shift:64,text:"___"}}}}).text}},3511:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.unmountNamespace=t.mountNamespace=t.Namespaces=void 0;var r=n(4389),i=n(1192),o=n(5074),a=n(3246),s=n(7448),u="default",c=function(){function e(){}return e.get=function(e){return e=e||this.m_sIdentifier,this.m_pNamespaces[e]||r.setAny(this.m_pNamespaces,e,{identifier:e,nodeBlocks:new o.NodeBlocksNamespace(e),conditionBlocks:new a.ConditionBlocksNamespace(e)})},e.isAvailable=function(e){return!!this.m_pNamespaces[e]},e.mount=function(e){this.m_sIdentifier!==e&&(this.m_pStack.push(this.m_sIdentifier),this.m_sIdentifier=e)},e.unmount=function(){this.m_sIdentifier=this.m_pStack.pop()||u},e.loadUMD=function(e){if(e){i.defineContext("TripettoRunner",s);try{return Function(e)(),!0}catch(e){return!1}}return!1},e.loadURL=function(e,t){i.loadScriptWithContext("TripettoRunner",e,s,"tripetto#runner",t)},e.unload=function(e){return!!this.m_pNamespaces[e]&&(r.setAny(this.m_pNamespaces,e,void 0),!0)},e.m_pNamespaces={},e.m_pStack=[],e.m_sIdentifier=u,e}();t.Namespaces=c,t.mountNamespace=function(e){c.mount(e)},t.unmountNamespace=function(){c.unmount()}},7282:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.NodeBlock=void 0;var r=n(4389),i=n(1479),o=n(5781),a=n(6907),s=n(6769),u=function(){function e(e,t){this.m_pKeys={},this.m_pNode=e,this.context=t}return Object.defineProperty(e.prototype,"view",{get:function(){return this.m_pNode.runner.isPreview?"preview":this.m_pNode.runner.isTest?"test":"live"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"validation",{get:function(){return this.context.validationOf(this.m_pNode)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"node",{get:function(){return this.m_pNode.props},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"props",{get:function(){return this.node.block},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shouldAutoRender",{get:function(){return this.type.autoRender||!1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shouldAutoValidate",{get:function(){return r.castToBoolean(this.type.autoValidate,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isFailed",{get:function(){return"fail"===this.validation},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isPassed",{get:function(){return"pass"===this.validation},enumerable:!1,configurable:!0}),e.prototype.slotOf=function(e,t){return this.m_pNode.slots.select(e,t)},e.prototype.valueOf=function(e,t,n){var r=e instanceof i.Slot?e.slots===this.m_pNode.slots&&e:this.slotOf(e,t);if(r){var o=this.context.mutableValueOf(r);if(o)return n&&(o.useModifier(n.modifier),n.onChange&&o.useListener(n.onChange),n.onContext&&o.useContext(n.onContext),n.prefill&&!o.hasValue&&o.set(n.prefill.value,n.prefill.reference),n.confirm&&o.confirm()),o}},e.prototype.immutableValueOf=function(e){return this.context.immutableValueOf(e)},e.prototype.variableFor=function(e){return this.context.variableFor(e,(function(e){return e.props.block&&e.props.block.slot}),s.localizeVariable)},e.prototype.parseVariables=function(e,t,n){return void 0===t&&(t=""),void 0===n&&(n=!1),a.markdownifyToString(e,this.context,t,n)},e.prototype.key=function(e){return void 0===e&&(e="default"),this.m_pKeys[e]||(this.m_pKeys[e]="_"+o.CSHA2_256(this.m_pNode.id+"/"+this.context.key+"/"+e))},e.prototype.rerender=function(){this.m_pNode.runner.rerender(this.context.instance)},e.prototype.lock=function(){var e=this;this.m_pNode.slots.each((function(t){var n=e.valueOf(t);n&&n.lock()}))},e.prototype.unlock=function(){var e=this;this.m_pNode.slots.each((function(t){var n=e.valueOf(t);n&&n.unlock()}))},e.prototype.clear=function(){var e=this;this.m_pNode.slots.each((function(t){var n=e.valueOf(t);n&&n.clear()}))},e}();t.NodeBlock=u},5074:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.NodeBlocksNamespace=void 0;var r=n(4389),i=function(){function e(e){this.m_pBlocks={},this.m_sIdentifier=e}return Object.defineProperty(e.prototype,"identifier",{get:function(){return this.m_sIdentifier},enumerable:!1,configurable:!0}),e.prototype.ofType=function(e){return this.m_pBlocks[e]},e.prototype.register=function(e,t,n,i,o,a){var s=this;if(this.m_pBlocks[t]&&this.m_pBlocks[t]!==e)throw new Error("Duplicate block '"+t+"' registered.");r.each(n,(function(t){if(s.m_pBlocks[t]&&s.m_pBlocks[t]!==e)throw new Error("Duplicate block '"+t+"' registered.");r.set(s.m_pBlocks,t,e)})),r.set(e,"identifier",t),r.set(e,"ref",i),r.set(e,"autoRender",o),r.set(e,"autoValidate",a),e.prototype.type=r.set(this.m_pBlocks,t,e)},e.prototype.create=function(e,t){if(e.props.block){var n=this.ofType(e.props.block.type);if(n)return new n(e,t)}},e}();t.NodeBlocksNamespace=i},8442:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.HeadlessBlock=void 0;var r=n(655),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.mutableValueOf=function(e){return this.context.mutableValueOf(e)},t}(n(7282).NodeBlock);t.HeadlessBlock=i},1668:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Node=void 0;var r=n(655),i=n(6148),o=n(2907),a=n(4389),s=n(7701),u=n(8442),c=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.m_pBlocks={},r.m_nRerender=0,r}return r.__extends(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this.hash},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"runner",{get:function(){return this.cluster.runner},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cluster",{get:function(){return this.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isVisible",{get:function(){if(this.props.disabled)return!1;var e=Object.keys(this.m_pBlocks),t=e.length>0&&this.m_pBlocks[e[0]]||void 0;return!(t instanceof u.HeadlessBlock||!(t||this.props.description||this.props.name&&a.castToBoolean(this.props.nameVisible,!0)))},enumerable:!1,configurable:!0}),t.prototype.block=function(e){var t=this.m_pBlocks[e.instance.id+e.key]||a.set(this.m_pBlocks,e.instance.id+e.key,this.runner.namespace.nodeBlocks.create(this,e));return t&&a.set(t,"context",e),t},t.prototype.onEnterCondition=function(e,t){if(this.props.disabled)return!1;var n=this.block(e);if(n){var r={callback:t},s=o.invokeMarker("condition",n,r);return!(a.isBoolean(s)||s instanceof i.Callback)||s}return!0},t.prototype.onEnter=function(e,t){var n=this,r=this.block(e);if(this.runner.onInstanceNode(e,this,t),r){if(r instanceof u.HeadlessBlock)return e.instance.createTransaction(this,(function(){return r.do(t)}));e.instance.data.unhookContext(r),e.instance.data.hook("OnValueChange","framed",(function(e){e.transducer===n&&t.done()}),r),r.shouldAutoRender&&e.instance.data.hook("OnValueChange","synchronous",(function(e){e.transducer===n&&(n.m_nRerender=a.scheduleAndCancelPromise((function(){n.m_nRerender=0,r.rerender()}),n.m_nRerender))}),r)}return t},t.prototype.onLeave=function(e){if(0!==this.m_nRerender&&(this.m_nRerender=a.cancelPromise(this.m_nRerender)),"paginated"===this.runner.mode){var t=this.block(e);t&&(e.instance.data.unhookContext(t),o.invokeMarker("destroy",t,{type:"left"}))}},t.prototype.onCancel=function(e){if(0!==this.m_nRerender&&(this.m_nRerender=a.cancelPromise(this.m_nRerender)),"paginated"===this.runner.mode){var t=this.block(e);t&&(e.instance.data.unhookContext(t),o.invokeMarker("destroy",t,{type:"canceled"}))}},t.prototype.onValidate=function(e,t,n){var r=this.block(e);if(r){if(r.shouldAutoValidate&&this.slots.each((function(t){if(t.required){var n=e.mutableValueOf(t);if(!n||!n.hasValue)return!0;if(!n.reference&&a.isString(n.value)&&""===n.value)return!0}return!1})))return!1;var s={callback:n,current:t},u=o.invokeMarker("validator",r,s);return u instanceof i.Callback&&r.rerender(),!(a.isBoolean(u)||u instanceof i.Callback)||u}return!0},t.prototype.onValidated=function(t,n,r){var i=this.block(t);i&&i.rerender(),e.prototype.onValidated.call(this,t,n,r)},t.prototype.onSideEffect=function(e){if(!this.props.disabled){var t=this.m_pBlocks[e.instance.id+e.key];t instanceof u.HeadlessBlock&&e.instance.createTransaction(this,(function(){return t.do()}))}},r.__decorate([s.ontology("nodes")],t)}(s.Transducer);t.Node=c},9881:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.parseRedirectURL=void 0;var r=n(6907);t.parseRedirectURL=function(e,t){if(e.redirectUrl){var n=r.markdownifyToURL(e.redirectUrl,t);if(n)return n}}},8371:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.RunnerFoundation=void 0;var r=n(655),i=n(2548),o=n(4061),a=n(2218),s=n(7701),u=n(4389),c=n(4066),l=n(6118),p=n(1668),h=n(3724),f=n(3511),d=n(3220),m=n(9881),g=function(e){function t(t){var n=e.call(this,o.Cluster,p.Node,i.Branch,a.Condition,function(){if(!t.definition)throw new Error("The runner cannot start because no valid definition was supplied!");return t.definition}(),d.fingerprintGenerator,d.stencilValidator,"progressive"===t.mode,!t.preview&&!t.test,t.preview?"compact":"disabled",t.l10n)||this;return n.m_pStories={},n.m_nClusters=0,n.m_nNodes=0,n.m_bTest=!1,n.m_sMode=t.mode,n.m_bTest=t.test||!1,n.m_sNamespace=t.namespace,t.data&&n.hook("OnInstanceStart","synchronous",(function(e){t.data(e.instance)})),n.hook("OnChange","synchronous",(function(e){n.onChange&&n.onChange(e)})),n.hook("OnRestart","framed",(function(e){n.onRestart&&n.onRestart(e.instance)})),n.isLoaded&&(u.isBoolean(t.start)?t.start:n.isPreview||t.snapshot)&&(n.isPreview||!t.snapshot||!n.restore(t.snapshot)&&!n.prologue)&&n.start(),n}return r.__extends(t,e),t.getInitialStoryline=function(e){return{moments:[],pages:[],presentMoment:void 0,presentCluster:void 0,presentNodes:[],activeNodes:[],uniqueNodes:[],isEvaluating:!1,isEmpty:!1,isAtStart:!1,isAtHead:!1,isAtFinish:!1,isFinishable:!1,isFinishing:!1,isFinished:!1,isPausing:!1,isPaused:!1,hasDataCollected:!1,isFailed:!1,isPassed:!1,mode:e,direction:"forward",count:0,enumerators:0,percentage:0,map:function(){return[]},stepForward:function(){return!1},stepBackward:function(){return!1},stepToStart:function(){return!1},stepToHead:function(){return!1},stepToPage:function(){return!1},finish:function(){return!1}}},Object.defineProperty(t.prototype,"handleChange",{get:function(){var e=this;return this.m_pChange||(this.m_pChange=new u.Debounce((function(n,r,i){if("started"===r||"finished"===r||"stopped"===r||"paused"===r||"mode"===r||!n||n.isRunning){var o=e.mode;e.emitHook("OnChange",{runner:e,instance:n,change:r,get storyline(){return i&&i.immutable||t.getInitialStoryline(o)}}),n&&e.onInstanceChange(n,r,i)}}),"promise"))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"namespace",{get:function(){return f.Namespaces.get(this.m_sNamespace)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"definition",{get:function(){return this.ontology},set:function(e){e&&this.reload(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"instance",{get:function(){return this.m_pInstance},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storyline",{get:function(){if(this.instance){var e=this.story(this.instance);return e&&e.storyline}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.definition&&this.definition.name||""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mode",{get:function(){return this.m_sMode},set:function(e){if(e!==this.m_sMode){var t="progressive"===e,n=this.storyline;n&&n.reset(),this.m_sMode=e,t===this.autoPushForward?n&&n.invalidate():this.autoPushForward=t,this.change(this.instance,"mode",!1)}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPreview",{get:function(){return"disabled"!==this.previewMode()},set:function(e){if(e!==this.isPreview){var t=this.storyline;t&&t.reset(),this.previewMode(e?"compact":"disabled"),e&&!this.isRunning?this.start():this.change(this.instance,"preview",!1)}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isTest",{get:function(){return this.m_bTest&&!this.isPreview},set:function(e){this.m_bTest=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"status",{get:function(){return this.isPreview?"preview":this.isEmpty?"empty":this.isFinishing?"finishing":this.isFinished?"finished":this.isStopped?"stopped":this.isPausing?"pausing":this.isPaused?"paused":this.isRunning?"running":"idle"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isEmpty",{get:function(){if(this.isFinished&&0===this.m_nNodes&&0===this.m_nClusters)return!0;var e=this.storyline;return e&&e.isEmpty||!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"prologue",{get:function(){var e,t;return(null===(e=this.ontology)||void 0===e?void 0:e.prologue)||(null===(t=this.ontology)||void 0===t?void 0:t.preface)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"epilogue",{get:function(){var e,t=this;return this.m_pEpilogue||r.__assign(r.__assign({},null===(e=this.ontology)||void 0===e?void 0:e.epilogue),{context:this.m_pContext,getRedirect:function(){var e;return t.m_pContext&&(null===(e=t.ontology)||void 0===e?void 0:e.epilogue)&&m.parseRedirectURL(t.ontology.epilogue,t.m_pContext)}})},enumerable:!1,configurable:!0}),t.prototype.story=function(e){var t=this.m_pStories;if(e.isRunning){var n=this,r=t[e.id]||u.set(t,e.id,{storyline:new h.Storyline({instance:e,get mode(){return n.mode},get checksum(){return r.checksum},get direction(){return r.direction||"forward"},get prologue(){return n.prologue},get epilogue(){return n.epilogue}})});return r.checksum=e.checksum,r}u.destroy(t,e.id)},t.prototype.change=function(e,t,n){if(!n||e&&e.isRunning){var r=e&&this.story(e);if(r)switch(t){case"forward":case"backward":if("progressive"===this.mode||this.isPreview)return;r.direction=t;break;case"started":r.storyline.invalidate()}this.handleChange.invoke(e,t,r&&r.storyline)}},t.prototype.onInstanceChange=function(e,t,n){},t.prototype.onInstanceStart=function(t){this.m_pInstance=t,this.m_nClusters=0,this.m_nNodes=0,this.m_pContext=void 0,this.m_pEpilogue=void 0,this.change(t,"started",!1),e.prototype.onInstanceStart.call(this,t)},t.prototype.onInstanceData=function(t,n){this.onData&&this.onData(t,n),e.prototype.onInstanceData.call(this,t,n)},t.prototype.onInstanceProcessing=function(t,n){n?this.handleChange.hold():this.handleChange.release(),e.prototype.onInstanceProcessing.call(this,t,n)},t.prototype.onInstanceStepForward=function(e,t){return!("progressive"===this.mode||!t||0!==t.transducers.count&&t.transducers.each((function(e){return e instanceof p.Node&&e.isVisible})))},t.prototype.onInstanceUpdate=function(t){this.change(t,"render",!0),e.prototype.onInstanceUpdate.call(this,t)},t.prototype.onInstanceFinishing=function(t,n){var r=this;if(this.change(t,"finishing",!1),this.onFinish){var i=this.onFinish(t),o=function(e,i){n(e,i),e||r.change(t,"finishing",!1)};return u.isBoolean(i)?o(i):i.then((function(e){return o(!0,e)})).catch((function(){return o(!1)})),!1}return e.prototype.onInstanceFinishing.call(this,t,n)},t.prototype.onInstanceEnd=function(t,n){this.change(t,n,!1),e.prototype.onInstanceEnd.call(this,t,n)},t.prototype.onInstanceCluster=function(e,t,n){this.m_pContext||(this.m_pContext=e),this.m_pEpilogue=void 0,this.m_nClusters++,this.change(e.instance,"render",!0)},t.prototype.onInstanceClusterEvaluating=function(e,t,n){this.change(e,"evaluating",!0)},t.prototype.onInstanceClusterLeave=function(e,t,n){},t.prototype.onInstanceBranchLeave=function(e,t){if(t.isFinish&&t.props.epilogue&&(!this.isPreview||t.isMain)){var n=!t.isMain&&t.id||void 0;this.m_pEpilogue&&this.m_pEpilogue.branch!==n||(this.m_pEpilogue=r.__assign(r.__assign({},t.props.epilogue),{branch:n,context:e,getRedirect:function(){return e&&t.props.epilogue&&m.parseRedirectURL(t.props.epilogue,e)}}))}},t.prototype.onInstanceNode=function(e,t,n){this.m_nNodes++,this.change(e.instance,"render",!0)},t.prototype.onInstanceProgress=function(e,t){this.change(e,"progress",!0)},t.prototype.onInstanceStep=function(e,t){this.change(e,t,!0)},t.prototype.onInstanceValidated=function(e,t,n){this.change(e,"validated",!0)},t.prototype.restore=function(e){if(!u.isNull(e)&&this.resume(e))return this.firstItem},t.prototype.reload=function(e,t){var n;void 0===t&&(t=!1);var r=JSON.stringify(e);if(r!==(this.m_sDefinition||JSON.stringify(this.definition))){var i=(null===(n=this.instance)||void 0===n?void 0:n.isRunning)&&this.instance||void 0,o=i&&c.Export.values(i);if(this.m_sDefinition=r,this.load(e),!t||o)return this.start(void 0,o&&function(e){l.Import.values(e.inherit(i),o)}||void 0)}if(!this.isRunning&&!t)return this.start()},t.prototype.restart=function(e){void 0===e&&(e=!1);var t=e&&this.instance&&this.instance.isRunning&&c.Export.values(this.instance);this.stop();var n=this.start();return t&&l.Import.values(n,t),this.emitHook("OnRestart",{runner:this,instance:n}),n},t.prototype.rerender=function(e){this.change(e,"render",!0)},t.prototype.stepForward=function(){var e=this.storyline;return e&&e.stepForward()||!1},t.prototype.stepBackward=function(){var e=this.storyline;return e&&e.stepBackward()||!1},t.prototype.stepToStart=function(){var e=this.storyline;return e&&e.stepToStart()||!1},t.prototype.stepToHead=function(){var e=this.storyline;return e&&e.stepToHead()||!1},t.prototype.finish=function(){var e=this.storyline;return e&&e.finish()||!1},t}(s.Ontology);t.RunnerFoundation=g},8297:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Moment=void 0;var r=n(4389),i=n(5781),o=n(8442),a=function(){function e(e,t){var n=this;this.m_pNodes=[],this.m_nEnumerators=0,this.m_pMoment=e,r.each(e.transducers,(function(a){var s=a.block(e.context);if(!(s instanceof o.HeadlessBlock)){var u=r.castToBoolean(a.props.nameVisible,!0);if(s||a.props.description||a.props.name&&u){var c="";n.nodes.push({id:a.id,get key(){return c||(c="_"+i.CSHA2_256(a.id+e.context.key))},node:a,props:a.props,block:s,context:e.context,get collectsData(){return a.slots.count>0},get hasDataCollected(){return a.slots.each((function(t){var n=e.context.mutableValueOf(t);return(null==n?void 0:n.hasValue)||!1}))},hasChanged:function(t){return void 0===t&&(t=!0),e.context.instance.hasChanged(a.id,t)},enumerator:function(){if(s&&a.slots.count>0&&u)return n.m_nEnumerators++,++t}(),get validation(){return s?s.validation:"pass"},get isFailed(){return!!s&&s.isFailed},get isPassed(){return!s||s.isPassed},observer:"present"===e.tense&&a.await||void 0})}}}))}return Object.defineProperty(e.prototype,"cluster",{get:function(){return this.m_pMoment.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nodes",{get:function(){return this.m_pNodes},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tense",{get:function(){return this.m_pMoment.tense},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isPast",{get:function(){return"past"===this.tense},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isPresent",{get:function(){return"present"===this.tense},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isFuture",{get:function(){return"future"===this.tense},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isEvaluating",{get:function(){return this.m_pMoment.state.isEvaluating},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isFailed",{get:function(){return!this.isEvaluating&&"fail"===this.cluster.getValidation(this.m_pMoment.context)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isPassed",{get:function(){return!this.isEvaluating&&"pass"===this.cluster.getValidation(this.m_pMoment.context)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"count",{get:function(){return this.nodes.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"enumerators",{get:function(){return this.m_nEnumerators},enumerable:!1,configurable:!0}),e.prototype.restore=function(){this.m_pMoment.restore()},e}();t.Moment=a},3724:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Storyline=void 0;var r=n(4389),i=n(8297),o=function(){function e(e){this.m_pMomentsCache={},this.m_nMoments=0,this.m_nCurrent=0,this.m_pPages=[],this.m_pOrchestrator=e}return Object.defineProperty(e.prototype,"checksum",{get:function(){return this.parseMoments(),this.m_sChecksum},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"immutable",{get:function(){var e,t,n=this,i=this.moments,o=[],a=!1,s=!0,u=0,c=0;return r.each(i,(function(n){o.push.apply(o,n.nodes),u+=n.count,c+=n.enumerators,!e&&n.isPresent&&(e=n,t=n.cluster),!a&&n.isEvaluating&&(a=!0),s&&n.nodes.length>0&&(s=!1)})),{moments:i,pages:this.pages,presentMoment:e,presentCluster:t,presentNodes:e&&e.nodes||[],activeNodes:o,get uniqueNodes(){var e={};return r.filter(o,(function(t){var n=t.id+t.context.key;return!e[n]&&(e[n]=!0)}))},isEvaluating:a,isEmpty:s,isAtStart:this.isAtStart,isAtHead:this.isAtHead,isAtFinish:this.isAtFinish,isFinishable:this.isFinishable,isFinishing:this.isFinishing,isFinished:this.isFinished,isPausing:this.isPausing,isPaused:this.isPaused,hasDataCollected:this.hasDataCollected,isFailed:e&&e.isFailed||!1,isPassed:e&&e.isPassed||!1,mode:this.mode,direction:this.direction,count:u,enumerators:c,percentage:this.presentCluster&&this.presentCluster.percentageInRunner||0,map:function(e){var t=0;return r.map(i,(function(n){return e(n,t++)}))},stepForward:function(){return n.stepForward()},stepBackward:function(){return n.stepBackward()},stepToStart:function(){return n.stepToStart()},stepToHead:function(){return n.stepToHead()},stepToPage:function(e){return n.stepToPage(e)},finish:function(){return n.finish()}}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"instance",{get:function(){return this.m_pOrchestrator.instance},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"moments",{get:function(){return this.parseMoments()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pages",{get:function(){return"paginated"===this.mode?(this.parseMoments(),this.m_pPages):[]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"activePage",{get:function(){if("paginated"===this.mode)return this.parseMoments(),r.findFirst(this.m_pPages,(function(e){return e.active}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"presentMoment",{get:function(){return r.findLast(this.moments,(function(e){return e.isPresent}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"presentCluster",{get:function(){var e=this.presentMoment;return e&&e.cluster},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"presentNodes",{get:function(){var e=this.presentMoment;return e&&e.nodes||[]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"activeNodes",{get:function(){var e=[];return r.each(this.moments,(function(t){e.push.apply(e,t.nodes)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uniqueNodes",{get:function(){var e=[],t={};return r.each(this.moments,(function(n){r.each(n.nodes,(function(n){var r=n.id+n.context.key;t[r]||(e.push(n),t[r]=!0)}))})),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isEvaluating",{get:function(){for(var e=this.moments,t=e.length,n=0;n<t;n++)if(e[n].isEvaluating)return!0;return!1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isChanged",{get:function(){var e=this.checksum,t=e!==this.m_sChecksumLast;return this.m_sChecksumLast=e,t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isEmpty",{get:function(){return!r.findFirst(this.moments,(function(e){return e.nodes.length>0}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isAtStart",{get:function(){return!!this.instance.isAtStart||"paginated"===this.mode&&(this.parseMoments(),this.m_pPages.length>0&&this.m_pPages[0].active)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isAtHead",{get:function(){return this.instance.isAtHead},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isAtFinish",{get:function(){return this.instance.isAtFinish},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isFinishable",{get:function(){return this.instance.isFinishable},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isFinishing",{get:function(){return this.instance.isFinishing},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isFinished",{get:function(){return this.instance.isFinished},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isPausing",{get:function(){return this.instance.isPausing},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isPaused",{get:function(){return this.instance.isPaused},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasDataCollected",{get:function(){return this.instance.hasDataCollected},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isFailed",{get:function(){var e=this.presentMoment;return e&&e.isFailed||!1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isPassed",{get:function(){var e=this.presentMoment;return e&&e.isPassed||!1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mode",{get:function(){return this.instance.isPreview?"progressive":this.m_pOrchestrator.mode},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"direction",{get:function(){return this.m_pOrchestrator.direction},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"count",{get:function(){var e=0;return r.each(this.moments,(function(t){e+=t.count})),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"enumerators",{get:function(){var e=0;return r.each(this.moments,(function(t){e+=t.enumerators})),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"percentage",{get:function(){return this.presentCluster&&this.presentCluster.percentageInRunner||0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"prologue",{get:function(){return this.m_pOrchestrator.prologue},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"epilogue",{get:function(){return this.m_pOrchestrator.epilogue},enumerable:!1,configurable:!0}),e.prototype.parseMoments=function(){var e=this,t=this.m_pOrchestrator.checksum;if(this.instance.isRunning){if(!this.m_pMoments||this.m_sChecksum!==t){var n=[],r=this.instance.history,o=void 0,a=!1,s=0,u=0;this.m_nMoments=r.length,this.m_nCurrent=0,this.m_pPages=[];for(var c=function(t){var c=r[t];if(a&&"continuous"===l.mode)return"break";var p=l.m_pMomentsCache[c.checksum]||(l.m_pMomentsCache[c.checksum]=new i.Moment(c,s));p.count>0&&(s+=p.enumerators,"present"!==c.tense&&"paginated"===l.mode||n.push(p),o=p),"paginated"===l.mode&&"present"===c.tense&&0===n.length&&o&&n.push(o),a=a||"present"===c.tense,"paginated"===l.mode&&p.count>0&&(a&&0===l.m_nCurrent&&(l.m_nCurrent=t+1),l.m_pPages.push({number:++u,active:l.m_nCurrent===t+1,activate:function(){return e.stepToPage(t+1)}}))},l=this,p=0;p<this.m_nMoments&&"break"!==c(p);p++);this.m_pMoments=n,this.m_sChecksum=t}}else this.m_sChecksum=void 0,this.invalidate();return this.m_pMoments||[]},e.prototype.invalidate=function(){this.m_pMoments=void 0,this.m_nMoments=0,this.m_nCurrent=0},e.prototype.reset=function(){this.m_pMomentsCache={}},e.prototype.map=function(e){var t=0;return r.map(this.moments,(function(n){return e(n,t++)}))},e.prototype.stepForward=function(){return this.instance.stepForward()},e.prototype.stepBackward=function(){if("paginated"===this.mode){this.parseMoments();for(var e=1;e<this.m_pPages.length;e++)if(this.m_pPages[e].active)return this.m_pPages[e-1].activate(),!0}return this.instance.stepBackward()},e.prototype.stepToStart=function(){return"paginated"===this.mode&&(this.parseMoments(),this.m_pPages.length>0)?(this.m_pPages[0].activate(),!0):this.instance.stepToStart()},e.prototype.stepToHead=function(){return this.instance.stepToHead()},e.prototype.stepToPage=function(e){var t=this.instance.history;return e>0&&e<=t.length&&(t[e-1].restore(),!0)},e.prototype.finish=function(){return this.instance.finish()},e.prototype.getNodeByKey=function(e){var t;return r.findFirst(this.moments,(function(n){return!!(t=r.findFirst(n.nodes,(function(t){return t.key===e})))})),t},e.prototype.getKeyByNodeId=function(e){var t;return r.findFirst(this.moments,(function(n){return!!(t=r.findFirst(n.nodes,(function(t){return t.id===e})))})),t?t.key:void 0},e}();t.Storyline=o},6769:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.isVariable=t.localizeVariable=void 0;var r=n(1479);t.localizeVariable=function(e,t){if(e.slot instanceof r.Numeric){if(e.slot.digits)return e.slot.toString(e.value);var n=e.slot.toValue(e.value);return e.slot.formatString(t.l10n.locale.number(n,e.slot.precision,!!e.slot.separator),1!==n)}if(e.slot instanceof r.Date)return e.slot.supportsTime?t.l10n.locale.dateTimeFull(e.slot.toValue(e.value),!0):t.l10n.locale.dateFull(e.slot.toValue(e.value),!0)},t.isVariable=function(e){return!(!e||64!==e.length||!/[A-Fa-f0-9]{64}/.test(e))}},7448:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.L10n=t.AES=t.SHA2=t.Slots=t.powDuration=t.powSpentTime=t.powHashRate=t.powVerify=t.powSolve=t.checksum=t.stencil=t.calculateFingerprintAndStencil=t.fingerprint=t.destroy=t.validator=t.condition=t.block=t.tripetto=t.unmountNamespace=t.mountNamespace=t.Namespaces=t.Export=t.Import=t.Moment=t.Storyline=t.isVariable=t.MarkdownFeatures=t.markdownifyToURL=t.markdownifyToPlainText=t.markdownifyToString=t.markdownifyTo=t.markdownify=t.NodeBlocksNamespace=t.HeadlessBlock=t.NodeBlock=t.Node=t.RunnerFoundation=t.Cluster=t.Branch=t.ConditionBlocksNamespace=t.ConditionBlock=t.Condition=t.Slot=t.Value=t.Instance=t.Errors=t.Data=t.Context=t.VERSION=t.NAME=void 0;var r=n(655);t.NAME="tripetto-runner-foundation",t.VERSION="6.2.5";var i=n(7701);Object.defineProperty(t,"Context",{enumerable:!0,get:function(){return i.Context}}),Object.defineProperty(t,"Data",{enumerable:!0,get:function(){return i.Data}}),Object.defineProperty(t,"Errors",{enumerable:!0,get:function(){return i.Errors}}),Object.defineProperty(t,"Instance",{enumerable:!0,get:function(){return i.Instance}}),Object.defineProperty(t,"Value",{enumerable:!0,get:function(){return i.Value}});var o=n(1479);Object.defineProperty(t,"Slot",{enumerable:!0,get:function(){return o.Slot}});var a=n(2218);Object.defineProperty(t,"Condition",{enumerable:!0,get:function(){return a.Condition}});var s=n(3575);Object.defineProperty(t,"ConditionBlock",{enumerable:!0,get:function(){return s.ConditionBlock}});var u=n(3246);Object.defineProperty(t,"ConditionBlocksNamespace",{enumerable:!0,get:function(){return u.ConditionBlocksNamespace}});var c=n(2548);Object.defineProperty(t,"Branch",{enumerable:!0,get:function(){return c.Branch}});var l=n(4061);Object.defineProperty(t,"Cluster",{enumerable:!0,get:function(){return l.Cluster}});var p=n(8371);Object.defineProperty(t,"RunnerFoundation",{enumerable:!0,get:function(){return p.RunnerFoundation}});var h=n(1668);Object.defineProperty(t,"Node",{enumerable:!0,get:function(){return h.Node}});var f=n(7282);Object.defineProperty(t,"NodeBlock",{enumerable:!0,get:function(){return f.NodeBlock}});var d=n(8442);Object.defineProperty(t,"HeadlessBlock",{enumerable:!0,get:function(){return d.HeadlessBlock}});var m=n(5074);Object.defineProperty(t,"NodeBlocksNamespace",{enumerable:!0,get:function(){return m.NodeBlocksNamespace}});var g=n(6907);Object.defineProperty(t,"markdownify",{enumerable:!0,get:function(){return g.markdownify}}),Object.defineProperty(t,"markdownifyTo",{enumerable:!0,get:function(){return g.markdownifyTo}}),Object.defineProperty(t,"markdownifyToString",{enumerable:!0,get:function(){return g.markdownifyToString}}),Object.defineProperty(t,"markdownifyToPlainText",{enumerable:!0,get:function(){return g.markdownifyToPlainText}}),Object.defineProperty(t,"markdownifyToURL",{enumerable:!0,get:function(){return g.markdownifyToURL}});var b=n(4689);Object.defineProperty(t,"MarkdownFeatures",{enumerable:!0,get:function(){return b.MarkdownFeatures}});var y=n(6769);Object.defineProperty(t,"isVariable",{enumerable:!0,get:function(){return y.isVariable}});var _=n(3724);Object.defineProperty(t,"Storyline",{enumerable:!0,get:function(){return _.Storyline}});var v=n(8297);Object.defineProperty(t,"Moment",{enumerable:!0,get:function(){return v.Moment}});var S=n(6118);Object.defineProperty(t,"Import",{enumerable:!0,get:function(){return S.Import}});var P=n(4066);Object.defineProperty(t,"Export",{enumerable:!0,get:function(){return P.Export}});var O=n(3511);Object.defineProperty(t,"Namespaces",{enumerable:!0,get:function(){return O.Namespaces}}),Object.defineProperty(t,"mountNamespace",{enumerable:!0,get:function(){return O.mountNamespace}}),Object.defineProperty(t,"unmountNamespace",{enumerable:!0,get:function(){return O.unmountNamespace}});var C=n(7240);Object.defineProperty(t,"tripetto",{enumerable:!0,get:function(){return C.tripetto}}),Object.defineProperty(t,"block",{enumerable:!0,get:function(){return C.tripetto}});var k=n(3062);Object.defineProperty(t,"condition",{enumerable:!0,get:function(){return k.condition}});var x=n(2920);Object.defineProperty(t,"validator",{enumerable:!0,get:function(){return x.validator}});var T=n(6525);Object.defineProperty(t,"destroy",{enumerable:!0,get:function(){return T.destroy}});var M=n(3220);Object.defineProperty(t,"fingerprint",{enumerable:!0,get:function(){return M.fingerprint}}),Object.defineProperty(t,"calculateFingerprintAndStencil",{enumerable:!0,get:function(){return M.calculateFingerprintAndStencil}});var w=n(3383);Object.defineProperty(t,"stencil",{enumerable:!0,get:function(){return w.stencil}});var I=n(5646);Object.defineProperty(t,"checksum",{enumerable:!0,get:function(){return I.checksum}});var E=n(6093);Object.defineProperty(t,"powSolve",{enumerable:!0,get:function(){return E.powSolve}}),Object.defineProperty(t,"powVerify",{enumerable:!0,get:function(){return E.powVerify}}),Object.defineProperty(t,"powHashRate",{enumerable:!0,get:function(){return E.powHashRate}}),Object.defineProperty(t,"powSpentTime",{enumerable:!0,get:function(){return E.powSpentTime}}),Object.defineProperty(t,"powDuration",{enumerable:!0,get:function(){return E.powDuration}}),r.__exportStar(n(6148),t),r.__exportStar(n(4389),t),r.__exportStar(n(1285),t),t.Slots=n(1479),t.SHA2=n(5781),t.AES=n(3e3),t.L10n=n(5466)},655:function(e,t,n){n.r(t),n.d(t,{__extends:function(){return i},__assign:function(){return o},__rest:function(){return a},__decorate:function(){return s},__param:function(){return u},__metadata:function(){return c},__awaiter:function(){return l},__generator:function(){return p},__createBinding:function(){return h},__exportStar:function(){return f},__values:function(){return d},__read:function(){return m},__spread:function(){return g},__spreadArrays:function(){return b},__spreadArray:function(){return y},__await:function(){return _},__asyncGenerator:function(){return v},__asyncDelegator:function(){return S},__asyncValues:function(){return P},__makeTemplateObject:function(){return O},__importStar:function(){return k},__importDefault:function(){return x},__classPrivateFieldGet:function(){return T},__classPrivateFieldSet:function(){return M}});var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function p(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var h=Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function f(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||h(t,e,n)}function d(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e}function b(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function y(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function _(e){return this instanceof _?(this.v=e,this):new _(e)}function v(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof _?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(e){l(o[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function S(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:_(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function P(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=d(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function O(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var C=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function k(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&h(t,e,n);return C(t,e),t}function x(e){return e&&e.__esModule?e:{default:e}}function T(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function M(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n}}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var o=n[e]={exports:{}};return t[e].call(o.exports,o,o.exports,r),o.exports}r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i=r(341);e.exports=i}()}}]);
//# sourceMappingURL=526ace08-88f4519ee716844f5f0f.js.map